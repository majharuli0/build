import{W as T,V as k,r as n,b as y,u as w,aJ as m,aK as U,l as o,j as _,aL as D,U as x,aM as E}from"./index-CH_40pe4.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new s.Error().stack;r&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[r]="51ac480b-5758-4259-b60d-4e21c835f0c5",s._sentryDebugIdIdentifier="sentry-dbid-51ac480b-5758-4259-b60d-4e21c835f0c5")}catch{}function L(){const s=T(),r=k(),{role:a}=r.state||{},[i,u]=n.useState(!0);console.log(s.id,a);const{setStoreRole:c,setUser:d}=y(),t=w(),f=()=>{let e=o.get("user");const h=x();o.get("rootToken")||(o.set("rootToken",h),o.set("rootRole",e.role))},g=e=>{E(e)},l=n.useCallback(()=>{m(s.id).then(e=>{e.data&&b(e.data)}).catch(e=>{console.log(e)}),U(s.id).then(e=>{console.log(e),f(),g(e.data.access_token)}).catch(e=>{console.log(e)})},[a,s.id]),p=e=>{e=="super_admin"?t("/support-agent/dashboard/"):e=="supports_agent"?t("/supporter/support-agent/dashboard"):e=="nurse"?t("/supporter/nurse/dashboard"):e=="end_user"?t("/supporter/end-user/dashboard"):t("/support-nurnt/dashboard")};function b(e){o.set("user",e),o.set("mainRole",e.role),o.set("role",e.role),c({role:e.role}),d({role:e.role}),setTimeout(()=>{u(!1),p(e==null?void 0:e.role)},1500)}if(n.useEffect(()=>{l()},[l]),i)return _.jsx(D,{loaderTitle:"Loading User Profile"})}export{L as default};
//# sourceMappingURL=index-Up1z_dZB.js.map
