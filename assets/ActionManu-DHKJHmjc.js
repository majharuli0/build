import{r as n,j as t,a9 as b,aE as j,aF as v,_ as f,H as y,aD as E}from"./index-D8PVS7w1.js";import{f as x}from"./helper-1K05DbU_.js";import{H as D}from"./index-dgSHmy5e.js";import{S as k,b as C}from"./SuccessModal-C0S-SWWd.js";import{b as S}from"./index-CN7eBcWU.js";import"./UseCustomContext-BS80p4Y7.js";import{u as _}from"./elderlySupport-DqkHJnKa.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new e.Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="a89c93bb-0021-4894-8c45-2164d23a1cd5",e._sentryDebugIdIdentifier="sentry-dbid-a89c93bb-0021-4894-8c45-2164d23a1cd5")}catch{}const F=({date:e})=>{const[s,o]=n.useState(()=>x(e));return n.useEffect(()=>{console.log("Effect is running with date:",e);const a=()=>{const c=x(e);console.log("New duration:",c),o(c)};a();const r=setInterval(a,6e4);return()=>clearInterval(r)},[e]),t.jsx(t.Fragment,{children:s})};function P({row:e}){const[s,o]=n.useState(!1),[a,r]=n.useState(!1),[c,d]=n.useState(!1),i=n.useContext(b),g=l=>{o(l)},p=l=>{_({id:l.id,data:{event_status:l.event_status}}).then(m=>{f.custom(u=>t.jsx(y,{t:u,text:"Event Status Updated Successfully!"})),i==null||i.getList()}).catch(m=>{f.custom(u=>t.jsx(E,{t:u,title:"Error",text:m.message}))})},h=t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex items-center gap-1 flex-col m-2",children:[t.jsxs("span",{onClick:()=>d(!0),className:"flex items-center gap-2 justify-start p-2 px-4 w-full mt-2 rounded-md hover:bg-[#008000]/10 cursor-pointer",children:[t.jsx(C,{color:"green"})," Mark As Done"]}),t.jsxs("span",{onClick:()=>r(!0),className:"flex items-center gap-2 justify-start p-2 px-4 mb-2 w-full rounded-md hover:bg-red-500/10 cursor-pointer",children:[t.jsx(S,{color:"red"}),"Close Event"]})]})});return t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{onClick:()=>o(!0),className:"cursor-pointer p-2 hover:bg-[#E8E9EE] rounded-full",children:t.jsx(D,{className:"cursor-pointer"})}),t.jsx(j,{open:s,onOpenChange:g,content:h,placement:"leftTop",trigger:"click"}),t.jsx(v,{onDelete:()=>p({id:e==null?void 0:e._id,event_status:"closed"}),modalOPen:a,setModalOpen:r,title:"Are you sure you want to mark this event as close?",title2:"This process cannot be undone.",okText:"Close Event"}),t.jsx(k,{modalOPen:c,setModalOpen:d,onOk:()=>p({id:e==null?void 0:e._id,event_status:"open"}),title:"Are you sure you want to mark this event as completed?",title2:"This process cannot be undone."})]})}export{F as A,P as a};
//# sourceMappingURL=ActionManu-DHKJHmjc.js.map
