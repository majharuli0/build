import{c as j,u as N,r,j as t,F as T}from"./index-DKEPlPMw.js";import{D as k}from"./index-Mr-75G0S.js";import{T as A}from"./index-BwAkWmtI.js";import{B as I}from"./index-Btg4FvU-.js";import"./index-BT4hYpAt.js";function S(i){return console.log(i),j({url:"/boot/active/web/closed/active/page",method:"post",data:i})}const U=()=>{N();const[i,o]=r.useState("AII"),[l,n]=r.useState({current:1,size:10,priority:void 0,radarRoomId:void 0}),[x,C]=r.useState([{text:"AII",bo:!0,warring:!1},{text:"Critical",bo:!0,warring:!1},{text:"Warning",bo:!0,warring:!1}]),[m,p]=r.useState([]),[f,u]=r.useState(0),h=s=>{n({...l,current:s})},y=[{title:"Alert",dataIndex:"name",key:"key",render:(s,e)=>t.jsx("div",{className:"flex items-center text-14px text-cblock font-[500]",children:t.jsx("div",{className:"ml-[10px]",children:e.alertName})})},{title:"Type",dataIndex:"alarmTypeTrendValue",key:"alarmTypeTrendValue",width:"150",render:s=>t.jsx(A,{text:s})},{title:"Alert Time",dataIndex:"displayAlertTime",key:"displayAlertTime",render:s=>t.jsxs("div",{className:"flex items-center text-14px text-cblock font-[500]",children:[" ",s]})},{title:"Elderly",dataIndex:"ActiveAlert",key:"ActiveAlert",render:(s,e)=>t.jsx("div",{className:"flex items-center text-14px text-cblock font-[500]",children:t.jsxs("div",{children:[e.firstName," ",e.lastName," ",e!=null&&e.roomNumber?`(${e.roomNumber})`:""]})})},{title:"Alert Closed Time",dataIndex:"displayClosedTime",key:"displayClosedTime",render:s=>t.jsxs("div",{className:"flex items-center text-14px text-cblock font-[500]",children:[" ",s]})},{title:"Alert Life",dataIndex:"alertLife",key:"alertLife",render:s=>t.jsxs("div",{className:"flex items-center text-14px text-cblock font-[500]",children:[" ",s]})},{title:"Closed By",dataIndex:"Allergies",key:"Allergies",render:(s,e)=>{var a,c,d;return t.jsxs("div",{className:"flex items-center text-14px text-cblock font-[500]",children:[" ",(a=e==null?void 0:e.doneUserMap)==null?void 0:a.role,e!=null&&e.doneUserMap?`(${(c=e==null?void 0:e.doneUserMap)==null?void 0:c.lastName}${(d=e==null?void 0:e.doneUserMap)==null?void 0:d.firstName})`:""]})}},{title:"Comment",dataIndex:"comment",key:"comment",render:s=>t.jsxs("div",{className:"flex items-center text-14px text-cblock font-[500]",children:[" ",s]})}],v=s=>{const{key:e}=s;let a;e==1?a=2:e==2?a=1:e==3&&(a=0),n({...l,priority:a})},b=s=>{n({current:1,size:10,radarRoomId:s})},g=()=>{S({...l}).then(s=>{let{data:{records:e,total:a}}=s;console.log(e),p(e),u(a)})};return r.useEffect(()=>{g(),console.log(l)},[l]),t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex h-[100px] justify-between  items-center mr-[50px] ",children:[t.jsx("div",{className:"text-[28px] font-semibold",children:"Alerts History"}),t.jsx(I,{placeholder:"Search for Elderly or Room... ",handBlurchange:b})]}),t.jsxs("div",{className:"  mb-[30px] pt-[0px]",children:[t.jsx("div",{className:" pb-[10px] flex",children:t.jsx(k,{menus:x,activeTab:i,setActiveTab:o,handleChange:v})}),t.jsx("div",{className:" bg-white rounded-2xl",children:t.jsx("div",{className:" grid grid-cols-1 pt-[20px]",children:t.jsx(T,{columns:y,dataSource:m,pagination:{total:f,pageSize:l.size,onChange:h},className:"newTable"})})})]})]})};export{U as default};
