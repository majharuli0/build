import{b2 as P,u as S,j as e,_ as C,bA as T,z as h,ba as y,a7 as N,r as i,bB as A,bC as L}from"./index-2UQ-37Xq.js";import{l as O,r as k}from"./roleLogo-DSocWfPB.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new s.Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="9758fb9a-23c3-414f-aa18-7dbbf496c6a7",s._sentryDebugIdIdentifier="sentry-dbid-9758fb9a-23c3-414f-aa18-7dbbf496c6a7")}catch{}const B=({setStep:s,setEmail:a})=>{const{register:m,handleSubmit:p,formState:{errors:n}}=P(),x=S(),u=async d=>{T({email:d.email}).then(c=>{a(d.email),s("verify"),h.custom(o=>e.jsx(y,{t:o,text:"OTP sent to your email!",title:"Success!"}))}).catch(c=>{h.custom(o=>{var w,r;return e.jsx(N,{t:o,text:((r=(w=c==null?void 0:c.response)==null?void 0:w.data)==null?void 0:r.message)||c.response,title:"Error"})})})};return e.jsxs("div",{className:"w-[470px]",children:[e.jsx("h1",{className:"font-bold text-[36px] ",children:"Forgot Password"}),e.jsx("p",{className:"text-gray-600 text-[16px] font-[400] mt-2",children:"Please Enter Your Email Address To Reset Your Password."}),e.jsxs("form",{onSubmit:p(u),className:"lg:w-[470px] pt-10",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("label",{htmlFor:"email",className:"mb-1 font-[500] text-[14px] text-[#1B2559]",children:["Email ",e.jsx("span",{className:"",children:"*"})]}),e.jsx("input",{className:"py-[18px] px-[16px] h-[50px] text-[#3D4854] placeholder:text-[#A3AED0]  rounded-[16px] w-full text-[16px] outline-none  border-[1px] focus:border-primary",type:"email",placeholder:"yourname@example.com",id:"email",...m("email",{required:{value:!0,message:"Please enter a valid e-mail address"}})}),n.email&&e.jsx("span",{className:"text-sm mt-1 text-red-500",children:n.email.message})]}),e.jsx(C,{className:"w-full h-[50px] font-[700] text-[14px] rounded-[18px] mt-6",type:"submit",children:"Send OTP"}),e.jsx("button",{type:"button",onClick:()=>x("/"),className:"text-primary text-base mt-4 hover:text-primary/80 transition w-full mx-auto",children:"← Back to Login"})]})]})},D=({setStep:s,email:a,setIsOtpVerified:m})=>{const{register:p,handleSubmit:n,formState:{errors:x}}=P(),u=S(),[d,c]=i.useState(!1),[o,w]=i.useState(!1),[r,g]=i.useState(0);i.useEffect(()=>{let t;return r>0&&(t=setInterval(()=>{g(l=>l-1)},1e3)),()=>clearInterval(t)},[r]);const v=async t=>{c(!0),A({email:a,otp:t.otp}).then(()=>{m(!0),s("reset"),h.custom(l=>e.jsx(y,{t:l,text:"OTP verified successfully!",title:"Success!"}))}).catch(l=>{h.custom(b=>{var f,E;return e.jsx(N,{t:b,text:((E=(f=l==null?void 0:l.response)==null?void 0:f.data)==null?void 0:E.message)||l.response,title:"Error"})})}).finally(()=>c(!1))},j=async()=>{w(!0),T({email:a}).then(()=>{h.custom(t=>e.jsx(y,{t,text:"OTP resent to your email!",title:"Success!"})),g(30)}).catch(t=>{h.custom(l=>{var b,f;return e.jsx(N,{t:l,text:((f=(b=t==null?void 0:t.response)==null?void 0:b.data)==null?void 0:f.message)||t.response,title:"Error"})})}).finally(()=>w(!1))};return e.jsxs("div",{className:"w-[470px]",children:[e.jsx("h1",{className:"font-bold text-[36px]",children:"Verify OTP"}),e.jsxs("p",{className:"text-gray-600 text-[16px] font-[400] mt-2",children:["Enter the OTP sent to ",e.jsx("span",{className:"font-semibold",children:a})]}),e.jsxs("form",{onSubmit:n(v),className:"lg:w-[470px] pt-10",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("label",{htmlFor:"otp",className:"mb-1 font-[500] text-[14px] text-[#1B2559]",children:["OTP ",e.jsx("span",{className:"text-blue-600",children:"*"})]}),e.jsx("input",{className:"py-[18px] px-[16px] h-[50px] text-[#3D4854] placeholder:text-[#A3AED0] rounded-[16px] w-full text-[16px] outline-none border-[1px] focus:border-primary",type:"text",placeholder:"Enter OTP",id:"otp",...p("otp",{required:{value:!0,message:"Please enter the OTP"},pattern:{value:/^\d{6}$/,message:"OTP must be 6 digits"}})}),x.otp&&e.jsx("span",{className:"text-sm mt-1 text-red-500",children:x.otp.message})]}),e.jsx(C,{className:"w-full h-[50px] font-[700] text-[14px] rounded-[18px] mt-6 disabled:opacity-50",type:"submit",disabled:d,children:d?"Verifying...":"Verify OTP"}),e.jsx("button",{type:"button",onClick:j,disabled:o||r>0,className:`text-blue-600 text-base mt-4 transition w-full mx-auto ${o||r>0?"opacity-50 cursor-not-allowed":"hover:text-blue-800"}`,children:o?"Resending...":r>0?`Resend OTP in ${r}s`:"Resend OTP"}),e.jsx("button",{type:"button",onClick:()=>u("/"),className:"text-primary text-base mt-4 hover:text-primary/80 transition w-full mx-auto",children:"← Back to Login"})]})]})},R=({setStep:s,email:a,setIsOtpVerified:m})=>{const{register:p,handleSubmit:n,watch:x,formState:{errors:u}}=P(),[d,c]=i.useState(!1),[o,w]=i.useState(!1),r=x("password"),g=S(),v=async j=>{L({email:a,password:j.password}).then(t=>{m(!0),s("reset"),h.custom(l=>e.jsx(y,{t:l,text:"Password reset successfully!",title:"Success!"})),g("/")}).catch(t=>{h.custom(l=>{var b,f;return e.jsx(N,{t:l,text:((f=(b=t==null?void 0:t.response)==null?void 0:b.data)==null?void 0:f.message)||t.response,title:"Error"})})})};return e.jsxs("div",{className:"w-[470px]",children:[e.jsx("h1",{className:"font-bold text-[36px] ",children:"Reset Password"}),e.jsx("p",{className:"text-gray-600 text-[16px] font-[400] mt-2",children:"Enter your new password"}),e.jsxs("form",{onSubmit:n(v),className:"lg:w-[470px] pt-10",children:[e.jsxs("div",{className:"flex flex-col items-start mb-5",children:[e.jsxs("label",{htmlFor:"password",className:"mb-1 font-[500] text-[14px] text-[#1B2559]",children:["Password ",e.jsx("span",{className:"text-blue-600",children:"*"})]}),e.jsxs("div",{className:"w-full relative",children:[e.jsx("input",{className:"py-[18px] px-[16px] h-[50px] text-[#3D4854] placeholder:text-[#A3AED0]  rounded-[16px] w-full text-[16px] outline-none  border-[1px] focus:border-primary",type:d?"text":"password",placeholder:"Enter new password",id:"password",...p("password",{required:{value:!0,message:"Please enter a password"},minLength:{value:8,message:"Password must be at least 8 characters"}})}),e.jsx("button",{type:"button",className:"absolute top-[27%] right-[10px]",onClick:()=>c(!d),children:d?e.jsx("svg",{className:"text-[25px] text-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5a2.5 2.5 0 0 1 0 5a2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"})}):e.jsx("svg",{className:"text-[25px] text-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M2 5.27L3.28 4L20 20.72L18.73 22l-3.08-3.08c-1.15.38-2.37.58-3.65.58c-5 0-9.27-3.11-11-7.5c.69-1.76 1.79-3.31 3.19-4.54zM12 9a3 3 0 0 1 3 3a3 3 0 0 1-.17 1L11 9.17A3 3 0 0 1 12 9m0-4.5c5 0 9.27 3.11 11 7.5a11.79 11.79 0 0 1-4 5.19l-1.42-1.43A9.862 9.862 0 0 0 20.82 12A9.821 9.821 0 0 0 12 6.5c-1.09 0-2.16.18-3.16.5L7.3 5.47c1.44-.62 3.03-.97 4.7-.97M3.18 12A9.821 9.821 0 0 0 12 17.5c.69 0 1.37-.07 2-.21L11.72 15A3.064 3.064 0 0 1 9 12.28L5.6 8.87c-.99.85-1.82 1.91-2.42 3.13"})})})]}),u.password&&e.jsx("span",{className:"text-sm mt-1 text-red-500",children:u.password.message})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("label",{htmlFor:"confirmPassword",className:"mb-1 font-[500] text-[14px] text-[#1B2559]",children:["Confirm Password ",e.jsx("span",{className:"text-blue-600",children:"*"})]}),e.jsxs("div",{className:"w-full relative",children:[e.jsx("input",{className:"py-[18px] px-[16px] h-[50px] text-[#3D4854] placeholder:text-[#A3AED0]  rounded-[16px] w-full text-[16px] outline-none  border-[1px] focus:border-primary",type:o?"text":"password",placeholder:"Confirm new password",id:"confirmPassword",...p("confirmPassword",{required:{value:!0,message:"Please confirm your password"},validate:j=>j===r||"Passwords do not match"})}),e.jsx("button",{type:"button",className:"absolute top-[27%] right-[10px]",onClick:()=>w(!o),children:o?e.jsx("svg",{className:"text-[25px] text-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5a2.5 2.5 0 0 1 0 5a2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"})}):e.jsx("svg",{className:"text-[25px] text-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M2 5.27L3.28 4L20 20.72L18.73 22l-3.08-3.08c-1.15.38-2.37.58-3.65.58c-5 0-9.27-3.11-11-7.5c.69-1.76 1.79-3.31 3.19-4.54zM12 9a3 3 0 0 1 3 3a3 3 0 0 1-.17 1L11 9.17A3 3 0 0 1 12 9m0-4.5c5 0 9.27 3.11 11 7.5a11.79 11.79 0 0 1-4 5.19l-1.42-1.43A9.862 9.862 0 0 0 20.82 12A9.821 9.821 0 0 0 12 6.5c-1.09 0-2.16.18-3.16.5L7.3 5.47c1.44-.62 3.03-.97 4.7-.97M3.18 12A9.821 9.821 0 0 0 12 17.5c.69 0 1.37-.07 2-.21L11.72 15A3.064 3.064 0 0 1 9 12.28L5.6 8.87c-.99.85-1.82 1.91-2.42 3.13"})})})]}),u.confirmPassword&&e.jsx("span",{className:"text-sm mt-1 text-red-500",children:u.confirmPassword.message})]}),e.jsx(C,{className:"w-full h-[50px] font-[700] text-[14px] rounded-[18px] mt-6",type:"submit",children:"Reset Password"}),e.jsx("button",{type:"button",onClick:()=>g("/"),className:"text-primary text-base mt-4 hover:text-primary/80 transition w-full mx-auto",children:"← Back to Login"})]})]})},M=()=>{const[s,a]=i.useState("forgot"),[m,p]=i.useState(""),[n,x]=i.useState(!1);return i.useEffect(()=>{s==="reset"&&!n&&a("forgot")},[s,n]),e.jsxs("div",{className:"md:flex w-full items-center justify-between gap-6 overflow-hidden",children:[e.jsx("div",{className:"flex items-center h-[100vh] md:w-[50%] w-full justify-center",children:e.jsxs("div",{className:"lg:w-[700px] h-full flex items-center justify-center px-5",children:[s==="forgot"&&e.jsx(B,{setStep:a,setEmail:p}),s==="verify"&&e.jsx(D,{setStep:a,email:m,setIsOtpVerified:x}),s==="reset"&&n&&e.jsx(R,{setStep:a,email:m,setIsOtpVerified:x})]})}),e.jsxs("div",{className:"hidden relative md:h-[100vh] w-full h-full md:w-[50%] md:flex justify-end",children:[e.jsx("img",{className:"h-full w-full object-cover",src:O,alt:"login background"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] flex items-center flex-col justify-center translate-x-[-50%] translate-y-[-50%]",children:[e.jsx("img",{src:k,alt:"role logo",className:"w-[363px]"}),e.jsx("p",{className:"font-[500] text-[18px] text-white/80 text-center pt-[15px] w-[500px]",children:"Caring Connections, Empowering Lives: Nurturing Well-being Through Every Click."})]})]})]})};export{M as default};
//# sourceMappingURL=PasswordResetFlow-CHUrudLh.js.map
