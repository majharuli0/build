import{j as e,V as C,W as S,X as P,Y as D,Z as R,u as $,r as n,$ as z,B as m,a0 as f,d as Y}from"./index-Ld8eeOSM.js";import{E as h}from"./index-Cl4RW0lt.js";import"./bar-D4T7iTfv.js";import"./index-BCNT0LDX.js";import"./line-_C59wcf5.js";import{F as B}from"./lines-DpTrwb7g.js";import"./leaflet-src-BeVRuyPV.js";import{g as _,a as k}from"./Dashboard-CtZPCvQk.js";import{I as V}from"./index-yFl0h3r9.js";import{D as O}from"./index-BDIzWp5q.js";import"./weekOfYear-W6JkaXIJ.js";import"./weekday-DoT8FXJ1.js";import"./SwapRightOutlined-B1VRqOqg.js";function E({data:r,graphTitle:c}){const x=r==null?void 0:r.map(t=>t.name),u=r==null?void 0:r.map(t=>t.total_sales),d=10,a={xAxis:{max:"dataMax"},tooltip:{formatter:function(t){return`${t.marker}${t.name}<br/>$${t.value}`}},grid:{left:"0%",right:"0%",bottom:"10%",top:"5%",containLabel:!0},yAxis:{type:"category",data:x,inverse:!0,animationDuration:300,animationDurationUpdate:300,axisLabel:{formatter:function(t){return t.length>d?t.substring(0,d)+"...":t}}},dataZoom:[{type:"inside",yAxisIndex:0,start:0,end:100}],series:[{name:c,type:"bar",data:u,itemStyle:{color:"#4379EE"},label:{show:!0,valueAnimation:!0,formatter:function(t){return`$${t.value}`}},barWidth:u.length<5?30:"auto"}],legend:{show:!1},graphic:u.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(h,{notMerge:!0,option:a,style:{width:"100%",height:"100%"}})}function U({data:r}){const c={monitoring_station:"#D90000",end_user:"#4379EE",nursing_home:"#F1963A"},x={monitoring_station:"Monitoring Station Sales",end_user:"End User Sales",nursing_home:"Nursing Home sales"},d=r.filter(i=>["nursing_home","end_user","monitoring_station"].includes(i.role)).map(i=>({value:i.count,name:x[i.role]||i.role,itemStyle:{color:c[i.role]}})),a=d.reduce((i,p)=>i+p.value,0),t={tooltip:{trigger:"item"},grid:{left:"0%",right:"0%",bottom:"0%",top:"0%",containLabel:!0},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:d}],graphic:{elements:[{type:"text",id:"center-total-text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",id:"center-value-text",left:"center",top:"45%",style:{text:a,textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"},position:[0,50]}]}};return e.jsx(h,{notMerge:!0,option:t,style:{width:"340px",height:"340px"}})}function W(){const r={legend:!1,toolbox:{show:!1},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"Alert",type:"pie",radius:["30%","80%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},data:[{value:40,name:"Alert 1"},{value:38,name:"Alert 2"},{value:32,name:"Alert 3"},{value:30,name:"Alert 4"},{value:28,name:"Alert 5"},{value:26,name:"Alert 6"},{value:22,name:"Alert 7"},{value:18,name:"Alert 8"}]}]};return e.jsx(h,{notMerge:!0,option:r,style:{width:"100%",height:"400px"}})}const G=[{role:"distributor",label:"Distributor",tab:"Distributors",color:"#FA8035",icon:V},{role:"office",label:"Office",tab:"Offices",color:"#D188E1",icon:C},{role:"sales_agent",label:"Sales Agent",tab:"Sales Agents",color:"#D188E1",icon:C},{role:"nursing_home",label:"Nursing Home",tab:"Nursing Homes",color:"#5096F6",icon:S},{role:"monitoring_station",label:"Monitoring Station",tab:"Monitoring Stations",color:"#EA5A92",icon:P},{role:"installer",label:"Installer",tab:"Installers",color:"#5096F6",icon:S},{role:"nurse",label:"Nurse",color:"#F3C623",icon:D},{role:"supports_agent",label:"Support Agent",tab:"Support Agents",color:"#17C3A5",icon:R},{role:"end_user",label:"End User",tab:"End Users",color:"#7DBBE2",icon:B},{role:"elderly",label:"Elderly",tab:"Elderly",color:"#F3C623",icon:D}],{RangePicker:Z}=O,ne=()=>{var j,y,N;const r=$();n.useContext(z),n.useState(!0),n.useState(!1);const[c,x]=n.useState([]),[u,d]=n.useState([]),[a,t]=n.useState([]),[i,p]=n.useState([]);function L(){_().then(l=>{const o=(l==null?void 0:l.data)||[],s=G.map(A=>{const w=o.find(T=>T.role===A.role);return{...A,count:w?w.count:0}});x(s)}).catch(l=>{console.log(l)})}function g(l="distributor"){const o=Y().format("YYYY-MM-DD");k({role:l,to_date:o}).then(s=>{d(s.data)}).catch(s=>{console.log(s)})}function b(l,o){_({from_date:l,to_date:o}).then(s=>{console.log(s),t(s.data)}).catch(s=>{console.log(s)})}function v(l="-1"){k({role:"distributor",sort_by_sales:l}).then(o=>{p(o.data)}).catch(o=>{console.log(o)})}n.useEffect(()=>{L(),g(),b(),v()},[]);function M(l){g(l.value)}function I(l){v(l.value)}function H(l){b(l[0],l[1])}const F=l=>{console.log(`selected ${l}`)};return e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsx("div",{className:"rounded-2xl w-full flex flex-col gap-6 h-full",children:e.jsx("div",{id:"Reports",className:"w-full rounded-2xl flex flex-col gap-6",children:e.jsx("div",{id:"Cards",className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7",children:c==null?void 0:c.map((l,o)=>{let s=l.icon;return e.jsxs("div",{id:"Card",onClick:()=>l.tab?r(`/super-admin/users?tab=${l.tab}`):null,className:"cursor-pointer group flex w-full items-center p-4 py-6 bg-[#fff] text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",style:{backgroundColor:l.color,opacity:"0.9"},className:"w-[100px] h-[100px] absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",style:{backgroundColor:l.color,opacity:"0.2"},className:"w-[100px] h-[100px] absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{style:{backgroundColor:`${l.color}15`},className:"h-fit rounded-[8px] p-2",children:s&&e.jsx(s,{style:{color:l==null?void 0:l.color},size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none text-text-primary",children:l.count?l.count:0}),e.jsx("span",{className:"text-[14px] font-medium text-text-primary/70 leading-none",children:l.label})]})]},o)})})})}),e.jsxs("div",{className:"w-full flex  gap-6 lg:flex-row flex-col",children:[e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-[445px]",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Today's Sales"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsx(m,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(f,{optionFilterProp:"label",onChange:M,defaultValue:"distributor",size:"large",labelInValue:!0,options:[{value:"distributor",label:"Distributor"},{value:"sales_agent",label:"Sales Agent"},{value:"monitoring_station",label:"Monitoring Station"},{value:"nursing_home",label:"Nursing Home"}]})})})]}),e.jsx(E,{data:u,graphTitle:"Today's Sales"})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[35%] w-full  h-[445px]",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Sales"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsx(m,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(Z,{showTime:!1,style:{width:"200px",borderRadius:"10px",height:"40px",zIndex:"1"},size:"large",placeholder:["Pick Data Range (Start)","End"],format:"YYYY-MM-DD",onChange:(l,o)=>H(o)})})})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(U,{data:a})}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"})," ",e.jsx("span",{className:"text-lg font-medium",children:"End User Sales"})]}),e.jsx("span",{className:"text-lg font-semibold",children:((j=a==null?void 0:a.find(l=>l.role==="end_user"))==null?void 0:j.count)||0})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#F1963A] rounded-full"})," ",e.jsx("span",{className:"text-lg font-medium",children:"Nursing Home Sales"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",((y=a==null?void 0:a.find(l=>l.role==="nursing_home"))==null?void 0:y.count)||0]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#D90000] rounded-full"})," ",e.jsx("span",{className:"text-lg font-medium",children:"Monitoring Stations Sales"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",((N=a==null?void 0:a.find(l=>l.role==="monitoring_station"))==null?void 0:N.count)||0]})]})]})]})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white  w-full  h-[445px]",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Distributor Sales"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsx(m,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(f,{optionFilterProp:"label",onChange:I,defaultValue:"-1",size:"large",labelInValue:!0,options:[{value:"-1",label:"High to Low"},{value:"1",label:"Low to High"}]})})})]}),e.jsx(E,{data:i,graphTitle:"Distributor Sales"})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white  w-full  lg:h-[445px] flex lg:flex-row flex-col  h-auto",children:[e.jsxs("div",{className:" lg:w-[50%] w-full flex flex-col gap-6 ",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Alerts"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsx(m,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(f,{optionFilterProp:"label",onChange:F,defaultValue:"distributor",size:"large",labelInValue:!0,options:[{value:"distributor",label:"Distributor"},{value:"Sales Agent",label:"Sales Agent"},{value:"Monitoring Company",label:"Monitoring Company"},{value:"Nursing Home",label:"Nursing Home"}]})})})]}),e.jsx("div",{id:"ChartInfo",className:"grid lg:grid-cols-2 grid-cols-1  h-fit gap-6",children:[1,2,3,4,5,6,7,8].map((l,o)=>e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsxs("span",{className:"text-lg font-medium",children:["Alert ",o+1]})]}),e.jsx("span",{className:"text-lg font-semibold",children:"400"})]},o))})]}),e.jsx("div",{className:"lg:w-[50%] w-full",children:e.jsx(W,{})})]})]})};export{ne as default};
