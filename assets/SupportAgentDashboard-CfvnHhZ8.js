import{r as s,u as z,e as p,k as O,j as e,C as h,an as B,p as v,I as j}from"./index-CnZYSSOF.js";import{M as $}from"./index-QWeN0KMr.js";import{R as Q}from"./index-D9M7CA_T.js";import{u as f,A as W}from"./ActiveAlertsCards-D7CUb02J.js";import"./WeeklyMonthlyPicker-CEnknXFq.js";import{g as G,a as J}from"./elderlySupport-BelUapVX.js";import{A as K}from"./alertsOverview-CKuD-e6-.js";import{C as U}from"./CreateAndEditModal--y4GK7MH.js";import{S as X}from"./index-CPwE_Ov3.js";import{R as Z}from"./AimOutlined-DBloLktK.js";import{R as q}from"./HomeOutlined-3jbazqgv.js";import"./leaflet-src-DDm5PHiA.js";import"./CustomPlaceSelect-DxXa9THS.js";import"./EnvironmentOutlined-CRzPJE55.js";import"./InfoCircleOutlined-BdroY21l.js";import"./slick-theme-yDYFl3t-.js";import"./index-ChU0R5mX.js";import"./RoomMap3-BiL8PluH.js";import"./to-C-nZNVPk.js";import"./UseCustomContext-BhgaKMIb.js";import"./RoomMap4-9Gt_5l9B.js";import"./ActionManu-BXN5r9gy.js";import"./index-nh0vOeBL.js";import"./_baseGetTag-C_pVEggp.js";import"./Collapse-COiOwUAK.js";import"./index-DpVoRi1p.js";import"./AlertName-BQanjVhy.js";import"./LargeTextViewerModal-CneRYCDA.js";import"./AlertCloseModal-aLquSSxE.js";import"./index-nBTRqdGS.js";import"./index-CG_77icV.js";try{let l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new l.Error().stack;r&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[r]="43b82977-c34c-4f96-8217-748aedd1f513",l._sentryDebugIdIdentifier="sentry-dbid-43b82977-c34c-4f96-8217-748aedd1f513")}catch{}function Le(){const[l,r]=s.useState("Map View"),[y,b]=s.useState(!1);s.useState([]),f("activeAlert");const w=f("recentlyClosedAlert"),[S,A]=s.useState([]),[n,_]=s.useState(1),[C,N]=s.useState(0),[E,M]=s.useState([]),[T,I]=s.useState([]),[L,R]=s.useState(0),k=f("events"),[D,d]=s.useState(!0);s.useState(null);const[c,u]=s.useState(),[a,H]=s.useState(""),[V,Y]=s.useState(!1),P=z(),m=s.useCallback(()=>{d(!0),G({to_date:p().subtract(2,"days").format("YYYY-MM-DD"),from_date:p().format("YYYY-MM-DD"),is_resolved:!0,page:n}).then(t=>{N(t.total),d(!1),A(t.data)}).catch(t=>{d(!1),console.log(t)})},[n]);s.useEffect(()=>{m()},[m]);const x=s.useCallback(()=>{J({to_date:"2024-11-30",from_date:p().format("YYYY-MM-DD"),page:T}).then(t=>{R(t.total),t.data.length>0&&M(t.data)}).catch(t=>{console.log(t)})},[n]);s.useEffect(()=>{x()},[x]);const g=s.useCallback(()=>{if(a.trim()===""){u([]);return}O({search:a}).then(t=>{u(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[a]);s.useEffect(()=>{g()},[g]);const o=(t,i)=>{if(!i)return t;const F=new RegExp(`(${i})`,"gi");return t.replace(F,'<mark style="background-color: #80CAA7; color: white;">$1</mark>')};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 flex-col pt-8 pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full",children:e.jsx(h,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsxs("div",{className:"w-[350px] relative",children:[e.jsx(B,{className:"rounded-[10px]  min-w-[350px] w-full ",size:"large",placeholder:"Search Anything",style:{height:"44px"},onChange:t=>H(t.target.value),onFocus:()=>Y(!0)}),V&&a.trim()!==""&&e.jsx("div",{id:"searchResult",className:"mt-3 max-h-[600px] overflow-auto rounded-lg shadow-lg bg-white border border-gray-300 absolute top-10 left-0 z-[1000] w-full",children:e.jsx("ul",{children:c==null?void 0:c.map(t=>e.jsxs("li",{className:"p-4 hover:bg-gray-100 border-b border-gray-200 cursor-pointer",onClick:()=>{P(`/supporter/elderlies/elderly-profile/${t==null?void 0:t._id}`)},children:[e.jsx("div",{className:"font-semibold text-lg text-gray-800",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:o(t.name,a)}})}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Age:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:o(t.age.toString(),a)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Address:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:o(t.address||"N/A",a)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Sensitivity Factors:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:o(t.diseases.join(", "),a)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Comments:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:o(t.comments.map(i=>i.comment).join(", "),a)}})]})]},t._id))})})]})})}),e.jsx("div",{className:"w-full",children:e.jsx(W,{refreshAlertList:m,isElderlyVisible:!0})}),e.jsxs("div",{className:"w-full flex gap-4 md:flex-row flex-col",children:[e.jsx("div",{className:"w-full  p-0 ",children:e.jsxs("div",{className:"bg-white  rounded-2xl  p-6 h-[600px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Alerts View"}),e.jsx(X,{size:"large",options:ee,onChange:t=>r(t)})]}),l==="Map View"&&e.jsx($,{}),l==="Room View"&&e.jsx(Q,{})]})}),e.jsx("div",{className:"bg-white w-full md:w-[48%] rounded-2xl p-6 h-[600px] overflow-hidden",children:e.jsx(K,{})})]}),e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Past Notifications"}),e.jsx("div",{children:e.jsx(h,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}}})})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(v.Provider,{value:{total:C,page:1,SetPage:_,limit:6},children:e.jsx(j,{loading:D,pageSize:6,tableData:S,columns:w})})})]}),e.jsxs("div",{id:"Events",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsx("div",{id:"Events_Header",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Events"})}),e.jsx("div",{id:"Events_Table",className:"w-full",children:e.jsx(v.Provider,{value:{total:L,page:1,SetPage:()=>I,getList:{getAllEventList:x}},children:e.jsx(j,{pageSize:6,tableData:E,columns:k})})})]})]}),e.jsx(U,{modalOpen:y,setModalOpen:b,type:"event"})]})}const ee=[{label:" Map View",value:"Map View",icon:e.jsx(Z,{})},{label:"Room View",value:"Room View",icon:e.jsx(q,{})}],Re=[{label:"All Alerts",value:"All Alerts"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Informational",value:"Informational"}];export{Re as activeAlertSegmentOptions,ee as alertViewSegmentOptions,Le as default};
//# sourceMappingURL=SupportAgentDashboard-CfvnHhZ8.js.map
