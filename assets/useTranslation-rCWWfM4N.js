import{r as l,gS as A,gT as U,gU as k}from"./index-D5qquTDf.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b4f372a8-cf77-4284-b0bb-aac179ba75e0",e._sentryDebugIdIdentifier="sentry-dbid-b4f372a8-cf77-4284-b0bb-aac179ba75e0")}catch{}const F=(e,n,s,c)=>{var t,u,b,f;const o=[s,{code:n,...c||{}}];if((u=(t=e==null?void 0:e.services)==null?void 0:t.logger)!=null&&u.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);g(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(b=e==null?void 0:e.services)==null?void 0:b.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},I={},E=(e,n,s,c)=>{g(s)&&I[s]||(g(s)&&(I[s]=new Date),F(e,n,s,c))},L=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},w=(e,n,s)=>{e.loadNamespaces(n,L(e,s))},T=(e,n,s,c)=>{if(g(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return w(e,s,c);s.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(n,L(e,c))},M=(e,n,s={})=>!n.languages||!n.languages.length?(E(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:s.lng,precheck:(c,o)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&c.services.backendConnector.backend&&c.isLanguageChangingTo&&!o(c.isLanguageChangingTo,e))return!1}}),g=e=>typeof e=="string",P=e=>typeof e=="object"&&e!==null,j=l.createContext();class D{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const G=(e,n)=>g(n)?n:P(n)&&g(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,W={t:G,ready:!1},X=()=>()=>{},$=(e,n={})=>{var m,C;const{i18n:s}=n,{i18n:c,defaultNS:o}=l.useContext(j)||{},t=s||c||A();t&&!t.reportNamespaces&&(t.reportNamespaces=new D),t||E(t,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=l.useMemo(()=>{var a;return{...U(),...(a=t==null?void 0:t.options)==null?void 0:a.react,...n}},[t,n]),{useSuspense:b,keyPrefix:f}=u,i=l.useMemo(()=>{var r;const a=o||((r=t==null?void 0:t.options)==null?void 0:r.defaultNS);return g(a)?[a]:a||["translation"]},[e,o,t]);(C=(m=t==null?void 0:t.reportNamespaces)==null?void 0:m.addUsedNamespaces)==null||C.call(m,i);const O=l.useCallback(a=>{if(!t)return X;const{bindI18n:r,bindI18nStore:d}=u;return r&&t.on(r,a),d&&t.store.on(d,a),()=>{r&&r.split(" ").forEach(h=>t.off(h,a)),d&&d.split(" ").forEach(h=>t.store.off(h,a))}},[t,u]),x=l.useRef(),S=l.useCallback(()=>{if(!t)return W;const a=!!(t.isInitialized||t.initializedStoreOnce)&&i.every(z=>M(z,t,u)),r=t.getFixedT(n.lng||t.language,u.nsMode==="fallback"?i:i[0],f),d=x.current;if(d&&d.ready===a&&d.lng===(n.lng||t.language)&&d.keyPrefix===f)return d;const h={t:r,ready:a,lng:n.lng||t.language,keyPrefix:f};return x.current=h,h},[t,i,f,u,n.lng]),[R,_]=l.useState(0),{t:p,ready:y}=k.useSyncExternalStore(O,S,S);l.useEffect(()=>{if(t&&!y&&!b){const a=()=>_(r=>r+1);n.lng?T(t,n.lng,i,a):w(t,i,a)}},[t,n.lng,i,y,b,R]);const N=t||{},v=l.useMemo(()=>{const a=[p,N,y];return a.t=p,a.i18n=N,a.ready=y,a},[p,N,y]);if(t&&b&&!y)throw new Promise(a=>{const r=()=>a();n.lng?T(t,n.lng,i,r):w(t,i,r)});return v};export{$ as u};
//# sourceMappingURL=useTranslation-rCWWfM4N.js.map
