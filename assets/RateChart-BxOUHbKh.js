import{r as f,j as M,ag as E}from"./index-BZN7kAPq.js";import{E as T}from"./index-B6O-KUCL.js";try{let n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new n.Error().stack;o&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[o]="73ad68e5-2d47-4a83-9cf9-215eb6332b8f",n._sentryDebugIdIdentifier="sentry-dbid-73ad68e5-2d47-4a83-9cf9-215eb6332b8f")}catch{}function $(n){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][n]}const _=({dateType:n,cheartInfo:o={},color:s,fromDate:y,toDate:c})=>{var p;const[v,D]=f.useState(!1);f.useEffect(()=>{D(!0)},[]);const A=f.useMemo(()=>{try{const{xdata:b,maxArray:W,minArray:z,allAvgNumber:g}=o,d=[],L=new Date(y),k=new Date(c),x=new Map;b.forEach((e,t)=>{const a=new Date(e).toISOString().split("T")[0];x.set(a,{min:z[t],max:W[t]})});const i=[];for(let e=new Date(L);e<=k;e.setDate(e.getDate()+1)){const t=e.toISOString().split("T")[0],a=x.get(t);if(n==="Month"){const l=e.getMonth()+1,r=e.getDate();d.push(`${l<10?"0"+l:l}-${r<10?"0"+r:r}`)}else d.push($(e.getDay()===0?6:e.getDay()-1));i.push({min:a?a.min:null,max:a?a.max:null})}const h=i.filter(e=>e.min!==null&&e.max!==null),m=Math.min(...h.map(e=>e.min)),u=Math.max(...h.map(e=>e.max)),w=i.findIndex(e=>e.min===m),S=i.findIndex(e=>e.max===u);return{backgroundColor:"#fff",grid:{left:"2%",right:"7%",bottom:"4%",top:"20%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(e){const t=e[0].axisValue,a=e[0].value[1],l=e[0].value[2];return`<span style="font-weight: bold;">Date: ${t}</span><br/><span >Max: ${l||"-"}</span><br/><span >Min: ${a||a>=0&&a!==null?a:"-"}</span>`}},xAxis:{type:"category",splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#ccc"}},axisLabel:{color:"#666"},data:d},yAxis:{type:"value",name:"BPM",nameLocation:"end",axisLine:{show:!1},axisLabel:{color:"#666"},splitLine:{lineStyle:{color:"#eee"}}},series:[{name:"Range",type:"custom",renderItem:(e,t)=>{const a=t.coord([t.value(0),t.value(1)]),r=t.coord([t.value(0),t.value(2)])[1]-a[1];return{type:"rect",shape:{x:a[0]-10,y:a[1],width:20,height:r,r:10},style:{fill:s,lineWidth:1}}},encode:{x:0,y:[1,2]},data:i.map((e,t)=>[t,e.min,e.max])},{name:"Average",type:"line",symbol:"none",lineStyle:{type:"dashed",width:1},markLine:{silent:!0,symbol:"none",data:[{yAxis:g,label:{show:!0,formatter:`Avg: ${g}`,position:"end",color:s},lineStyle:{color:s,width:1}}]}},{name:"Minimum",type:"pictorialBar",symbolSize:[15,15],symbolOffset:[0,-19],symbolPosition:"end",z:12,label:{normal:{show:!0,offset:[1,60],position:"top",fontSize:13,fontWeight:400,color:s,lineHeight:15,formatter:function(e){return`Min
${m}`}}},itemStyle:{borderColor:s,borderWidth:2,borderType:"solid"},color:"#fff",data:new Array(i.length).fill(null).map((e,t)=>({value:t===w?m:"-",symbolSize:[15,15],symbol:t===w?"circle":"none"}))},{name:"Maximum",type:"pictorialBar",symbolSize:[15,15],symbolOffset:[0,2],symbolPosition:"end",z:12,label:{normal:{show:!0,offset:[1,2],position:"top",fontSize:13,fontWeight:400,color:s,lineHeight:15,formatter:function(e){return`Max
${u}`}}},itemStyle:{borderColor:s,borderWidth:2,borderType:"solid"},color:"#fff",data:new Array(i.length).fill(null).map((e,t)=>({value:t===S?u:"-",symbolSize:[15,15],symbol:t===S?"circle":"none"}))}],legend:{data:["Average","Minimum","Maximum"],textStyle:{color:"#666"}}}}catch{return{backgroundColor:"#fff",title:{text:"No data available",show:!0,left:"center",top:"center",textStyle:{color:"#000",fontSize:"20px",fontWeight:400}}}}},[o,n,v,y,c,s]);return(p=o==null?void 0:o.xdata)!=null&&p.length?M.jsx(T,{option:A,notMerge:!0,style:{height:"300px",width:"100%",transition:"all 0.3s ease"}}):M.jsx(E,{description:"No data available to show"})};export{_ as default};
//# sourceMappingURL=RateChart-BxOUHbKh.js.map
