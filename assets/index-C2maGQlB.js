import{e as re,K as R,bt as ie,i as le,f as E,m as Se,r as s,n as U,bu as ae,p as O,b2 as ce,aZ as je,u as we,j as a,d as Oe,aE as Ee}from"./index-UQ13cnrG.js";import{b as K}from"./ActiveAlertsCards-9jX1Kvw1.js";import{R as Ie}from"./RoomMap2-DUnswTSS.js";import{g as z,t as Te,a as Pe}from"./helper-DA8PoIl3.js";import{g as Re}from"./elderlySupport-o7Ke1zCi.js";import{S as Be}from"./index-D2JIFgde.js";import{T as ze}from"./index-0QdKJWxP.js";const Ae=new R("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),De=new R("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),_e=new R("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),We=new R("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),He=new R("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Fe=new R("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),Me=e=>{const{componentCls:t,iconCls:l,antCls:o,badgeShadowSize:n,textFontSize:u,textFontSizeSM:i,statusSize:C,dotSize:p,textFontWeight:y,indicatorHeight:m,indicatorHeightSM:d,marginXS:g,calc:h}=e,b=`${o}-scroll-number`,r=ie(e,(x,f)=>{let{darkColor:v}=f;return{[`&${t} ${t}-color-${x}`]:{background:v,[`&:not(${t}-count)`]:{color:v},"a:hover &":{background:v}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},le(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:m,height:m,color:e.badgeTextColor,fontWeight:y,fontSize:u,lineHeight:E(m),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:h(m).div(2).equal(),boxShadow:`0 0 0 ${E(n)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:d,height:d,fontSize:i,lineHeight:E(d),borderRadius:h(d).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${E(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:p,minWidth:p,height:p,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${E(n)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${l}-spin`]:{animationName:Fe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:C,height:C,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:n,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Ae,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:g,color:e.colorText,fontSize:e.fontSize}}}),r),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:De,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:_e,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:We,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:He,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${t}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[b]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${b}-only`]:{position:"relative",display:"inline-block",height:m,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:m,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},de=e=>{const{fontHeight:t,lineWidth:l,marginXS:o,colorBorderBg:n}=e,u=t,i=l,C=e.colorBgContainer,p=e.colorError,y=e.colorErrorHover;return Se(e,{badgeFontHeight:u,badgeShadowSize:i,badgeTextColor:C,badgeColor:p,badgeColorHover:y,badgeShadowColor:n,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},ue=e=>{const{fontSize:t,lineHeight:l,fontSizeSM:o,lineWidth:n}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*l)-2*n,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}},Ze=re("Badge",e=>{const t=de(e);return Me(t)},ue),Ve=e=>{const{antCls:t,badgeFontHeight:l,marginXS:o,badgeRibbonOffset:n,calc:u}=e,i=`${t}-ribbon`,C=`${t}-ribbon-wrapper`,p=ie(e,(y,m)=>{let{darkColor:d}=m;return{[`&${i}-color-${y}`]:{background:d,color:d}}});return{[C]:{position:"relative"},[i]:Object.assign(Object.assign(Object.assign(Object.assign({},le(e)),{position:"absolute",top:o,padding:`0 ${E(e.paddingXS)}`,color:e.colorPrimary,lineHeight:E(l),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${i}-text`]:{color:e.colorTextLightSolid},[`${i}-corner`]:{position:"absolute",top:"100%",width:n,height:n,color:"currentcolor",border:`${E(u(n).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),p),{[`&${i}-placement-end`]:{insetInlineEnd:u(n).mul(-1).equal(),borderEndEndRadius:0,[`${i}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${i}-placement-start`]:{insetInlineStart:u(n).mul(-1).equal(),borderEndStartRadius:0,[`${i}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Le=re(["Badge","Ribbon"],e=>{const t=de(e);return Ve(t)},ue),Ye=e=>{const{className:t,prefixCls:l,style:o,color:n,children:u,text:i,placement:C="end",rootClassName:p}=e,{getPrefixCls:y,direction:m}=s.useContext(U),d=y("ribbon",l),g=`${d}-wrapper`,[h,b,r]=Le(d,g),x=ae(n,!1),f=O(d,`${d}-placement-${C}`,{[`${d}-rtl`]:m==="rtl",[`${d}-color-${n}`]:x},t),v={},S={};return n&&!x&&(v.background=n,S.color=n),h(s.createElement("div",{className:O(g,p,b,r)},u,s.createElement("div",{className:O(f,b),style:Object.assign(Object.assign({},v),o)},s.createElement("span",{className:`${d}-text`},i),s.createElement("div",{className:`${d}-corner`,style:S}))))},se=e=>{const{prefixCls:t,value:l,current:o,offset:n=0}=e;let u;return n&&(u={position:"absolute",top:`${n}00%`,left:0}),s.createElement("span",{style:u,className:O(`${t}-only-unit`,{current:o})},l)};function qe(e,t,l){let o=e,n=0;for(;(o+10)%10!==t;)o+=l,n+=l;return n}const Xe=e=>{const{prefixCls:t,count:l,value:o}=e,n=Number(o),u=Math.abs(l),[i,C]=s.useState(n),[p,y]=s.useState(u),m=()=>{C(n),y(u)};s.useEffect(()=>{const h=setTimeout(m,1e3);return()=>clearTimeout(h)},[n]);let d,g;if(i===n||Number.isNaN(n)||Number.isNaN(i))d=[s.createElement(se,Object.assign({},e,{key:n,current:!0}))],g={transition:"none"};else{d=[];const h=n+10,b=[];for(let f=n;f<=h;f+=1)b.push(f);const r=b.findIndex(f=>f%10===i);d=b.map((f,v)=>{const S=f%10;return s.createElement(se,Object.assign({},e,{key:f,value:S,offset:v-r,current:v===r}))});const x=p<u?1:-1;g={transform:`translateY(${-qe(i,n,x)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:g,onTransitionEnd:m},d)};var ke=function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(l[o[n]]=e[o[n]]);return l};const Ke=s.forwardRef((e,t)=>{const{prefixCls:l,count:o,className:n,motionClassName:u,style:i,title:C,show:p,component:y="sup",children:m}=e,d=ke(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:g}=s.useContext(U),h=g("scroll-number",l),b=Object.assign(Object.assign({},d),{"data-show":p,style:i,className:O(h,n,u),title:C});let r=o;if(o&&Number(o)%1===0){const x=String(o).split("");r=s.createElement("bdi",null,x.map((f,v)=>s.createElement(Xe,{prefixCls:h,count:Number(o),value:f,key:x.length-v})))}return i!=null&&i.borderColor&&(b.style=Object.assign(Object.assign({},i),{boxShadow:`0 0 0 1px ${i.borderColor} inset`})),m?ce(m,x=>({className:O(`${h}-custom-component`,x==null?void 0:x.className,u)})):s.createElement(y,Object.assign({},b,{ref:t}),r)});var Ue=function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(l[o[n]]=e[o[n]]);return l};const Ge=s.forwardRef((e,t)=>{var l,o,n,u,i;const{prefixCls:C,scrollNumberPrefixCls:p,children:y,status:m,text:d,color:g,count:h=null,overflowCount:b=99,dot:r=!1,size:x="default",title:f,offset:v,style:S,className:me,rootClassName:be,classNames:w,styles:N,showZero:F=!1}=e,G=Ue(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:J,direction:M,badge:c}=s.useContext(U),$=J("badge",C),[Q,ge,fe]=Ze($),Z=h>b?`${b}+`:h,A=Z==="0"||Z===0,pe=h===null||A&&!F,V=(m!=null||g!=null)&&pe,B=r&&!A,I=B?"":Z,T=s.useMemo(()=>(I==null||I===""||A&&!F)&&!B,[I,A,F,B]),ee=s.useRef(h);T||(ee.current=h);const P=ee.current,te=s.useRef(I);T||(te.current=I);const L=te.current,oe=s.useRef(B);T||(oe.current=B);const D=s.useMemo(()=>{if(!v)return Object.assign(Object.assign({},c==null?void 0:c.style),S);const j={marginTop:v[1]};return M==="rtl"?j.left=parseInt(v[0],10):j.right=-parseInt(v[0],10),Object.assign(Object.assign(Object.assign({},j),c==null?void 0:c.style),S)},[M,v,S,c==null?void 0:c.style]),he=f??(typeof P=="string"||typeof P=="number"?P:void 0),xe=T||!d?null:s.createElement("span",{className:`${$}-status-text`},d),ve=!P||typeof P!="object"?void 0:ce(P,j=>({style:Object.assign(Object.assign({},D),j.style)})),_=ae(g,!1),Ce=O(w==null?void 0:w.indicator,(l=c==null?void 0:c.classNames)===null||l===void 0?void 0:l.indicator,{[`${$}-status-dot`]:V,[`${$}-status-${m}`]:!!m,[`${$}-color-${g}`]:_}),Y={};g&&!_&&(Y.color=g,Y.background=g);const ne=O($,{[`${$}-status`]:V,[`${$}-not-a-wrapper`]:!y,[`${$}-rtl`]:M==="rtl"},me,be,c==null?void 0:c.className,(o=c==null?void 0:c.classNames)===null||o===void 0?void 0:o.root,w==null?void 0:w.root,ge,fe);if(!y&&V){const j=D.color;return Q(s.createElement("span",Object.assign({},G,{className:ne,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.root),(n=c==null?void 0:c.styles)===null||n===void 0?void 0:n.root),D)}),s.createElement("span",{className:Ce,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(u=c==null?void 0:c.styles)===null||u===void 0?void 0:u.indicator),Y)}),d&&s.createElement("span",{style:{color:j},className:`${$}-status-text`},d)))}return Q(s.createElement("span",Object.assign({ref:t},G,{className:ne,style:Object.assign(Object.assign({},(i=c==null?void 0:c.styles)===null||i===void 0?void 0:i.root),N==null?void 0:N.root)}),y,s.createElement(je,{visible:!T,motionName:`${$}-zoom`,motionAppear:!1,motionDeadline:1e3},j=>{let{className:ye}=j;var q,X;const $e=J("scroll-number",p),k=oe.current,Ne=O(w==null?void 0:w.indicator,(q=c==null?void 0:c.classNames)===null||q===void 0?void 0:q.indicator,{[`${$}-dot`]:k,[`${$}-count`]:!k,[`${$}-count-sm`]:x==="small",[`${$}-multiple-words`]:!k&&L&&L.toString().length>1,[`${$}-status-${m}`]:!!m,[`${$}-color-${g}`]:_});let W=Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(X=c==null?void 0:c.styles)===null||X===void 0?void 0:X.indicator),D);return g&&!_&&(W=W||{},W.background=g),s.createElement(Ke,{prefixCls:$e,show:!T,motionClassName:ye,className:Ne,count:L,title:he,style:W,key:"scrollNumber"},ve)}),xe))}),H=Ge;H.Ribbon=Ye;function Je({data:e=[]}){var u,i,C,p,y,m;const t=e!=null&&e.rooms&&((u=e==null?void 0:e.rooms)!=null&&u.width)?(i=e==null?void 0:e.rooms)==null?void 0:i.width:0,l=e!=null&&e.rooms&&((C=e==null?void 0:e.rooms)!=null&&C.length)?(p=e==null?void 0:e.rooms)==null?void 0:p.length:0;console.log("============>",t,l);const o=we(),n=d=>{switch(d){case"Info":return"bg-blue-500";case"Critical":return"bg-red-500";case"Warning":return"bg-yellow-500";default:return"bg-blue-500"}};return a.jsxs("div",{className:"w-full flex flex-col gap-4 p-4 pr-0 h-full pt-0",children:[a.jsxs("div",{id:"roomAlertHeader",className:`alert-header !h-[75px] flex justify-between items-center relative px-4 overflow-hidden rounded-lg ${n((y=z(e))==null?void 0:y.label)}`,children:[a.jsx("div",{className:"loader"}),a.jsxs("div",{className:"text-container flex flex-col gap-0 h-full justify-center text-white",children:[a.jsx("p",{className:"text-sm text-gray-100 m-0 font-medium",children:e.room_name}),a.jsx("h2",{className:"text-lg font-bold m-0 leading-none ",children:(m=z(e))==null?void 0:m.title})]}),a.jsx("span",{onClick:()=>{o(`/supporter/elderlies/elderly-profile/${e==null?void 0:e.elderly_id}`)},className:"text-sm text-gray-100 cursor-pointer p-3 py-2 bg-white/0 rounded-lg hover:bg-white/10 transition-all duration-300",children:"View Elderly"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col gap-0 border-b border-gray-200 pb-2 ",children:[a.jsx("h2",{className:"text-lg font-bold m-0 leading-none",children:e.elderly_name}),a.jsx("p",{className:"text-sm text-gray-500 m-0",children:e.address})]}),a.jsx("div",{})]}),a.jsxs("div",{id:"roomMapAndDetails",className:"flex gap-4 h-full",children:[a.jsxs("div",{className:"map-container w-2/3 border",children:[a.jsx(Ie,{roomInfo:e==null?void 0:e.rooms})," "]}),a.jsxs("div",{className:"details-container w-1/3 ",children:[a.jsxs("div",{className:"flex flex-col gap-0 p-3",children:[a.jsx("h2",{className:"text-xl font-bold m-0 leading-none",children:Te(e.created_at)}),a.jsx("p",{className:"text-sm text-gray-500 m-0 font-medium",children:"Time of Incident"})]}),a.jsxs("div",{className:"flex flex-col gap-0 p-3",children:[a.jsx("h2",{className:"text-xl font-bold m-0 leading-none",children:Pe(e.created_at)}),a.jsx("p",{className:"text-sm text-gray-500 m-0 font-medium",children:"Alert Life"})]})]})]})]})}function lt({ViewFor:e=""}){const[t,l]=s.useState("All"),[o,n]=s.useState([]),[u,i]=s.useState(null),[C,p]=s.useState(null),[y,m]=s.useState(K),d=s.useCallback(()=>{Re({to_date:"2024-11-30",from_date:Oe().format("YYYY-MM-DD"),is_resolved:!1}).then(r=>{r.data.length>0&&n(r.data)}).catch(r=>{console.log(r)})},[]);s.useEffect(()=>{d()},[]),s.useEffect(()=>{if(o.length>0&&!u){const r=o[0];i(r._id),p(r)}},[o,u]);const g=r=>{console.log(r),i(r);const x=o.find(f=>f._id==r);p(x)},h=s.useCallback(r=>r==="All"?K:K.filter(x=>x.alertType===r),[]);s.useEffect(()=>{let r=h(t);e==="endUser"&&(r=r.slice(0,4)),m(r)},[t,h,e]);const b=o==null?void 0:o.map((r,x)=>{var f,v,S;return{label:a.jsxs("span",{className:"text-left w-full custom-tab-label flex justify-between items-center",children:[a.jsx("span",{className:"w-full text-black",children:r.room_name}),a.jsxs(Ee,{children:[((f=z(r))==null?void 0:f.label)==="Critical"&&a.jsx(H,{color:"red"}),((v=z(r))==null?void 0:v.label)==="Warning"&&a.jsx(H,{color:"orange"}),((S=z(r))==null?void 0:S.label)==="Info"&&a.jsx(H,{color:"blue"})]})]}),key:r._id}});return a.jsxs("div",{className:"w-full flex justify-center items-center h-[495px] overflow-hidden",children:[a.jsxs("div",{id:"RoomNameTabsAnt",className:"w-[30%] flex flex-col gap-4 h-full",children:[a.jsx(Be,{style:{width:"100%"},block:!0,options:Qe,onChange:r=>l(r)}),a.jsx(ze,{onChange:g,type:"card",tabPosition:"left",items:b,style:{width:"100%"},activeKey:u,tabBarGutter:8,tabBarStyle:{maxHeight:"460px",overflowY:"auto"}})]}),a.jsx("div",{className:"w-[70%] h-full",children:u&&a.jsx(Je,{data:C})})]})}const Qe=[{label:"All",value:"All"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Info",value:"Info"}];export{lt as R};
