import{j as e,r as l,R as st,c as at,a as nt,M as ot,b as it,P as rt,T as Q,o as ye,C as k,d as _,z as dt,B as ct,E as ut,l as B,D as xt,s as fe,F as pt}from"./index-Dt5XmLyQ.js";import{E as D}from"./index-DkX20FRC.js";import"./line-zatJK1VJ.js";import{F as he}from"./lines-gDw1xTwB.js";import{b as ft,c as ht,d as mt,e as gt,f as yt,h as bt,i as jt,j as M,k as vt,g as wt}from"./Dashboard-BYSJEvf0.js";import"./FileSaver.min-C01oxKtf.js";import{I as Nt}from"./index-aJxcDNOq.js";import{B as St}from"./index-CmNybGUx.js";/* empty css                */import{R as Ct}from"./ReportActionModal-G_uiyCH_.js";import{u as be,R as _t,T as At}from"./RefContext-Ddf4k0uk.js";import{W as kt}from"./WeeklyMonthlyPicker-Du9eGjBq.js";import{g as me}from"./helper-djWMovuS.js";import"./Tour-B2RjkCht.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new s.Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="4add6d8d-f726-40f9-9a45-9f25e488eea6",s._sentryDebugIdIdentifier="sentry-dbid-4add6d8d-f726-40f9-9a45-9f25e488eea6")}catch{}function It({data:s=[]}){const a=s.map(r=>r._id),i=s.map(r=>r.total_orders),c={tooltip:{trigger:"axis"},grid:{left:"0%",right:"0%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:i,type:"line",symbol:"circle",symbolSize:10,itemStyle:{color:"#4379EE"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(67, 121, 238, 0.5)"},{offset:1,color:"rgba(255, 255, 255, 0) "}]}},lineStyle:{color:"#4379EE"}}],graphic:i.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(D,{notMerge:!0,option:c,style:{width:"100%",height:"100%"}})}function ge({data:s=[],chartFor:a=""}){const i=s.reduce((n,f)=>n+f.total_orders,0),[c,r]=l.useState({}),d={completed:"Completed",pending:"In Progress",cancelled:"Cancelled",not_started:"Not Started"};l.useEffect(()=>{a==="totalSales"?r({completed:"#4379EE",pending:"#F1963A",cancelled:"#D90000"}):a==="totalInstallations"&&r({completed:"#36b610",pending:"#833af1",not_started:"#5d5d5d"})},[a]);const o={tooltip:{trigger:"item"},grid:{left:"0%",right:"0%",bottom:"0%",top:"0%",containLabel:!0},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:s.map(n=>({value:n.total_orders,name:d[n.property_name]||"Unknown Status",itemStyle:{color:c[n.property_name]}}))}],graphic:{elements:[{type:"text",id:"center-total-text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",id:"center-value-text",left:"center",top:"45%",style:{text:i,textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"},position:[0,50]}]}};return e.jsx(D,{notMerge:!0,option:o,style:{width:"340px",height:"340px"}})}function R({data:s=[],graphTitle:a}){const i=s.map(d=>d.property_name||d.elderly_name||"Unknown"),c=s.map(d=>d.total_orders||d.count),r={xAxis:{max:"dataMax"},tooltip:{},grid:{left:"0%",right:"0%",bottom:"10%",top:"5%",containLabel:!0},yAxis:{type:"category",data:i,inverse:!0,animationDuration:300,animationDurationUpdate:300},dataZoom:[{type:"inside",yAxisIndex:0,start:0,end:100}],series:[{name:a,type:"bar",data:c,itemStyle:{color:"#4379EE"},label:{show:!0,valueAnimation:!0},barWidth:c.length<5?30:"auto"}],label:{show:!0},legend:{show:!1},graphic:c.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(D,{notMerge:!0,option:r,style:{width:"100%",height:"100%"}})}function T({data:s=[],chartFor:a}){const[i,c]=l.useState({});return l.useEffect(()=>{if(s.length===0){c({graphic:{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}});return}const d=a==="age"?["20-29","30-39","40-49","50-59","60-69","70-79","80-89","90-99"]:s.map(m=>m._id),o=[{name:"Male",type:"bar",color:"#357AF6",data:d.map(m=>{const N=s.find(h=>h._id===m);return N?N.male_count:0})},{name:"Female",type:"bar",color:"#5CC8BE",data:d.map(m=>{const N=s.find(h=>h._id===m);return N?N.female_count:0})}],n=Math.max(...o.flatMap(m=>m.data)),f={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!0,top:0,data:["Male","Female"]},grid:{left:a==="age"?"0%":"5%",right:"0%",bottom:"10%",top:"10%",containLabel:!0},series:o};a==="age"?(f.xAxis={type:"category",data:d},f.yAxis={type:"value",boundaryGap:[0,.01],min:0,max:n,interval:1,axisLabel:{formatter:m=>Math.floor(m)}}):a==="diseases"&&(f.yAxis={type:"category",data:d},f.xAxis={type:"value",boundaryGap:[0,.01],min:0,max:n,interval:1,axisLabel:{formatter:m=>Math.floor(m)}}),c(f)},[s.length]),e.jsx(D,{notMerge:!0,option:i,style:{width:"100%",height:"100%"}})}function X({data:s=[],chartFor:a}){const[i,c]=l.useState([]);l.useEffect(()=>{let o=s==null?void 0:s.map(n=>{if(a==="device"){const f={completed:"#08A1F7",pending:"#922BF2",not_started:"#FF3B11"},m=s.map(j=>f[j._id]),N={...r,color:m};d(N);const h={not_started:"Not Started",completed:"Completed",pending:"Pending"};return{value:n.count,name:h[n._id]||n._id}}else return{value:n.male_count+n.female_count,name:n._id==="male"?"Male":n._id==="fe-male"?"Female":null}});c(o)},[s]);const[r,d]=l.useState({title:{},tooltip:{trigger:"item"},legend:{show:!1},labelLine:{show:!1},color:["#4379EE","#5CC8BE","#243642","#BC7C7C"]});return l.useEffect(()=>{const o={...r};a=="gender"?o.series=[{type:"pie",radius:"50%",data:i,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]:a=="device"&&(o.series=[{type:"pie",radius:"50%",data:i,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]),d(o)},[a,i]),e.jsx(D,{notMerge:!0,option:r,style:{width:"340px",height:"340px"}})}const Bt=[{role:"monitoring_station",label:"Monitoring Station",color:"#EA5A92",icon:st,rolesAllowed:["sales_agent","distributor","office"]},{role:"supports_agent",label:"Support Agent",color:"#17C3A5",icon:at,rolesAllowed:["supports_agent","monitoring_station"]},{role:"nursing_home",label:"Nursing Home",color:"#5096F6",icon:nt,rolesAllowed:["sales_agent","distributor","office"]},{role:"distributor",label:"Distributor",color:"#FA8035",icon:Nt,rolesAllowed:[]},{role:"sales_agent",label:"Sales Agent",color:"#D188E1",icon:ot,rolesAllowed:["sales_agent","distributor","office"]},{role:"end_user",label:"End User",color:"#7DBBE2",icon:he,rolesAllowed:["sales_agent","distributor","office"]},{role:"installer",label:"Installer",color:"#7695FF",icon:he,rolesAllowed:["monitoring_station","office","sales_agent"]},{role:"elderly",label:"Elderly",color:"#FF885B",icon:it,rolesAllowed:["monitoring_station"]},{role:"office",label:"Office",color:"#FF885B",icon:rt,rolesAllowed:[""]},{role:"device",label:"Device",color:"#FF885B",icon:St,rolesAllowed:[]}];function Dt({data:s=[]}){const a=s.filter(n=>n.type===1).reduce((n,f)=>n+f.count,0),i=s.filter(n=>n.type===2).reduce((n,f)=>n+f.count,0),c=s.filter(n=>n.type===3).reduce((n,f)=>n+f.count,0),r=[{value:a,name:"Info"},{value:i,name:"Warning"},{value:c,name:"Critical"}],d=r.reduce((n,f)=>n+f.value,0),o={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["#4379EE","#F1963A","#D90000"],series:[{name:"Activity",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,formatter:"{b}: {c} ({d}%)"},emphasis:{label:{show:!1,fontSize:18,fontWeight:"bold"}},data:s.length!==0?r:null}],graphic:{elements:[{type:"text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",left:"center",top:"45%",style:{text:d.toString(),textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"}}]}};return e.jsx(D,{option:o,style:{width:"340px",height:"340px"}})}const je=({data:s=[]})=>{const a=s.length>0,i={title:{},tooltip:{trigger:"item",textStyle:{color:"#333",fontSize:16,fontFamily:"Arial, sans-serif"},formatter:function(c){return`
            <div style="padding: 5px; text-align: left;">
              <div><strong>Activity:</strong> ${c.data[0]}</div>
              <div><strong>Count:</strong> ${c.data[1]}</div>
            </div>
          `}},grid:{left:"2%",right:"0%",bottom:"30%",top:"12%",containLabel:!0},xAxis:{type:"category",axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",name:"Count",nameLocation:"center",nameGap:40,scale:!0,splitLine:{show:!1}},dataZoom:a?[{type:"inside",start:0,end:100},{type:"slider",start:0,end:100}]:[],series:a?[{type:"scatter",symbolSize:function(c){return Math.min(Math.sqrt(c[1])*5,40)},data:s.map(c=>[c.property_name,c.count]),label:{show:!1},itemStyle:{color:"rgba(67, 121, 238, 0.8)"}}]:[]};return s.length===0?e.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[" ",e.jsxs("span",{className:"text-[#999999] font-semibold text-xl",children:[" ","No Data Available"]})," "]}):e.jsx(D,{option:i,style:{height:"370px",width:"100%"},opts:{renderer:"canvas"}})};function Pt({count:s,chartByAge:a=[],chartByGender:i=[],diseasesCountByGender:c=[],alertsCountByName:r=[],alertsCountByElderly:d=[]}){return console.log(a),e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsxs("div",{className:"flex gap-6 lg:flex-row flex-col h-fit",children:[e.jsxs("div",{className:"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full",children:[e.jsx("div",{id:"Reports",className:"w-full rounded-2xl flex flex-col gap-6",children:e.jsx("div",{id:"Cards",className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",children:s==null?void 0:s.map((o,n)=>{let f=o.icon;return e.jsxs("div",{id:"Card",style:{backgroundColor:o==null?void 0:o.color},className:"cursor-pointer group flex w-full items-center p-4 py-6 text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",className:"w-[100px] h-[100px] bg-white/20 absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",className:"w-[100px] h-[100px] bg-white/10 absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{className:"bg-opacity-10 h-fit rounded-[8px] p-2 bg-black/20",children:f&&e.jsx(f,{color:"#fff",size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none",children:o.count||0}),e.jsx("span",{className:"text-[14px] font-medium text-white/70 leading-none",children:o.label})]})]},n)})})}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Ages"})}),e.jsx(T,{data:i,chartFor:"age"})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Diseases"})}),e.jsx(T,{data:c,chartFor:"diseases"})]})]}),e.jsxs("div",{className:"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Gender"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(X,{data:a,chartFor:"gender"})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Total"})]}),e.jsx("span",{className:"text-lg font-semibold",children:a.reduce((o,n)=>o+n.male_count+n.female_count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Male"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[a.map(o=>o._id==="male"&&o.male_count||0),a.length===0&&e.jsx(e.Fragment,{children:"0"})]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Female"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",a.map(o=>o._id==="female"&&o.male_count||0),a.length===0&&e.jsx(e.Fragment,{children:"0"})]})]})]})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity"}),e.jsx("div",{id:"chartController",className:"flex gap-4"})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Dt,{data:r})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Info"})]}),e.jsx("span",{className:"text-lg font-semibold",children:r.filter(o=>o.type===1).reduce((o,n)=>o+n.count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#F1963A] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Warning"})]}),e.jsx("span",{className:"text-lg font-semibold",children:r.filter(o=>o.type===2).reduce((o,n)=>o+n.count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#D90000] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Critical"})]}),e.jsx("span",{className:"text-lg font-semibold",children:r.filter(o=>o.type===3).reduce((o,n)=>o+n.count,0)})]})]})]})]})]}),e.jsxs("div",{className:"w-full flex gap-6 xl:flex-row flex-col h-[500px] justify-between",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Most Alerts"})}),e.jsx(R,{data:d})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity Count"})}),e.jsx(je,{data:r})]})]})]})}function Lt({row:s}){const a=l.useContext(ye),[i,c]=l.useState(s==null?void 0:s.installation_status),[r,d]=l.useState(!1),o=n=>{c(n),d(!0),dt(s==null?void 0:s._id,{installation_status:n}).then(f=>{console.log(f),a.getInstallationList.getCompletedandToBeInstalled(),a.getInstallationList.getDeviceSalesCounts(),f&&c(n)}).catch(f=>{console.log(f),c(s==null?void 0:s.installation_status)}).finally(()=>{d(!1)})};return l.useEffect(()=>{c(s==null?void 0:s.installation_status)},[s==null?void 0:s.installation_status]),e.jsxs("div",{className:"flex items-center space-x-2 mr-0 ",children:[e.jsx("span",{className:`w-3 h-3 rounded-full relative -right-2 ${i==="completed"?"bg-[#1EB564]":i==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsx(k,{theme:{token:{colorText:"#707EAE",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(_,{value:i,variant:"borderless",onChange:o,loading:r,optionSelectedColor:"#8086AC",className:"w-fit !text-red-100",options:[{value:"completed",label:e.jsx("span",{children:"Complete"})},{value:"pending",label:e.jsx("span",{children:"Pending"})},{value:"not_started",label:e.jsx("span",{children:"Not Started"})}]})})]})}const Et=[{title:"Installation Status",render:s=>e.jsx(Lt,{row:s})},{title:"Report",render:s=>e.jsx("div",{className:"flex justify-center",children:e.jsx(Ct,{report:s})})},{title:"Product Name",render:s=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2",children:s.products.filter((a,i,c)=>{const r=a.type==="Seenyor Kit"&&c.findIndex(d=>d.type==="Seenyor Kit")===i;return!/^AI Sensor/.test(a.type)&&(a.type!=="Seenyor Kit"||r)}).map((a,i)=>{const c=a.type==="Seenyor Kit"?"blue":a.type==="Installation"?"orange":"default";return e.jsx(Q,{color:c,children:a.type==="Seenyor Kit"?"Package":a.type},i)})})})},{title:"Product Price",render:s=>e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary",children:["$",s.products.filter(a=>["Seenyor Kit","Installation","AI Monitoring"].includes(a.type)).reduce((a,i)=>a+i.price,0).toFixed(2)]})})},{title:"Addon Name",render:s=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2",children:s.products.filter(a=>!["Seenyor Kit","Installation","AI Monitoring"].includes(a.type)).map((a,i)=>e.jsx(Q,{children:a.type},i)).length===0?e.jsx("span",{children:"--"}):s.products.filter(a=>!["Seenyor Kit","Installation","AI Monitoring"].includes(a.type)).map((a,i)=>e.jsx(Q,{children:a.type},i))})})},{title:"Addon Price",render:s=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:s.products.map((a,i)=>["Seenyor Kit","Installation","AI Monitoring"].includes(a.type)?null:e.jsxs("span",{children:["$",a.price.toFixed(2)]},i)).filter(Boolean).length===0?e.jsx("span",{children:"--"}):s.products.map((a,i)=>["Seenyor Kit","Installation","AI Monitoring"].includes(a.type)?null:e.jsxs("span",{children:["$",a.price.toFixed(2)]},i))})})},{title:"Total Price",render:s=>e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:["$",s.total]})})},{title:"Date of Sales",render:s=>{const a=new Date(s.created_at).toLocaleDateString("en-CA");return e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:a})})}},{title:"Location",render:s=>{var a,i,c,r,d,o;return e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:[(a=s.address)==null?void 0:a.line1,","," ",(i=s.address)!=null&&i.line2?((c=s.address)==null?void 0:c.line2)+", ":"",","," ",(r=s.address)==null?void 0:r.city,", ",(d=s.address)==null?void 0:d.state,","," ",s.address?s.address.postal_code:" ",", ",(o=s.address)==null?void 0:o.country]})})}},{title:"Payment Status",dataIndex:"payment_status",key:"payment_status",filters:[{text:"Completed",value:"completed"},{text:"Pending",value:"pending"},{text:"Cancelled",value:"cancelled"}],filterMultiple:!0,onFilter:(s,a)=>a.payment_status.includes(s),render:s=>{let a="";switch(s){case"completed":a="green";break;case"pending":a="orange";break;case"cancelled":a="red";break;default:a="black"}return e.jsx("span",{style:{backgroundColor:a,color:"white",padding:"4px 8px",borderRadius:"4px",fontWeight:500,textTransform:"capitalize"},children:s})}}];function Ft(){const[s,a]=l.useState(!1),[i,c]=l.useState(1),[r,d]=l.useState(0),[o,n]=l.useState([]);l.useState([]);const[f,m]=l.useState([]);function N(g){a(!0),ut(g).then(y=>{n(y.data),d(y.total)}).catch(y=>{console.log(y)}).finally(()=>{a(!1)})}const h=l.useCallback(()=>{ft().then(g=>{m(g.data),console.log(g.data)}).catch(g=>{console.log(g)})},[i]),j=l.useCallback(()=>{N({installation_status:"completed",ne:!0,page:i})},[i]);l.useEffect(()=>{j()},[j]),l.useEffect(()=>{h()},[h]);const{registerRef:v}=be(),C={step1:l.useRef(null)};return l.useEffect(()=>{Object.keys(C).forEach(g=>{C[g].current&&v("tour_step_"+g,C[g])})},[v]),e.jsx("div",{className:"flex flex-col gap-6 pt-6",children:e.jsxs("div",{className:"w-full flex  gap-6 lg:flex-row flex-col",children:[e.jsxs("div",{id:"NewInstallation",className:"p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-full",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between mb-8",ref:C.step1,children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"To Be Installed"}),e.jsx("div",{id:"chartController",className:"flex gap-4"})]}),e.jsx(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(ye.Provider,{value:{getInstallationList:{getCompletedandToBeInstalled:j,getDeviceSalesCounts:h},total:r,page:i,SetPage:c},children:e.jsx(ct,{loading:s,scroll:{x:750},columns:Et,tableData:o})})})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[35%] w-full",children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Device Installed"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(X,{data:f,chartFor:"device"})})]}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","not_started"].map((g,y)=>{const x=f.find(L=>L._id===g)||{_id:g,count:0};return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:`w-[12px] h-[12px] ${x._id==="completed"?"bg-[#08A1F7]":x._id==="pending"?"bg-[#922BF2]":"bg-[#FF3B11]"} rounded-full`}),e.jsx("span",{className:"text-lg font-medium capitalize",children:x._id==="completed"?"Completed":x._id==="pending"?"Pending":"Not Started"})]}),e.jsx("span",{className:"text-lg font-semibold",children:x.count})]},y)})})]})]})})}const{RangePicker:Ot}=xt,Mt=s=>{console.log("onOk: ",s)},P=s=>{console.log("search:",s)},Rt=()=>{l.useState(!1),l.useState("Overview"),l.useState(""),l.useState(""),l.useState(!1),l.useState([]),l.useState({current:"1",size:"10"});const{registerRef:s}=be(),[a,i]=l.useState({page:1,limit:10}),[c,r]=l.useState(!1),[d,o]=l.useState(B.get("user")),[n,f]=l.useState(B.get("role")),[m,N]=l.useState(B.get("mainRole")),[h,j]=l.useState(null),[v,C]=l.useState(null),[g,y]=l.useState(null),[x,L]=l.useState("all"),[z,ve]=l.useState(null),[H,we]=l.useState(null),[V,Ne]=l.useState(null),[W,Y]=l.useState(null),[U,q]=l.useState(null),[G,Z]=l.useState(null),[K,Tt]=l.useState(null),[$,zt]=l.useState(null),[J,Se]=l.useState([]),[E,Ce]=l.useState([]),[F,_e]=l.useState(null),[O,Ae]=l.useState([]),[ke,Ie]=l.useState([]),[Be,De]=l.useState([]),[Pe,Le]=l.useState([]),[ee,Ee]=l.useState([]),[te,Fe]=l.useState([]),[Ht,Oe]=l.useState([]),[w,le]=l.useState({}),[Me,Vt]=l.useState({}),[se,Re]=l.useState([]),[I,Te]=l.useState([]),[ae,ze]=l.useState([]),[ne,He]=l.useState([]),[oe,Ve]=l.useState([]),[We,Ue]=l.useState([]),Ge=l.useCallback(()=>{ht().then(t=>{Re(t.data)}).catch(t=>{console.log(t)})},[]),Ke=l.useCallback(()=>{mt().then(t=>{Te(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[]),$e=l.useCallback(()=>{gt().then(t=>{ze(t.data)}).catch(t=>{console.log(t)})},[]),Qe=l.useCallback(()=>{yt().then(t=>{He(t.data)}).catch(t=>{console.log(t)})},[]),Xe=l.useCallback(()=>{bt().then(t=>{const p=t.data.map(u=>{var b,A;return{property_name:(b=me(u))==null?void 0:b.title,count:u.count,type:(A=me(u))==null?void 0:A.status}});console.log(p),Ve(p)}).catch(t=>{console.log(t)})},[]);function Ye(){wt().then(t=>{const u=Bt.map(b=>{var pe;const A=(pe=t.data)==null?void 0:pe.find(lt=>lt.role===b.role);return{...b,count:A?A.count:0}}).filter(b=>b.rolesAllowed.includes(d.role));Ae(u)}).catch(t=>{console.log(t)})}const ie=l.useCallback((t,p)=>{jt({office_id:w.office_id,agent_id:t,payment_status:p,from_date:h,to_date:v}).then(u=>{console.log("sales Overview",u),Ie(u.data)}).catch(u=>{console.log(u)})},[x,g,w.office_id,v]),re=l.useCallback((t,p)=>{M({...w,total_sales_by:"agent_name",city:t,payment_status:p,from_date:h,to_date:v}).then(u=>{De(u.data)}).catch(u=>{console.log(u)})},[H,z,w.office_id,v]),de=l.useCallback((t,p)=>{M({...w,total_sales_by:"location",payment_status:p,agent_id:t,from_date:h,to_date:v}).then(u=>{Le(u.data),console.log(u)}).catch(u=>{console.log(u)})},[W,V,w.office_id,v]),ce=l.useCallback(t=>{M({...w,total_sales_by:"payment_status",agent_id:t,from_date:h,to_date:v}).then(p=>{Ee(p.data),console.log(p)}).catch(p=>{console.log(p)})},[U,w.office_id,v]),ue=l.useCallback(t=>{M({...w,total_sales_by:"installation_status",agent_id:t,from_date:h,to_date:v}).then(p=>{Fe(p.data),console.log(p)}).catch(p=>{console.log(p)})},[G,w.office_id,v]),xe=l.useCallback((t,p)=>{r(!0),vt({...a,...w,agent_id:t,payment_status:p,from_date:h,to_date:v}).then(u=>{console.log(u),Oe(u),r(!1)}).catch(u=>{console.log(u)})},[K,$,w.office_id,v,a]);l.useEffect(()=>{ie(x==="all"?null:x,g==="all"?null:g)},[ie]),l.useEffect(()=>{re(H==="all"?null:H,z==="all"?null:z)},[re]),l.useEffect(()=>{de(W==="all"?null:W,V==="all"?null:V)},[de]),l.useEffect(()=>{ce(U==="all"?null:U)},[ce]),l.useEffect(()=>{ue(G==="all"?null:G)},[ue]),l.useEffect(()=>{xe($==="all"?null:$,K==="all"?null:K)},[xe]),l.useEffect(()=>{if(F)if(F==="all"){if(w.office_id){const t={...w};delete t.office_id,le(t)}}else le(t=>({...t,office_id:F})),q("all"),Z("all"),Y("all"),L("all")},[F]);function qe(t){console.log(t),j(t.start),C(t.end)}function Ze(t){j(t[0]),C(t[1])}function Je(){fe({role:"office"}).then(t=>{Se(t.data)}).catch(t=>{console.log(t)})}function et(){console.log("called agent get list!",Me),fe({...w,role:"sales_agent"}).then(t=>{Ce(t.data)}).catch(t=>{console.log(t)})}function tt(){pt({...w}).then(t=>{Ue(t.data)}).catch(t=>{console.log(t)})}const S={officeDropdown:l.useRef(null),datePicker:l.useRef(null),usersCount:l.useRef(null),totalSales:l.useRef(null),totalInstallations:l.useRef(null),salesOverview:l.useRef(null),salesByAgent:l.useRef(null),salesByLocation:l.useRef(null)};return l.useEffect(()=>{Object.keys(S).forEach(t=>{S[t].current&&s("tour_step_"+t,S[t])})},[s]),l.useEffect(()=>{Ye(),Je(),(d.role==="nursing_home"||d.role==="monitoring_station")&&(Ge(),Ke(),$e(),Qe(),Xe())},[]),l.useEffect(()=>{et(),tt()},[w]),e.jsxs("div",{className:"",children:[(d.role=="distributor"||d.role=="office"||d.role=="sales_agent")&&e.jsxs("div",{className:"pt-[29px] flex flex-col w-full gap-6 pb-10",children:[e.jsx("div",{id:"Distributor_Dash_Top",className:"flex justify-between w-full mb-5 flex-wrap gap-5",children:e.jsxs(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[d.role=="office"?e.jsx("div",{className:"p-2 px-4 rounded-lg text-[36px] font-bold  text-primary",children:d.office}):d.role=="sales_agent"?null:e.jsx("div",{ref:S.officeDropdown,children:e.jsx(_,{showSearch:!0,optionFilterProp:"label",onChange:t=>_e(t.value),onSearch:P,defaultValue:"all",size:"large",className:"custom-select",labelInValue:!0,options:[{value:"all",label:e.jsxs(e.Fragment,{children:["All Offices"," ",e.jsx("span",{className:"highlighted-number",children:J.length})]})},...J.map(t=>({value:t._id,label:t.name}))]})}),e.jsxs("div",{id:"DatePickers",className:"flex gap-4 items-center",ref:S.datePicker,children:[e.jsx(kt,{placeholder:"Weekly/Monthly",style:{width:"140px",borderRadius:"10px"},handleChnage:qe}),e.jsx(Ot,{showTime:!1,style:{width:"200px",borderRadius:"10px"},size:"large",placeholder:["Pick Data Range (Start)","End"],format:"YYYY-MM-DD",onChange:(t,p)=>{Ze(p)},onOk:Mt})]})]})}),e.jsx("div",{id:"Reports",className:"w-full rounded-2xl bg-transparent flex flex-col gap-6",ref:S.usersCount,children:e.jsx("div",{id:"Cards",className:"grid gap-5 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:O==null?void 0:O.map((t,p)=>{let u=t.icon;return e.jsxs("div",{id:"Card",className:"cursor-pointer group flex w-full items-center p-4 py-6 bg-[#fff] text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",style:{backgroundColor:t.color,opacity:"0.9"},className:"w-[100px] h-[100px] absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",style:{backgroundColor:t.color,opacity:"0.2"},className:"w-[100px] h-[100px] absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{style:{backgroundColor:`${t.color}15`},className:"h-fit rounded-[8px] p-2",children:u&&e.jsx(u,{style:{color:t==null?void 0:t.color},size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none text-text-primary",children:t.count}),e.jsx("span",{className:"text-[14px] font-medium text-text-primary/70 leading-none",children:t.label})]})]},p)})})}),e.jsxs("div",{id:"SalesOverview&Total",className:"w-full flex  gap-6 flex-col",children:[e.jsxs("div",{className:"w-full flex gap-6",children:[e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]",ref:S.totalSales,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Sales"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:m!=="sales_agent"?e.jsx(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(_,{showSearch:!0,optionFilterProp:"label",onChange:t=>q(t.value),onSearch:P,defaultValue:"all",size:"large",style:{maxWidth:150,zIndex:"400"},labelInValue:!0,options:[{value:"all",label:"All Agents"},...E.map(t=>({value:t._id,label:t.name+" "+t.last_name}))]})}):null})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(ge,{data:ee,chartFor:"totalSales"})}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","cancelled"].map(t=>{const p=ee.find(A=>A.property_name===t)||{property_name:t,total_orders:0};let u,b;switch(p.property_name){case"completed":u="#4379EE",b="Completed";break;case"pending":u="#F1963A",b="Pending";break;case"cancelled":u="#D90000",b="Cancelled";break;default:u="#000000",b="Unknown"}return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] rounded-full",style:{backgroundColor:u}}),e.jsx("span",{className:"text-lg font-medium",children:b})]}),e.jsx("span",{className:"text-lg font-semibold",children:p.total_orders})]},p.property_name)})})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]",ref:S.totalInstallations,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Installations"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:m!=="sales_agent"?e.jsx(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(_,{showSearch:!0,optionFilterProp:"label",onChange:t=>Z(t.value),onSearch:P,defaultValue:"all",size:"large",style:{maxWidth:150,zIndex:"400"},labelInValue:!0,options:[{value:"all",label:"All Agents"},...E.map(t=>({value:t._id,label:t.name+" "+t.last_name}))]})}):null})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(ge,{data:te,chartFor:"totalInstallations"})}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","not_started"].map(t=>{const p=te.find(A=>A.property_name===t)||{property_name:t,total_orders:0};let u,b;switch(p.property_name){case"completed":u="#36b610",b="Completed";break;case"pending":u="#833af1",b="In Progress";break;case"not_started":u="#5d5d5d",b="Not Started";break;default:u="#000000",b="Unknown"}return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] rounded-full",style:{backgroundColor:u}}),e.jsx("span",{className:"text-lg font-medium",children:b})]}),e.jsx("span",{className:"text-lg font-semibold",children:p.total_orders})]},p.property_name)})})]})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[100%] w-full  h-[445px]",ref:S.salesOverview,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Sales Overview"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(_,{optionFilterProp:"label",onChange:t=>y(t.value),defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),m!=="sales_agent"?e.jsx(_,{showSearch:!0,optionFilterProp:"label",onChange:t=>L(t.value),onSearch:P,value:x,defaultValue:"all",size:"large",style:{maxWidth:150,zIndex:"400"},labelInValue:!0,options:[{value:"all",label:"All Agents"},...E.map(t=>({value:t._id,label:t.name+" "+t.last_name}))]}):null]})})]}),e.jsx(It,{data:ke})]})]}),e.jsxs("div",{id:"SalesByLucation&Agents",className:"w-full flex gap-6 xl:flex-row flex-col",children:[d.role=="sales_agent"?null:e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white w-full h-[445px]",ref:S.salesByAgent,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:" Sales by Agent"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(_,{optionFilterProp:"label",onChange:t=>ve(t.value),defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),e.jsx(_,{showSearch:!0,optionFilterProp:"label",onChange:t=>we(t.value),onSearch:P,defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Locations"},...We.map(t=>({value:t.city_name,label:t.city_name}))]})]})})]}),e.jsx(R,{data:Be,graphTitle:"Sales by Agent"})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl  bg-white w-full h-[445px]",ref:S.salesByLocation,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Sales by Location"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(_,{optionFilterProp:"label",onChange:t=>Ne(t.value),defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),m!=="sales_agent"?e.jsx(_,{showSearch:!0,optionFilterProp:"label",onChange:t=>Y(t.value),onSearch:P,defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Agents"},...E.map(t=>({value:t._id,label:t.name+" "+t.last_name}))]}):null]})})]}),e.jsx(R,{data:Pe,graphTitle:"Sales by Location"})]})]})]}),d.role=="monitoring_station"?e.jsx(Pt,{count:O,chartByAge:I,chartByGender:se,diseasesCountByGender:ae,alertsCountByName:oe,alertsCountByElderly:ne}):null,n=="installer"?e.jsx(Ft,{}):null,d.role=="nursing_home"?e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsxs("div",{className:"w-full flex gap-6 xl:flex-row flex-col h-fit justify-between",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Most Alerts"})}),e.jsx(R,{data:ne})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity Count"})}),e.jsx(je,{data:oe})]})]}),e.jsxs("div",{className:"flex gap-6 lg:flex-row flex-col h-fit",children:[e.jsxs("div",{className:"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Ages"})}),e.jsx(T,{chartFor:"age",data:se})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Diseases"})}),e.jsx(T,{chartFor:"diseases",data:ae})]})]}),e.jsx("div",{className:"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full",children:e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Gender"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(X,{data:I,chartFor:"gender"})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Total"})]}),e.jsx("span",{className:"text-lg font-semibold",children:I.reduce((t,p)=>t+p.male_count+p.female_count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Male"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[I.map(t=>t._id==="male"&&t.male_count||0),I.length===0&&e.jsx(e.Fragment,{children:"0"})]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Female"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",I.map(t=>t._id==="female"&&t.male_count||0),I.length===0&&e.jsx(e.Fragment,{children:"0"})]})]})]})]})})]})]}):null]})},sl=()=>{var g;l.useState({});const[s,a]=l.useState(!1),[i,c]=l.useState({}),[r,d]=l.useState({}),[o,n]=l.useState(()=>{const y=B.get("seenToursDash");return y||{}}),f=(g=B.get("user"))==null?void 0:g.role,m=B.get("user"),N=l.useCallback(y=>{d(x=>x!==y?y:x)},[]),h={fontSize:"14px",padding:"14px 18px",borderRadius:"8px"},j={fontSize:"14px",padding:"14px 18px",borderRadius:"8px"};l.useEffect(()=>{const y={distributor:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",m==null?void 0:m.name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Displays key metrics such as Indoor Duration, Walking Steps, Skill Time, Walking Speed, and Room Entry/Exit Count."}),nextButtonProps:{children:"Let's Start",style:h,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Daily Activity Summary"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Displays key metrics such as Indoor Duration, Walking Steps, Skill Time, Walking Speed, and Room Entry/Exit Count."}),nextButtonProps:{children:"Start Tour",style:h,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Office Dropdown"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Use the office dropdown to select a specific office or view data for all offices at once."}),target:()=>{var x;return(x=r.tour_step_officeDropdown)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,variant:"solid",size:"middle",className:"tour_step_btn",color:"default"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var x;return(x=r.tour_step_datePicker)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var x;return(x=r.tour_step_usersCount)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var x;return(x=r.tour_step_totalSales)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var x;return(x=r.tour_step_totalInstallations)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var x;return(x=r.tour_step_salesOverview)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Agent"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"See the total sales made by each agent, allowing you to track individual performance and contributions."}),target:()=>{var x;return(x=r.tour_step_salesByAgent)==null?void 0:x.current},nextButtonProps:{children:"Next",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var x;return(x=r.tour_step_salesByLocation)==null?void 0:x.current},nextButtonProps:{children:"Finish",style:h,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:j}}]};c(y[f]||[])},[r]);const v=()=>i.length>0?i:[];function C(){a(!1);const y={...o,[f]:!0};n(y),B.set("seenToursDash",y)}return e.jsx(e.Fragment,{children:e.jsxs(_t,{onRefsUpdate:N,children:[e.jsx(Rt,{}),e.jsx(k,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67",primaryColor:"#252F67"}},children:e.jsx(At,{open:s,onFinish:C,steps:v(),onClose:C})})]})})};export{sl as default};
//# sourceMappingURL=index-BUKbhd92.js.map
