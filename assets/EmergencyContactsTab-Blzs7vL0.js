import{r as m,j as e,a5 as g,fo as f,bu as j,_ as c,E as u,aA as p,fp as C,bq as b,fq as N,aC as y}from"./index-Cx2ZnkBC.js";import{C as M}from"./CreateAndEditModal-BvXcAXkr.js";import{C as h}from"./UseCustomContext-B_8njEg6.js";import{b as E,d as v}from"./elderlySupport-Be2ONXbK.js";import"./index-DeYq_rVT.js";import"./weekday-C9b2Qfvl.js";import"./SwapRightOutlined-BrWUqLcp.js";import"./weekOfYear-BB4hO8z1.js";import"./leaflet-src-D3S0fG_R.js";/* empty css                */import"./HomeOutlined-wi50rR7p.js";import"./InfoCircleOutlined-DyCV0Tn1.js";function F(){var d,i;const{elderlyDetails:t,getElderlyDetails:a}=m.useContext(h),[x,n]=m.useState(!1),l=o=>{E({id:t==null?void 0:t._id,data:o}).then(r=>{c.custom(s=>e.jsx(u,{t:s,text:"Contact Number Added Successfully!"})),a()}).catch(r=>{c.custom(s=>e.jsx(p,{t:s,title:"Error",text:r.message}))})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Emergency Contacts"}),e.jsxs(g,{onClick:()=>n(!0),size:"large",className:"bg-white !text-primary px-4 py-2 rounded-lg hover:!bg-primary/5 flex items-center gap-2",children:[e.jsx(f,{size:20}),"Add New Contact"]})]}),((d=t==null?void 0:t.emergency_contacts)==null?void 0:d.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:(i=t==null?void 0:t.emergency_contacts)==null?void 0:i.map(o=>e.jsx(w,{contact:o},o.id))}):e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx(j,{description:"No contact number available to show"})})]}),e.jsx(M,{modalOpen:x,setModalOpen:n,type:"contact",onSubmitData:l})]})}const w=({contact:t})=>{const{elderlyDetails:a,getElderlyDetails:x}=m.useContext(h),[n,l]=m.useState(!1),d=o=>{v({id:a==null?void 0:a._id,emergencyContactId:o}).then(r=>{c.custom(s=>e.jsx(u,{t:s,text:"Contact Number Deleted Successfully!"})),x()}).catch(r=>{c.custom(s=>e.jsx(p,{t:s,title:"Error",text:r.message}))})},i=()=>{const o=Math.floor(Math.random()*156)+50,r=Math.floor(Math.random()*156)+50,s=Math.floor(Math.random()*156)+50;return`rgb(${o}, ${r}, ${s})`};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex  bg-white p-4 rounded-lg items-center gap-8 justify-between",children:[e.jsxs("div",{id:"header",className:"flex flex-col gap-2 ",children:[e.jsx("div",{id:"icon",className:"text-xl p-3 text-white w-fit rounded-full",style:{backgroundColor:i()},children:e.jsx(C,{})}),e.jsxs("div",{id:"contact-info",children:[e.jsx("h1",{className:"text-xl font-semibold",children:t==null?void 0:t.contact_person}),e.jsx("p",{className:"text-base text-gray-500",children:(t==null?void 0:t.contact_number_code)+" "+(t==null?void 0:t.contact_number)})]})]}),e.jsx("div",{id:"callbtnManu",children:e.jsxs(b.Button,{menu:{items:[{label:"Remove",key:"1"}],onClick:()=>l(!0)},children:[e.jsx(N,{}),"Call"]})})]}),e.jsx(y,{onDelete:()=>d(t==null?void 0:t._id),modalOPen:n,setModalOpen:l,title:"Are you sure to remove this contact?",title2:"This process cannot be undo.",okText:"Remove Contact"})]})};export{w as EmergencyContactCard,F as default};
