import{r,aK as h,b3 as u,j as e,fp as b,h3 as x,aH as v,aI as j}from"./index-CZWH72ML.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new t.Error().stack;i&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[i]="2d21ff19-d7bc-4c0b-b95f-f3e1db4c2f15",t._sentryDebugIdIdentifier="sentry-dbid-2d21ff19-d7bc-4c0b-b95f-f3e1db4c2f15")}catch{}function m({data:t={}}){var l;const{deviceData:i}=r.useContext(h),a=r.useContext(u),{elderlyDetails:o}=a||{},d=(t==null?void 0:t.device_no)||(o==null?void 0:o.deviceId),s=r.useMemo(()=>{var n;return((n=i[d])==null?void 0:n.position)||[]},[(l=i[d])==null?void 0:l.position]);return e.jsxs("div",{className:"top-2 left-2 border-2 p-0 rounded-full flex items-center gap-1 pr-2 h-fit w-fit z-50",children:[(s==null?void 0:s.length)>0?e.jsx(b,{color:"white",overlayInnerStyle:{color:"black",padding:"10px"},title:s==null?void 0:s.map((n,c)=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{style:{backgroundColor:n==null?void 0:n.color},className:"p-2 rounded-full",children:e.jsx(x,{size:14,color:"white"})}),e.jsx("div",{children:e.jsx("p",{className:"text-sm m-0",children:n==null?void 0:n.posture})})]},c)),children:e.jsx("div",{className:"flex -space-x-4 cursor-pointer",children:s==null?void 0:s.map((n,c)=>e.jsx("div",{style:{backgroundColor:n==null?void 0:n.color},className:"p-1 rounded-full border-2 border-white",children:e.jsx(x,{size:16,color:"white"})},c))})}):e.jsx("div",{className:"bg-primary p-1 rounded-full border-2 border-white",children:e.jsx(x,{size:16,color:"white"})}),e.jsx("span",{className:"font-bold text-lg",children:s?s==null?void 0:s.length:0})]})}function w(){var d;const t=r.useContext(u),{elderlyDetails:i}=t||{},[a,o]=r.useState({});return e.jsx("div",{className:"flex flex-col gap-4 mt-6 overflow-hidden",children:(i==null?void 0:i.rooms)&&((d=i==null?void 0:i.rooms)==null?void 0:d.filter(s=>s.device_no).map((s,l)=>{var c;return(((c=s.device_no)==null?void 0:c.split(",").map(f=>f.trim()))||[]).flatMap(f=>a[f]||[]),e.jsxs("div",{className:"flex flex-col gap-4 bg-white rounded-2xl p-4 h-[700px]",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s==null?void 0:s.name}),e.jsxs("div",{className:"flex h-full",children:[e.jsx(m,{data:s}),e.jsxs("div",{id:"roomMap",className:"w-full h-full scale-[1.2] mt-14",children:[(s==null?void 0:s.mount_type)===2&&e.jsx(v,{roomInfo:s}),(s==null?void 0:s.mount_type)===1&&e.jsx(j,{roomInfo:s})]})]})]},l)}))})}export{w as default};
//# sourceMappingURL=LiveMapTab-DXQ2vAOw.js.map
