{"version":3,"file":"index-B62yr9zB.js","sources":["../../src/Pages/AdminSupportAgents/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport TabMenus from '@/Components/TabMenus'\r\nimport { Table } from 'antd';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { bootElerProfilePage } from '@/api/AdminSupportAgents'\r\nimport { allElderProfilePage } from '@/api/RecentAlerts'\r\nimport BlockButton from '@/Components/BlockButton'\r\nimport { useCountStore } from '@/store/index';\r\nimport BlockSerch from '@/Components/BlockSerch'\r\nimport ls from 'store2'\r\n\r\nconst AdminSupportAgents = () => {\r\n  const navigate = useNavigate()\r\n  const [modalOPen, setModalOpen] = useState(false)\r\n  const [activeTab, setActiveTab] = useState('AII')\r\n  const [menus, setMenus] = useState([\r\n    {\r\n      text: \"AII\",\r\n      bo: true,\r\n      warring: false\r\n    },\r\n    {\r\n      text: \"With Alerts\",\r\n      bo: true,\r\n      warring: false\r\n\r\n    },\r\n    {\r\n      text: \"With Diseases\",\r\n      bo: true,\r\n      warring: false\r\n\r\n    },\r\n    {\r\n      text: \"Taking Medications\",\r\n      bo: true,\r\n      warring: false\r\n    },\r\n    {\r\n      text: \"With Allergies\",\r\n      bo: true,\r\n      warring: false\r\n    },\r\n    // {\r\n    //   text: \"In bed\",\r\n    //   bo: true,\r\n    //   warring: false\r\n    // },\r\n    // {\r\n    //   text: \"Out of Bed\",\r\n    //   bo: true,\r\n    //   warring: false\r\n    // },\r\n\r\n    // {\r\n    //   text: \"Surveillance Mode ON\",\r\n    //   bo: true,\r\n    //   warring: false\r\n    // }\r\n\r\n  ])\r\n  const [query, setQuery] = useState({ \"current\": 1, size: 10 })\r\n  const [tabdata, setTabdata] = useState([])\r\n  const [total, setTotal] = useState(0)\r\n  const [loading, setLoading] = useState(false)\r\n  \r\n  const { setSupportDetil } = useCountStore();\r\n  const nato = (id, item) => {\r\n    ls.session.set('users_Detail',item)\r\n    setSupportDetil(item)\r\n    navigate(`${id}`)\r\n  }\r\n\r\n  const tabcolumns = [\r\n    {\r\n      title: 'Room',\r\n      dataIndex: 'name',\r\n      key: 'key',\r\n      render: (text, row) => {\r\n        return (\r\n          <div className='flex items-center cursor-pointer ' onClick={() => nato(row.id, row)}>\r\n            <div >\r\n              <div dangerouslySetInnerHTML={{\r\n                __html: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"15\" viewBox=\"0 0 16 15\" fill=\"none\">\r\n                <path d=\"M14.1806 6.3701V1.8896C14.1806 0.978525 13.4446 0.237305 12.54 0.237305H3.46004C2.55542 0.237305 1.81951 0.978525 1.81951 1.8896V6.3701C0.777128 6.62264 0 7.56893 0 8.69513V12.037C0 12.3022 0.213407 12.5171 0.476658 12.5171H1.81948V13.6782C1.81948 13.9433 2.03288 14.1582 2.29613 14.1582C2.55938 14.1582 2.77279 13.9433 2.77279 13.6782V12.5171H13.2272V13.6782C13.2272 13.9433 13.4406 14.1582 13.7039 14.1582C13.9671 14.1582 14.1805 13.9433 14.1805 13.6782V12.5171H15.5233C15.7866 12.5171 16 12.3022 16 12.037V8.69513C16.0001 7.56893 15.2229 6.62264 14.1806 6.3701ZM2.77282 1.8896C2.77282 1.50796 3.08114 1.19745 3.46004 1.19745H12.54C12.9189 1.19745 13.2272 1.50796 13.2272 1.8896V6.30344H11.6521V5.54607C11.6521 4.29124 10.6384 3.27039 9.39251 3.27039H6.60762C5.36168 3.27039 4.34805 4.29128 4.34805 5.54607V6.3034H2.77282V1.8896ZM10.6988 5.54607V6.3034H5.3013V5.54607C5.3013 4.82065 5.88727 4.2305 6.60756 4.2305H9.39247C10.1127 4.23047 10.6988 4.82068 10.6988 5.54607ZM0.953316 11.557V8.69513C0.953316 7.90576 1.59097 7.26355 2.37476 7.26355H13.6252C14.409 7.26355 15.0467 7.90576 15.0467 8.69513V11.557H0.953316Z\" fill=\"#989BA7\"/>\r\n                </svg>\r\n              ` }}>\r\n              </div>\r\n            </div>\r\n            <div className='ml-[10px]'> {row.roomNumber}</div>\r\n          </div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'lastName',\r\n      key: 'lastName',\r\n      render: (text, row) => {\r\n        return <div className='flex items-center'>\r\n          {row?.firstName}{row?.lastName}\r\n        </div>\r\n      }\r\n    },\r\n    {\r\n      title: 'Address',\r\n      dataIndex: 'address',\r\n      key: 'address   ',\r\n    },\r\n    {\r\n      title: 'Active Alert',\r\n      dataIndex: 'alertsCount',\r\n      key: 'alertsCount',\r\n      render: (text, row) => {\r\n        return (\r\n          <div>{row.alertsCount == 0 ? \"NO\" : \"YES\"}</div>\r\n        )\r\n        // let elderActiveWebPageDTO = row.elderActiveWebPageDTO\r\n        // return (\r\n\r\n        //   elderActiveWebPageDTO ? (<div className='flex items-center'>\r\n        //     <div >\r\n        //       <div dangerouslySetInnerHTML={{\r\n        //         __html: elderActiveWebPageDTO ? elderActiveWebPageDTO.iconUrl : \"\"\r\n        //       }}>\r\n        //       </div>\r\n        //     </div>\r\n        //     <div className='ml-[10px]'> {elderActiveWebPageDTO?.alertName}</div>\r\n        //   </div>) : (<div>NO</div>)\r\n        // )\r\n      }\r\n    },\r\n    {\r\n      title: 'Allergies',\r\n      dataIndex: 'Allergies',\r\n      key: 'Allergies',\r\n      render: (text, row) => {\r\n        return (\r\n          <div>{row.specialAttentionCount == 0 ? \"NO\" : \"YES\"}</div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      title: 'Diseases',\r\n      dataIndex: 'diseases',\r\n      key: 'diseases',\r\n      render: (text, row) => {\r\n        return (\r\n          <div>{row.healthInsightCount == 0 ? \"NO\" : \"YES\"}</div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      title: 'Medications',\r\n      dataIndex: 'Medications',\r\n      key: 'Medications',\r\n      render: (text, row) => {\r\n        return (\r\n          <div>{row.medicationCount == 0 ? \"NO\" : \"YES\"}</div>\r\n        )\r\n      }\r\n    },\r\n    // {\r\n    //   title: 'Location',\r\n    //   dataIndex: 'Location',\r\n    //   key: 'bed',\r\n    //   render: (text, row) => {\r\n    //     return (\r\n    //       <div>{row.bed == 0 ? \"Out of Bed\" : \"In Bed\"}</div>\r\n    //     )\r\n    //   }\r\n    // },\r\n    // {\r\n    //   title: 'State',\r\n    //   dataIndex: 'status',\r\n    //   key: 'status',\r\n    //   render: (text, row) => {\r\n\r\n    //     let statu = row.priority\r\n    //     if (statu == 0) {\r\n    //       return (\r\n    //         <div className='flex items-center'>\r\n    //           <div className='mr-[10px] '>Good</div>\r\n    //           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"15\" viewBox=\"0 0 12 15\" fill=\"none\">\r\n    //             <path d=\"M-3.02841e-07 7.31057L12 0.382362L12 14.2388L-3.02841e-07 7.31057Z\" fill=\"#6FCF97\" />\r\n    //           </svg>\r\n\r\n    //         </div >\r\n    //       )\r\n    //     } else if (statu == 2) {\r\n    //       return (\r\n    //         <div className='flex items-center'>\r\n    //           <div className='mr-[10px] text-onBackWarring'>Critical</div>\r\n    //           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"13\" viewBox=\"0 0 14 13\" fill=\"none\">\r\n    //             <path d=\"M6.9282 0.197754L13.8564 12.1978H0L6.9282 0.197754Z\" fill=\"#FA4B5E\" />\r\n    //           </svg>\r\n\r\n    //         </div >\r\n    //       )\r\n    //     } else {\r\n    //       return (\r\n    //         <div>\r\n    //           <div className=''>Remind </div>\r\n    //         </div>\r\n    //       )\r\n    //     }\r\n\r\n    //   }\r\n    // },\r\n    // {\r\n    //   title: 'Value',\r\n    //   key: 'tags',\r\n    //   dataIndex: 'tags',\r\n    //   render: (_, { tags }) => (\r\n    //     <>\r\n    //       {tags.map((tag) => {\r\n    //         let color = tag.length > 5 ? 'geekblue' : 'green';\r\n    //         if (tag === 'loser') {\r\n    //           color = 'volcano';\r\n    //         }\r\n    //         return (\r\n    //           <Tag color={color} key={tag}>\r\n    //             {tag.toUpperCase()}\r\n    //           </Tag>\r\n    //         );\r\n    //       })}\r\n    //     </>\r\n    //   ),\r\n    // },\r\n\r\n  ];\r\n  const handBlurchange=(e)=>{\r\n    setQuery({ current: 1, size: 10 });\r\n    getList({ current: 1, size: 10,radarRoomId:e });\r\n\r\n  }\r\n  const getList = async (currentQuery) => {\r\n    setLoading(true)\r\n    let body = { ...currentQuery }\r\n    if (activeTab == \"With Alerts\") {\r\n      body.alerts = 1\r\n      body.type = 1\r\n    } else if (activeTab == \"With Diseases\") {\r\n      body.disease = 1\r\n      body.type = 2\r\n    } else if (activeTab == \"Taking Medications\") {\r\n      body.taking = 1\r\n      body.type = 3\r\n    } else if (activeTab == \"With Allergies\") {\r\n      body.allergies = 1\r\n      body.type = 4\r\n    } else if (activeTab == \"AII\") {\r\n      body.type = 5\r\n    }\r\n\r\n    console.log(body)\r\n    const { data } = await allElderProfilePage({ ...body })\r\n    setLoading(false)\r\n    setTotal(data.total)\r\n    setTabdata(data.records)\r\n  }\r\n  const updateQuery = (page) => {\r\n    setQuery({ ...query, current: page })\r\n    getList({ ...query, current: page })\r\n  };\r\n  useEffect(() => {\r\n    // 仅在activeTab改变时设置query并获取列表\r\n    setQuery({ current: 1, size: 10 });\r\n    getList({ current: 1, size: 10 });\r\n  }, [activeTab]);  // 仅依赖于activeTab\r\n\r\n  return (\r\n    <>\r\n      <div className='flex h-[100px] justify-between  items-center mr-[50px] '>\r\n        <div className='text-[28px] font-semibold' >Elderlies</div>\r\n        <BlockSerch placeholder=\"Search for Elderly or Room... \" handBlurchange={handBlurchange}/>\r\n        {/* <BlockButton>\r\n          <div className='flex items-center'>\r\n            <div className='mr-[10px]'>\r\n              <div dangerouslySetInnerHTML={{\r\n                __html: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\">\r\n<path d=\"M16.7567 15.5735L12.8125 11.6129C13.8266 10.449 14.3823 8.98455 14.3823 7.45999C14.3823 3.89801 11.3806 1 7.69113 1C4.0017 1 1 3.89801 1 7.45999C1 11.022 4.0017 13.92 7.69113 13.92C9.07619 13.92 10.3961 13.5167 11.5246 12.751L15.4988 16.7416C15.6649 16.9082 15.8883 17 16.1278 17C16.3544 17 16.5694 16.9166 16.7326 16.7649C17.0794 16.4428 17.0904 15.9085 16.7567 15.5735ZM7.69113 2.68522C10.4182 2.68522 12.6367 4.82713 12.6367 7.45999C12.6367 10.0929 10.4182 12.2348 7.69113 12.2348C4.96406 12.2348 2.74551 10.0929 2.74551 7.45999C2.74551 4.82713 4.96406 2.68522 7.69113 2.68522Z\" fill=\"white\"/>\r\n</svg>` }} />\r\n            </div>\r\n          </div>\r\n        </BlockButton> */}\r\n        {/* <div className='h-[40px] pl-[20px] pr-[20px]  rounded-[20px] bg-cblock   flex items-center '>\r\n          <div dangerouslySetInnerHTML={{\r\n            __html: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\">\r\n<path d=\"M16.7567 15.5735L12.8125 11.6129C13.8266 10.449 14.3823 8.98455 14.3823 7.45999C14.3823 3.89801 11.3806 1 7.69113 1C4.0017 1 1 3.89801 1 7.45999C1 11.022 4.0017 13.92 7.69113 13.92C9.07619 13.92 10.3961 13.5167 11.5246 12.751L15.4988 16.7416C15.6649 16.9082 15.8883 17 16.1278 17C16.3544 17 16.5694 16.9166 16.7326 16.7649C17.0794 16.4428 17.0904 15.9085 16.7567 15.5735ZM7.69113 2.68522C10.4182 2.68522 12.6367 4.82713 12.6367 7.45999C12.6367 10.0929 10.4182 12.2348 7.69113 12.2348C4.96406 12.2348 2.74551 10.0929 2.74551 7.45999C2.74551 4.82713 4.96406 2.68522 7.69113 2.68522Z\" fill=\"white\"/>\r\n</svg>` }}>\r\n\r\n          </div>\r\n          <div className='pl-[20px]  text-white text-[14px] font-semibold  '>Search for Elderly or Room...</div>\r\n        </div> */}\r\n      </div>\r\n      <div className=\"  mb-[30px] pt-[0px]\">\r\n        <div className=' pb-[10px] flex'>\r\n          <TabMenus menus={menus} activeTab={activeTab} setActiveTab={setActiveTab} />\r\n        </div>\r\n        <div className=\" bg-white rounded-2xl\">\r\n\r\n          {/* =============Admin Support Agent data table============== */}\r\n          <div className=\" grid grid-cols-1 pr-[50px] mt-[20px]\">\r\n\r\n            <Table\r\n              loading={loading}\r\n              pagination={\r\n                {\r\n                  total,\r\n                  current: query.current,\r\n                  onChange: (page, pageSize) => {\r\n                    updateQuery(page)\r\n                  }\r\n                }\r\n              }\r\n\r\n              columns={tabcolumns} dataSource={tabdata} className='newTable' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AdminSupportAgents"],"names":["AdminSupportAgents","navigate","useNavigate","useState","activeTab","setActiveTab","menus","setMenus","query","setQuery","tabdata","setTabdata","total","setTotal","loading","setLoading","setSupportDetil","useCountStore","nato","id","item","ls","tabcolumns","text","row","jsxs","jsx","handBlurchange","e","getList","currentQuery","body","data","allElderProfilePage","updateQuery","page","useEffect","Fragment","BlockSerch","TabMenus","Table","pageSize"],"mappings":"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"}