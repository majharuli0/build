{"version":3,"file":"NurseDashboard-K3Ui-Ygt.js","sources":["../../node_modules/antd/es/notification/style/placement.js","../../node_modules/antd/es/notification/interface.js","../../node_modules/antd/es/notification/style/stack.js","../../node_modules/antd/es/notification/style/index.js","../../node_modules/antd/es/notification/PurePanel.js","../../node_modules/antd/es/notification/util.js","../../node_modules/antd/es/notification/useNotification.js","../../node_modules/lucide-react/dist/esm/icons/circle.js","../../src/Components/LogsViewModal/index.jsx","../../src/Pages/Supportnursing/components/CurrentPeoples.jsx","../../src/Pages/Supportnursing/components/Room.jsx","../../src/Shared/shadncn-ui/dropdown-menu.tsx","../../src/Pages/Supportnursing/components/AlermLogsCard.jsx","../../src/Pages/Supportnursing/components/AlarmLogs.jsx","../../src/Pages/Supportnursing/components/ActiveCriticalAlerts.jsx","../../src/Pages/Supportnursing/components/userRoomOverviewDrawer.jsx","../../src/Components/VisitLogsByRoom/index.jsx","../../src/Pages/Supportnursing/components/CurrentState.jsx","../../src/Pages/Supportnursing/components/VisitCount.jsx","../../src/Pages/Supportnursing/components/userCard.jsx","../../src/Pages/Supportnursing/components/userCardList.jsx","../../src/utils/cacheStore.js","../../src/Pages/Supportnursing/Dashboards/NurseDashboard.jsx"],"sourcesContent":["import { Keyframes } from '@ant-design/cssinjs';\nconst genNotificationPlacementStyle = token => {\n  const {\n    componentCls,\n    notificationMarginEdge,\n    animationMaxHeight\n  } = token;\n  const noticeCls = `${componentCls}-notice`;\n  const rightFadeIn = new Keyframes('antNotificationFadeIn', {\n    '0%': {\n      transform: `translate3d(100%, 0, 0)`,\n      opacity: 0\n    },\n    '100%': {\n      transform: `translate3d(0, 0, 0)`,\n      opacity: 1\n    }\n  });\n  const topFadeIn = new Keyframes('antNotificationTopFadeIn', {\n    '0%': {\n      top: -animationMaxHeight,\n      opacity: 0\n    },\n    '100%': {\n      top: 0,\n      opacity: 1\n    }\n  });\n  const bottomFadeIn = new Keyframes('antNotificationBottomFadeIn', {\n    '0%': {\n      bottom: token.calc(animationMaxHeight).mul(-1).equal(),\n      opacity: 0\n    },\n    '100%': {\n      bottom: 0,\n      opacity: 1\n    }\n  });\n  const leftFadeIn = new Keyframes('antNotificationLeftFadeIn', {\n    '0%': {\n      transform: `translate3d(-100%, 0, 0)`,\n      opacity: 0\n    },\n    '100%': {\n      transform: `translate3d(0, 0, 0)`,\n      opacity: 1\n    }\n  });\n  return {\n    [componentCls]: {\n      [`&${componentCls}-top, &${componentCls}-bottom`]: {\n        marginInline: 0,\n        [noticeCls]: {\n          marginInline: 'auto auto'\n        }\n      },\n      [`&${componentCls}-top`]: {\n        [`${componentCls}-fade-enter${componentCls}-fade-enter-active, ${componentCls}-fade-appear${componentCls}-fade-appear-active`]: {\n          animationName: topFadeIn\n        }\n      },\n      [`&${componentCls}-bottom`]: {\n        [`${componentCls}-fade-enter${componentCls}-fade-enter-active, ${componentCls}-fade-appear${componentCls}-fade-appear-active`]: {\n          animationName: bottomFadeIn\n        }\n      },\n      [`&${componentCls}-topRight, &${componentCls}-bottomRight`]: {\n        [`${componentCls}-fade-enter${componentCls}-fade-enter-active, ${componentCls}-fade-appear${componentCls}-fade-appear-active`]: {\n          animationName: rightFadeIn\n        }\n      },\n      [`&${componentCls}-topLeft, &${componentCls}-bottomLeft`]: {\n        marginRight: {\n          value: 0,\n          _skip_check_: true\n        },\n        marginLeft: {\n          value: notificationMarginEdge,\n          _skip_check_: true\n        },\n        [noticeCls]: {\n          marginInlineEnd: 'auto',\n          marginInlineStart: 0\n        },\n        [`${componentCls}-fade-enter${componentCls}-fade-enter-active, ${componentCls}-fade-appear${componentCls}-fade-appear-active`]: {\n          animationName: leftFadeIn\n        }\n      }\n    }\n  };\n};\nexport default genNotificationPlacementStyle;","export const NotificationPlacements = ['top', 'topLeft', 'topRight', 'bottom', 'bottomLeft', 'bottomRight'];","import { NotificationPlacements } from '../interface';\nconst placementAlignProperty = {\n  topLeft: 'left',\n  topRight: 'right',\n  bottomLeft: 'left',\n  bottomRight: 'right',\n  top: 'left',\n  bottom: 'left'\n};\nconst genPlacementStackStyle = (token, placement) => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [`${componentCls}-${placement}`]: {\n      [`&${componentCls}-stack > ${componentCls}-notice-wrapper`]: {\n        [placement.startsWith('top') ? 'top' : 'bottom']: 0,\n        [placementAlignProperty[placement]]: {\n          value: 0,\n          _skip_check_: true\n        }\n      }\n    }\n  };\n};\nconst genStackChildrenStyle = token => {\n  const childrenStyle = {};\n  for (let i = 1; i < token.notificationStackLayer; i++) {\n    childrenStyle[`&:nth-last-child(${i + 1})`] = {\n      overflow: 'hidden',\n      [`& > ${token.componentCls}-notice`]: {\n        opacity: 0,\n        transition: `opacity ${token.motionDurationMid}`\n      }\n    };\n  }\n  return Object.assign({\n    [`&:not(:nth-last-child(-n+${token.notificationStackLayer}))`]: {\n      opacity: 0,\n      overflow: 'hidden',\n      color: 'transparent',\n      pointerEvents: 'none'\n    }\n  }, childrenStyle);\n};\nconst genStackedNoticeStyle = token => {\n  const childrenStyle = {};\n  for (let i = 1; i < token.notificationStackLayer; i++) {\n    childrenStyle[`&:nth-last-child(${i + 1})`] = {\n      background: token.colorBgBlur,\n      backdropFilter: 'blur(10px)',\n      '-webkit-backdrop-filter': 'blur(10px)'\n    };\n  }\n  return Object.assign({}, childrenStyle);\n};\nconst genStackStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return Object.assign({\n    [`${componentCls}-stack`]: {\n      [`& > ${componentCls}-notice-wrapper`]: Object.assign({\n        transition: `transform ${token.motionDurationSlow}, backdrop-filter 0s`,\n        willChange: 'transform, opacity',\n        position: 'absolute'\n      }, genStackChildrenStyle(token))\n    },\n    [`${componentCls}-stack:not(${componentCls}-stack-expanded)`]: {\n      [`& > ${componentCls}-notice-wrapper`]: Object.assign({}, genStackedNoticeStyle(token))\n    },\n    [`${componentCls}-stack${componentCls}-stack-expanded`]: {\n      [`& > ${componentCls}-notice-wrapper`]: {\n        '&:not(:nth-last-child(-n + 1))': {\n          opacity: 1,\n          overflow: 'unset',\n          color: 'inherit',\n          pointerEvents: 'auto',\n          [`& > ${token.componentCls}-notice`]: {\n            opacity: 1\n          }\n        },\n        '&:after': {\n          content: '\"\"',\n          position: 'absolute',\n          height: token.margin,\n          width: '100%',\n          insetInline: 0,\n          bottom: token.calc(token.margin).mul(-1).equal(),\n          background: 'transparent',\n          pointerEvents: 'auto'\n        }\n      }\n    }\n  }, NotificationPlacements.map(placement => genPlacementStackStyle(token, placement)).reduce((acc, cur) => Object.assign(Object.assign({}, acc), cur), {}));\n};\nexport default genStackStyle;","import { Keyframes, unit } from '@ant-design/cssinjs';\nimport { CONTAINER_MAX_OFFSET } from '../../_util/hooks/useZIndex';\nimport { genFocusStyle, resetComponent } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\nimport genNotificationPlacementStyle from './placement';\nimport genStackStyle from './stack';\nexport const genNoticeStyle = token => {\n  const {\n    iconCls,\n    componentCls,\n    // .ant-notification\n    boxShadow,\n    fontSizeLG,\n    notificationMarginBottom,\n    borderRadiusLG,\n    colorSuccess,\n    colorInfo,\n    colorWarning,\n    colorError,\n    colorTextHeading,\n    notificationBg,\n    notificationPadding,\n    notificationMarginEdge,\n    notificationProgressBg,\n    notificationProgressHeight,\n    fontSize,\n    lineHeight,\n    width,\n    notificationIconSize,\n    colorText\n  } = token;\n  const noticeCls = `${componentCls}-notice`;\n  return {\n    position: 'relative',\n    marginBottom: notificationMarginBottom,\n    marginInlineStart: 'auto',\n    background: notificationBg,\n    borderRadius: borderRadiusLG,\n    boxShadow,\n    [noticeCls]: {\n      padding: notificationPadding,\n      width,\n      maxWidth: `calc(100vw - ${unit(token.calc(notificationMarginEdge).mul(2).equal())})`,\n      overflow: 'hidden',\n      lineHeight,\n      wordWrap: 'break-word'\n    },\n    [`${noticeCls}-message`]: {\n      color: colorTextHeading,\n      fontSize: fontSizeLG,\n      lineHeight: token.lineHeightLG\n    },\n    [`${noticeCls}-description`]: {\n      fontSize,\n      color: colorText,\n      marginTop: token.marginXS\n    },\n    [`${noticeCls}-closable ${noticeCls}-message`]: {\n      paddingInlineEnd: token.paddingLG\n    },\n    [`${noticeCls}-with-icon ${noticeCls}-message`]: {\n      marginInlineStart: token.calc(token.marginSM).add(notificationIconSize).equal(),\n      fontSize: fontSizeLG\n    },\n    [`${noticeCls}-with-icon ${noticeCls}-description`]: {\n      marginInlineStart: token.calc(token.marginSM).add(notificationIconSize).equal(),\n      fontSize\n    },\n    // Icon & color style in different selector level\n    // https://github.com/ant-design/ant-design/issues/16503\n    // https://github.com/ant-design/ant-design/issues/15512\n    [`${noticeCls}-icon`]: {\n      position: 'absolute',\n      fontSize: notificationIconSize,\n      lineHeight: 1,\n      // icon-font\n      [`&-success${iconCls}`]: {\n        color: colorSuccess\n      },\n      [`&-info${iconCls}`]: {\n        color: colorInfo\n      },\n      [`&-warning${iconCls}`]: {\n        color: colorWarning\n      },\n      [`&-error${iconCls}`]: {\n        color: colorError\n      }\n    },\n    [`${noticeCls}-close`]: Object.assign({\n      position: 'absolute',\n      top: token.notificationPaddingVertical,\n      insetInlineEnd: token.notificationPaddingHorizontal,\n      color: token.colorIcon,\n      outline: 'none',\n      width: token.notificationCloseButtonSize,\n      height: token.notificationCloseButtonSize,\n      borderRadius: token.borderRadiusSM,\n      transition: `background-color ${token.motionDurationMid}, color ${token.motionDurationMid}`,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'none',\n      border: 'none',\n      '&:hover': {\n        color: token.colorIconHover,\n        backgroundColor: token.colorBgTextHover\n      },\n      '&:active': {\n        backgroundColor: token.colorBgTextActive\n      }\n    }, genFocusStyle(token)),\n    [`${noticeCls}-progress`]: {\n      position: 'absolute',\n      display: 'block',\n      appearance: 'none',\n      inlineSize: `calc(100% - ${unit(borderRadiusLG)} * 2)`,\n      left: {\n        _skip_check_: true,\n        value: borderRadiusLG\n      },\n      right: {\n        _skip_check_: true,\n        value: borderRadiusLG\n      },\n      bottom: 0,\n      blockSize: notificationProgressHeight,\n      border: 0,\n      '&, &::-webkit-progress-bar': {\n        borderRadius: borderRadiusLG,\n        backgroundColor: `rgba(0, 0, 0, 0.04)`\n      },\n      '&::-moz-progress-bar': {\n        background: notificationProgressBg\n      },\n      '&::-webkit-progress-value': {\n        borderRadius: borderRadiusLG,\n        background: notificationProgressBg\n      }\n    },\n    [`${noticeCls}-actions`]: {\n      float: 'right',\n      marginTop: token.marginSM\n    }\n  };\n};\nconst genNotificationStyle = token => {\n  const {\n    componentCls,\n    // .ant-notification\n    notificationMarginBottom,\n    notificationMarginEdge,\n    motionDurationMid,\n    motionEaseInOut\n  } = token;\n  const noticeCls = `${componentCls}-notice`;\n  const fadeOut = new Keyframes('antNotificationFadeOut', {\n    '0%': {\n      maxHeight: token.animationMaxHeight,\n      marginBottom: notificationMarginBottom\n    },\n    '100%': {\n      maxHeight: 0,\n      marginBottom: 0,\n      paddingTop: 0,\n      paddingBottom: 0,\n      opacity: 0\n    }\n  });\n  return [\n  // ============================ Holder ============================\n  {\n    [componentCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      position: 'fixed',\n      zIndex: token.zIndexPopup,\n      marginRight: {\n        value: notificationMarginEdge,\n        _skip_check_: true\n      },\n      [`${componentCls}-hook-holder`]: {\n        position: 'relative'\n      },\n      //  animation\n      [`${componentCls}-fade-appear-prepare`]: {\n        opacity: '0 !important'\n      },\n      [`${componentCls}-fade-enter, ${componentCls}-fade-appear`]: {\n        animationDuration: token.motionDurationMid,\n        animationTimingFunction: motionEaseInOut,\n        animationFillMode: 'both',\n        opacity: 0,\n        animationPlayState: 'paused'\n      },\n      [`${componentCls}-fade-leave`]: {\n        animationTimingFunction: motionEaseInOut,\n        animationFillMode: 'both',\n        animationDuration: motionDurationMid,\n        animationPlayState: 'paused'\n      },\n      [`${componentCls}-fade-enter${componentCls}-fade-enter-active, ${componentCls}-fade-appear${componentCls}-fade-appear-active`]: {\n        animationPlayState: 'running'\n      },\n      [`${componentCls}-fade-leave${componentCls}-fade-leave-active`]: {\n        animationName: fadeOut,\n        animationPlayState: 'running'\n      },\n      // RTL\n      '&-rtl': {\n        direction: 'rtl',\n        [`${noticeCls}-actions`]: {\n          float: 'left'\n        }\n      }\n    })\n  },\n  // ============================ Notice ============================\n  {\n    [componentCls]: {\n      [`${noticeCls}-wrapper`]: Object.assign({}, genNoticeStyle(token))\n    }\n  }];\n};\n// ============================== Export ==============================\nexport const prepareComponentToken = token => ({\n  zIndexPopup: token.zIndexPopupBase + CONTAINER_MAX_OFFSET + 50,\n  width: 384\n});\nexport const prepareNotificationToken = token => {\n  const notificationPaddingVertical = token.paddingMD;\n  const notificationPaddingHorizontal = token.paddingLG;\n  const notificationToken = mergeToken(token, {\n    notificationBg: token.colorBgElevated,\n    notificationPaddingVertical,\n    notificationPaddingHorizontal,\n    notificationIconSize: token.calc(token.fontSizeLG).mul(token.lineHeightLG).equal(),\n    notificationCloseButtonSize: token.calc(token.controlHeightLG).mul(0.55).equal(),\n    notificationMarginBottom: token.margin,\n    notificationPadding: `${unit(token.paddingMD)} ${unit(token.paddingContentHorizontalLG)}`,\n    notificationMarginEdge: token.marginLG,\n    animationMaxHeight: 150,\n    notificationStackLayer: 3,\n    notificationProgressHeight: 2,\n    notificationProgressBg: `linear-gradient(90deg, ${token.colorPrimaryBorderHover}, ${token.colorPrimary})`\n  });\n  return notificationToken;\n};\nexport default genStyleHooks('Notification', token => {\n  const notificationToken = prepareNotificationToken(token);\n  return [genNotificationStyle(notificationToken), genNotificationPlacementStyle(notificationToken), genStackStyle(notificationToken)];\n}, prepareComponentToken);","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport CheckCircleFilled from \"@ant-design/icons/es/icons/CheckCircleFilled\";\nimport CloseCircleFilled from \"@ant-design/icons/es/icons/CloseCircleFilled\";\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport InfoCircleFilled from \"@ant-design/icons/es/icons/InfoCircleFilled\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport classNames from 'classnames';\nimport { Notice } from 'rc-notification';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport useCSSVarCls from '../config-provider/hooks/useCSSVarCls';\nimport useStyle from './style';\nimport PurePanelStyle from './style/pure-panel';\nexport const TypeIcon = {\n  info: /*#__PURE__*/React.createElement(InfoCircleFilled, null),\n  success: /*#__PURE__*/React.createElement(CheckCircleFilled, null),\n  error: /*#__PURE__*/React.createElement(CloseCircleFilled, null),\n  warning: /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n  loading: /*#__PURE__*/React.createElement(LoadingOutlined, null)\n};\nexport function getCloseIcon(prefixCls, closeIcon) {\n  if (closeIcon === null || closeIcon === false) {\n    return null;\n  }\n  return closeIcon || /*#__PURE__*/React.createElement(CloseOutlined, {\n    className: `${prefixCls}-close-icon`\n  });\n}\nconst typeToIcon = {\n  success: CheckCircleFilled,\n  info: InfoCircleFilled,\n  error: CloseCircleFilled,\n  warning: ExclamationCircleFilled\n};\nexport const PureContent = props => {\n  const {\n    prefixCls,\n    icon,\n    type,\n    message,\n    description,\n    actions,\n    role = 'alert'\n  } = props;\n  let iconNode = null;\n  if (icon) {\n    iconNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: `${prefixCls}-icon`\n    }, icon);\n  } else if (type) {\n    iconNode = /*#__PURE__*/React.createElement(typeToIcon[type] || null, {\n      className: classNames(`${prefixCls}-icon`, `${prefixCls}-icon-${type}`)\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames({\n      [`${prefixCls}-with-icon`]: iconNode\n    }),\n    role: role\n  }, iconNode, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-message`\n  }, message), description && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-description`\n  }, description), actions && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-actions`\n  }, actions));\n};\n/** @private Internal Component. Do not use in your production. */\nconst PurePanel = props => {\n  const {\n      prefixCls: staticPrefixCls,\n      className,\n      icon,\n      type,\n      message,\n      description,\n      btn,\n      actions,\n      closable = true,\n      closeIcon,\n      className: notificationClassName\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"className\", \"icon\", \"type\", \"message\", \"description\", \"btn\", \"actions\", \"closable\", \"closeIcon\", \"className\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const mergedActions = actions !== null && actions !== void 0 ? actions : btn;\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Notification');\n    warning.deprecated(!btn, 'btn', 'actions');\n  }\n  const prefixCls = staticPrefixCls || getPrefixCls('notification');\n  const noticePrefixCls = `${prefixCls}-notice`;\n  const rootCls = useCSSVarCls(prefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, rootCls);\n  return wrapCSSVar(/*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${noticePrefixCls}-pure-panel`, hashId, className, cssVarCls, rootCls)\n  }, /*#__PURE__*/React.createElement(PurePanelStyle, {\n    prefixCls: prefixCls\n  }), /*#__PURE__*/React.createElement(Notice, Object.assign({}, restProps, {\n    prefixCls: prefixCls,\n    eventKey: \"pure\",\n    duration: null,\n    closable: closable,\n    className: classNames({\n      notificationClassName\n    }),\n    closeIcon: getCloseIcon(prefixCls, closeIcon),\n    content: /*#__PURE__*/React.createElement(PureContent, {\n      prefixCls: noticePrefixCls,\n      icon: icon,\n      type: type,\n      message: message,\n      description: description,\n      actions: mergedActions\n    })\n  }))));\n};\nexport default PurePanel;","export function getPlacementStyle(placement, top, bottom) {\n  let style;\n  switch (placement) {\n    case 'top':\n      style = {\n        left: '50%',\n        transform: 'translateX(-50%)',\n        right: 'auto',\n        top,\n        bottom: 'auto'\n      };\n      break;\n    case 'topLeft':\n      style = {\n        left: 0,\n        top,\n        bottom: 'auto'\n      };\n      break;\n    case 'topRight':\n      style = {\n        right: 0,\n        top,\n        bottom: 'auto'\n      };\n      break;\n    case 'bottom':\n      style = {\n        left: '50%',\n        transform: 'translateX(-50%)',\n        right: 'auto',\n        top: 'auto',\n        bottom\n      };\n      break;\n    case 'bottomLeft':\n      style = {\n        left: 0,\n        top: 'auto',\n        bottom\n      };\n      break;\n    default:\n      style = {\n        right: 0,\n        top: 'auto',\n        bottom\n      };\n      break;\n  }\n  return style;\n}\nexport function getMotion(prefixCls) {\n  return {\n    motionName: `${prefixCls}-fade`\n  };\n}\nexport function getCloseIconConfig(closeIcon, notificationConfig, notification) {\n  if (typeof closeIcon !== 'undefined') {\n    return closeIcon;\n  }\n  if (typeof (notificationConfig === null || notificationConfig === void 0 ? void 0 : notificationConfig.closeIcon) !== 'undefined') {\n    return notificationConfig.closeIcon;\n  }\n  return notification === null || notification === void 0 ? void 0 : notification.closeIcon;\n}","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { useContext } from 'react';\nimport classNames from 'classnames';\nimport { NotificationProvider, useNotification as useRcNotification } from 'rc-notification';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport useCSSVarCls from '../config-provider/hooks/useCSSVarCls';\nimport { useToken } from '../theme/internal';\nimport { getCloseIcon, PureContent } from './PurePanel';\nimport useStyle from './style';\nimport { getMotion, getPlacementStyle, getCloseIconConfig } from './util';\nconst DEFAULT_OFFSET = 24;\nconst DEFAULT_DURATION = 4.5;\nconst DEFAULT_PLACEMENT = 'topRight';\nconst Wrapper = ({\n  children,\n  prefixCls\n}) => {\n  const rootCls = useCSSVarCls(prefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, rootCls);\n  return wrapCSSVar(/*#__PURE__*/React.createElement(NotificationProvider, {\n    classNames: {\n      list: classNames(hashId, cssVarCls, rootCls)\n    }\n  }, children));\n};\nconst renderNotifications = (node, {\n  prefixCls,\n  key\n}) => (/*#__PURE__*/React.createElement(Wrapper, {\n  prefixCls: prefixCls,\n  key: key\n}, node));\nconst Holder = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    top,\n    bottom,\n    prefixCls: staticPrefixCls,\n    getContainer: staticGetContainer,\n    maxCount,\n    rtl,\n    onAllRemoved,\n    stack,\n    duration,\n    pauseOnHover = true,\n    showProgress\n  } = props;\n  const {\n    getPrefixCls,\n    getPopupContainer,\n    notification,\n    direction\n  } = useContext(ConfigContext);\n  const [, token] = useToken();\n  const prefixCls = staticPrefixCls || getPrefixCls('notification');\n  // =============================== Style ===============================\n  const getStyle = placement => getPlacementStyle(placement, top !== null && top !== void 0 ? top : DEFAULT_OFFSET, bottom !== null && bottom !== void 0 ? bottom : DEFAULT_OFFSET);\n  const getClassName = () => classNames({\n    [`${prefixCls}-rtl`]: rtl !== null && rtl !== void 0 ? rtl : direction === 'rtl'\n  });\n  // ============================== Motion ===============================\n  const getNotificationMotion = () => getMotion(prefixCls);\n  // ============================== Origin ===============================\n  const [api, holder] = useRcNotification({\n    prefixCls,\n    style: getStyle,\n    className: getClassName,\n    motion: getNotificationMotion,\n    closable: true,\n    closeIcon: getCloseIcon(prefixCls),\n    duration: duration !== null && duration !== void 0 ? duration : DEFAULT_DURATION,\n    getContainer: () => (staticGetContainer === null || staticGetContainer === void 0 ? void 0 : staticGetContainer()) || (getPopupContainer === null || getPopupContainer === void 0 ? void 0 : getPopupContainer()) || document.body,\n    maxCount,\n    pauseOnHover,\n    showProgress,\n    onAllRemoved,\n    renderNotifications,\n    stack: stack === false ? false : {\n      threshold: typeof stack === 'object' ? stack === null || stack === void 0 ? void 0 : stack.threshold : undefined,\n      offset: 8,\n      gap: token.margin\n    }\n  });\n  // ================================ Ref ================================\n  React.useImperativeHandle(ref, () => Object.assign(Object.assign({}, api), {\n    prefixCls,\n    notification\n  }));\n  return holder;\n});\n// ==============================================================================\n// ==                                   Hook                                   ==\n// ==============================================================================\nexport function useInternalNotification(notificationConfig) {\n  const holderRef = React.useRef(null);\n  const warning = devUseWarning('Notification');\n  // ================================ API ================================\n  const wrapAPI = React.useMemo(() => {\n    // Wrap with notification content\n    // >>> Open\n    const open = config => {\n      var _a;\n      if (!holderRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'usage', 'You are calling notice in render which will break in React 18 concurrent mode. Please trigger in effect instead.') : void 0;\n        return;\n      }\n      const {\n        open: originOpen,\n        prefixCls,\n        notification\n      } = holderRef.current;\n      const noticePrefixCls = `${prefixCls}-notice`;\n      const {\n          message,\n          description,\n          icon,\n          type,\n          btn,\n          actions,\n          className,\n          style,\n          role = 'alert',\n          closeIcon,\n          closable\n        } = config,\n        restConfig = __rest(config, [\"message\", \"description\", \"icon\", \"type\", \"btn\", \"actions\", \"className\", \"style\", \"role\", \"closeIcon\", \"closable\"]);\n      if (process.env.NODE_ENV !== 'production') {\n        warning.deprecated(!btn, 'btn', 'actions');\n      }\n      const mergedActions = actions !== null && actions !== void 0 ? actions : btn;\n      const realCloseIcon = getCloseIcon(noticePrefixCls, getCloseIconConfig(closeIcon, notificationConfig, notification));\n      return originOpen(Object.assign(Object.assign({\n        // use placement from props instead of hard-coding \"topRight\"\n        placement: (_a = notificationConfig === null || notificationConfig === void 0 ? void 0 : notificationConfig.placement) !== null && _a !== void 0 ? _a : DEFAULT_PLACEMENT\n      }, restConfig), {\n        content: (/*#__PURE__*/React.createElement(PureContent, {\n          prefixCls: noticePrefixCls,\n          icon: icon,\n          type: type,\n          message: message,\n          description: description,\n          actions: mergedActions,\n          role: role\n        })),\n        className: classNames(type && `${noticePrefixCls}-${type}`, className, notification === null || notification === void 0 ? void 0 : notification.className),\n        style: Object.assign(Object.assign({}, notification === null || notification === void 0 ? void 0 : notification.style), style),\n        closeIcon: realCloseIcon,\n        closable: closable !== null && closable !== void 0 ? closable : !!realCloseIcon\n      }));\n    };\n    // >>> destroy\n    const destroy = key => {\n      var _a, _b;\n      if (key !== undefined) {\n        (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.close(key);\n      } else {\n        (_b = holderRef.current) === null || _b === void 0 ? void 0 : _b.destroy();\n      }\n    };\n    const clone = {\n      open,\n      destroy\n    };\n    const keys = ['success', 'info', 'warning', 'error'];\n    keys.forEach(type => {\n      clone[type] = config => open(Object.assign(Object.assign({}, config), {\n        type\n      }));\n    });\n    return clone;\n  }, []);\n  // ============================== Return ===============================\n  return [wrapAPI, /*#__PURE__*/React.createElement(Holder, Object.assign({\n    key: \"notification-holder\"\n  }, notificationConfig, {\n    ref: holderRef\n  }))];\n}\nexport default function useNotification(notificationConfig) {\n  return useInternalNotification(notificationConfig);\n}","/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]];\nconst Circle = createLucideIcon(\"circle\", __iconNode);\n\nexport { __iconNode, Circle as default };\n//# sourceMappingURL=circle.js.map\n","import { getaAlarmsLogsDetails } from \"@/api/elderly\";\r\nimport { formatCreatedAt, getAlertInfoViaEventDetails } from \"@/utils/helper\";\r\nimport { Modal, Steps, Button, Spin } from \"antd\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport default function LogsViweModal({\r\n  isvisible,\r\n  setVisible,\r\n  id,\r\n  firstAlarm,\r\n}) {\r\n  const onClose = () => {\r\n    setVisible(false);\r\n    setLogs([]);\r\n    setPage(1);\r\n    setHasMore(false);\r\n    setLoading(false);\r\n  };\r\n\r\n  const [logs, setLogs] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n\r\n  const getLogsDetails = useCallback(\r\n    async (pageNum = 1, isLoadMore = false) => {\r\n      if (isLoadMore) {\r\n        setLoadingMore(true);\r\n      } else {\r\n        setLoading(true);\r\n      }\r\n\r\n      try {\r\n        const res = await getaAlarmsLogsDetails(id, {\r\n          page: pageNum,\r\n          limit: 50,\r\n        });\r\n        const newLogs = res?.data[0]?.logs_before_resovle || [];\r\n\r\n        if (isLoadMore) {\r\n          setLogs((prevLogs) => [...prevLogs, ...newLogs]);\r\n        } else {\r\n          setLogs(newLogs);\r\n        }\r\n\r\n        // If we get exactly the limit, assume there might be more data\r\n        setHasMore(newLogs.length === 50);\r\n\r\n        if (!isLoadMore) {\r\n          setPage(1);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      } finally {\r\n        setLoading(false);\r\n        setLoadingMore(false);\r\n      }\r\n    },\r\n    [id]\r\n  );\r\n\r\n  const loadMore = () => {\r\n    const nextPage = page + 1;\r\n    setPage(nextPage);\r\n    getLogsDetails(nextPage, true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id && isvisible) {\r\n      getLogsDetails(1, false);\r\n    }\r\n  }, [id, isvisible, getLogsDetails]);\r\n\r\n  // Create the steps items with first alarm, logs, and resolved entry\r\n  const stepItems = [\r\n    // First alarm entry\r\n    ...(firstAlarm\r\n      ? [\r\n          {\r\n            title: (\r\n              <span className=\"text-[16px] font-medium text-primary/70\">\r\n                {formatCreatedAt(firstAlarm.created_at)}\r\n              </span>\r\n            ),\r\n            description: (\r\n              <p className=\"text-[18px] font-medium text-primary\">\r\n                {getAlertInfoViaEventDetails(firstAlarm)?.title ||\r\n                  \"Alarm Triggered\"}\r\n              </p>\r\n            ),\r\n            key: \"first-alarm\",\r\n          },\r\n        ]\r\n      : []),\r\n\r\n    // Log entries\r\n    ...logs.map((log, index) => ({\r\n      title: (\r\n        <span className=\"text-[16px] font-medium text-primary/70\">\r\n          {formatCreatedAt(log.created_at)}\r\n        </span>\r\n      ),\r\n      description: (\r\n        <p className=\"text-[18px] font-medium text-primary\">\r\n          {getAlertInfoViaEventDetails(log)?.title}\r\n        </p>\r\n      ),\r\n      key: `log-${index}`,\r\n    })),\r\n\r\n    // Resolved entry (if firstAlarm has closed_at)\r\n    ...(firstAlarm?.closed_at\r\n      ? [\r\n          {\r\n            title: (\r\n              <span className=\"text-[16px] font-medium text-primary/70\">\r\n                {formatCreatedAt(firstAlarm.closed_at)}\r\n              </span>\r\n            ),\r\n            description: (\r\n              <p className=\"text-[18px] font-medium text-primary\">\r\n                Alarm Resolved\r\n              </p>\r\n            ),\r\n            key: \"resolved\",\r\n          },\r\n        ]\r\n      : []),\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      open={isvisible}\r\n      onCancel={onClose}\r\n      footer={null}\r\n      centered\r\n      className=\"!w-[60vw] max-h-[90svh] bg-white !border-none overflow-x-hidden rounded-lg\"\r\n    >\r\n      <div className=\"p-6\">\r\n        <h1 className=\"text-[24px] font-semibold\">Alarm Logs</h1>\r\n\r\n        {loading ? (\r\n          <div className=\"flex justify-center items-center h-64\">\r\n            <Spin size=\"large\" />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <Steps\r\n              progressDot\r\n              current={stepItems.length}\r\n              direction=\"vertical\"\r\n              items={stepItems}\r\n              className=\"max-h-[70vh] overflow-y-auto\"\r\n            />\r\n\r\n            {loadingMore && (\r\n              <div className=\"flex justify-center mt-4\">\r\n                <Spin size=\"small\" />\r\n              </div>\r\n            )}\r\n\r\n            {hasMore && !loadingMore && (\r\n              <div className=\"flex justify-center mt-4\">\r\n                <Button\r\n                  type=\"primary\"\r\n                  onClick={loadMore}\r\n                  className=\"load-more-btn\"\r\n                >\r\n                  Load More\r\n                </Button>\r\n              </div>\r\n            )}\r\n\r\n            {logs.length === 0 && !firstAlarm && !loading && (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                No logs found\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useMemo } from \"react\";\r\nimport { WebSocketContext } from \"@/Context/WebSoketHook\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { Tooltip } from \"antd\";\r\nimport { FaUser } from \"react-icons/fa6\";\r\nimport { FaBedPulse } from \"react-icons/fa6\";\r\nimport { decodeMinuteSleepStats } from \"@/utils/helper\";\r\nexport default function CurrentPeoples({ data = {} }) {\r\n  const { deviceData } = useContext(WebSocketContext);\r\n  const context = useContext(CustomContext);\r\n  const { elderlyDetails } = context || {};\r\n  const deviceCode = data?.device_no || elderlyDetails?.deviceId;\r\n  const peopleData = useMemo(() => {\r\n    return deviceData[deviceCode]?.position || [];\r\n  }, [deviceData[deviceCode]?.position]);\r\n  const currentState = useMemo(() => {\r\n    const device = deviceData[deviceCode];\r\n    const lastUpdate = device?.hbstaticsTimestamp;\r\n    const now = Date.now();\r\n\r\n    if (!device?.hbstatics || !lastUpdate) return null;\r\n\r\n    const diffInSeconds = (now - lastUpdate) / 1000;\r\n    if (diffInSeconds > 90) return null;\r\n\r\n    return device.hbstatics;\r\n  }, [deviceData[deviceCode]]);\r\n\r\n  return (\r\n    <div className=\"flex gap-2\">\r\n      <div className=\"top-2 left-2 border-2 p-0 rounded-full flex items-center gap-1 pr-2 h-fit w-fit\">\r\n        {peopleData?.length > 0 ? (\r\n          <Tooltip\r\n            color=\"white\"\r\n            overlayInnerStyle={{ color: \"black\", padding: \"10px\" }}\r\n            title={peopleData?.map((people, indx) => (\r\n              <div key={indx} className=\"flex items-center gap-2 mb-2\">\r\n                <div\r\n                  style={{ backgroundColor: people?.color }}\r\n                  className=\"p-2 rounded-full\"\r\n                >\r\n                  <FaUser size={14} color=\"white\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-[14px] m-0\">{people?.posture}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          >\r\n            <div className=\"flex -space-x-4 cursor-pointer\">\r\n              {peopleData?.map((people, indx) => (\r\n                <div\r\n                  key={indx}\r\n                  style={{ backgroundColor: people?.color }}\r\n                  className={`p-1 rounded-full border-2 border-white`}\r\n                >\r\n                  <FaUser size={16} color=\"white\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Tooltip>\r\n        ) : (\r\n          <div className={`bg-primary p-1 rounded-full border-2 border-white`}>\r\n            <FaUser size={16} color=\"white\" />\r\n          </div>\r\n        )}\r\n        <span className=\"font-bold text-[14px]\">\r\n          {peopleData ? peopleData?.length : 0}\r\n        </span>\r\n      </div>\r\n      {data?.room_type == 2 && currentState && (\r\n        <div className=\"top-2 left-2 border-2 p-0 rounded-full flex items-center gap-1 pr-2 h-fit w-fit px-2 py-1\">\r\n          <div className=\"pr-1\">\r\n            <FaBedPulse\r\n              size={20}\r\n              color={`${\r\n                decodeMinuteSleepStats(currentState)?.statusEvents?.sleepState\r\n                  ?.color\r\n              }`}\r\n            />\r\n          </div>\r\n          <span className=\"font-semibold\">\r\n            {decodeMinuteSleepStats(currentState)?.statusEvents?.sleepState\r\n              ?.label || \"--\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n  useMemo,\r\n  useCallback,\r\n} from \"react\";\r\nimport Room1 from \"@/Components/RoomMap/RoomMap3\";\r\nimport Room2 from \"@/Components/RoomMap/RoomMap4\";\r\nimport useWebSocket from \"@/hook/useWebSoket\";\r\nimport { decodePosition } from \"@/utils/helper\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { FaUser } from \"react-icons/fa6\";\r\nimport { Button, Spin, Tooltip } from \"antd\";\r\nimport { WebSocketContext } from \"@/Context/WebSoketHook\";\r\nimport CurrentPeoples from \"./CurrentPeoples\";\r\nimport { IoMdCall } from \"react-icons/io\";\r\nimport { LuSettings } from \"react-icons/lu\";\r\nimport { getTokenToCall } from \"@/api/deviceCall\";\r\nimport DeviceConfigurationModal from \"@/Components/Modal\";\r\nimport { initiateCall } from \"@/utils/makeDeviceCall\";\r\nimport { getRoomInfo } from \"@/api/deviceConfiguration\";\r\nimport { RiWifiOffLine } from \"react-icons/ri\";\r\n\r\nexport default function RoomMapBox({ data = {}, elderlyId }) {\r\n  const [visible, setVisible] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [roomInfo, setRoomInfo] = useState(null);\r\n  const getRoomInformation = useCallback(() => {\r\n    setLoading(true);\r\n    getRoomInfo({ room_id: data?.device_no, elderly_id: elderlyId })\r\n      .then((roomInfo) => {\r\n        setRoomInfo(roomInfo.data);\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [data?.device_no, elderlyId]);\r\n\r\n  useEffect(() => {\r\n    getRoomInformation();\r\n  }, [getRoomInformation]);\r\n  // Get token and make the call\r\n  function handleClick(id) {\r\n    if (id) {\r\n      initiateCall(id);\r\n    }\r\n  }\r\n\r\n  // // Request a new token if necessary and make the call\r\n  // function getToken(id) {\r\n  //   getTokenToCall()\r\n  //     .then((token) => {\r\n  //       const accessToken = token?.data?.token;\r\n\r\n  //       makeACall(id, accessToken);\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.error(\"Error fetching token:\", error);\r\n  //     });\r\n  // }\r\n\r\n  // function makeACall(uid, accessToken) {\r\n  //   openPopup(uid, accessToken);\r\n  // }\r\n\r\n  // // Open a popup with the specified URL and query parameters\r\n  // function openPopup(uid, accessToken) {\r\n  //   const data = {\r\n  //     uid: uid,\r\n  //     token: accessToken,\r\n  //     // freshToken: refreshToken,\r\n  //     lang: \"en_US\",\r\n  //   };\r\n\r\n  //   const popupUrl = `https://console.elderlycareplatform.com/metting?${new URLSearchParams(\r\n  //     data\r\n  //   ).toString()}`;\r\n\r\n  //   // Window features for customization\r\n  //   const windowFeatures =\r\n  //     \"width=500,height=600,scrollbars=no,resizable=no,location=no,toolbar=no,status=no,menubar=no\";\r\n\r\n  //   // Open the window with the custom features\r\n  //   const popup = window.open(popupUrl, \"Device Calling\", windowFeatures);\r\n\r\n  //   if (popup) {\r\n  //     popup.focus(); // Focus on the new popup window\r\n  //   } else {\r\n  //     console.error(\"Popup window could not be opened\");\r\n  //   }\r\n  // }\r\n  return (\r\n    <div className=\"flex flex-col gap-2 h-full mt-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <h2 className=\"text-[20px] font-medium\">{data?.name}</h2>\r\n          <CurrentPeoples data={data} />\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Button\r\n            icon={<IoMdCall />}\r\n            onClick={() => handleClick(data?.device_no)}\r\n          >\r\n            {\" \"}\r\n            Call\r\n          </Button>\r\n          <Button icon={<LuSettings />} onClick={() => setVisible(true)}>\r\n            {\" \"}\r\n            Settings\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <Spin spinning={loading} className=\"relative\">\r\n        {data?.is_device_bind == false && (\r\n          <div className=\"w-full h-full absolute bg-slate-400/20 top-0 z-10 backdrop-blur-sm flex items-center justify-center rounded-2xl\">\r\n            <RiWifiOffLine size={40} color=\"red\" />\r\n          </div>\r\n        )}\r\n        <div className=\"flex items-center justify-center gap-4 h-full w-full border border-gray-200 rounded-2xl overflow-hidden relative z-1\">\r\n          {data?.mount_type === 2 && <Room2 roomInfo={roomInfo} />}\r\n          {data?.mount_type === 1 && <Room1 roomInfo={roomInfo} />}\r\n        </div>\r\n      </Spin>\r\n      <DeviceConfigurationModal\r\n        isvisible={visible}\r\n        setVisible={setVisible}\r\n        elderly_id={elderlyId}\r\n        device_id={data?.device_no}\r\n        room_id={data?._id}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}\r\n","import FallPlayback from \"@/Components/FallPlayback\";\r\nimport LogsViweModal from \"@/Components/LogsViewModal\";\r\nimport {\r\n  formatMilliseconds,\r\n  formatToTime12Hour,\r\n  getAlertInfoViaEventDetails,\r\n  transformDateAndTimeToDuration,\r\n} from \"@/utils/helper\";\r\nimport { Breadcrumb, Button, Tag, Tooltip } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport { FaPersonFalling } from \"react-icons/fa6\";\r\n\r\nexport default function AlermLogsCard({ data = {} }) {\r\n  const [openFallPlaybackModal, setOpenFallPlaybackModal] = useState(false);\r\n  const [openLogModal, setOpenLogModal] = useState(false);\r\n  const mid_log =\r\n    data?.response_details ||\r\n    (data?.response_details?.length > 0 && data?.response_details[0]) ||\r\n    null;\r\n  function getFallReplay() {\r\n    setOpenFallPlaybackModal(true);\r\n  }\r\n  return (\r\n    <div className=\"p-4 border border-gray-200 rounded-md w-full\">\r\n      <div className=\"flex flex-col w-full\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center justify-center gap-2\">\r\n            <h2 className=\"text-[18px] font-semibold\">\r\n              {getAlertInfoViaEventDetails(data)?.title}\r\n            </h2>\r\n            <div className=\"size-2 bg-slate-400 rounded-xl\"></div>\r\n            <span className=\"text-[13px] font-medium opacity-80\">\r\n              {transformDateAndTimeToDuration(data?.created_at)}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            {data?.res_time ? (\r\n              <Tag color=\"purple\" className=\"font-semibold\">\r\n                {formatMilliseconds(data?.res_time || 0)} Resp. Time\r\n              </Tag>\r\n            ) : null}\r\n            {data?.event == 2 && (\r\n              <Tooltip title=\"Fall Playback\">\r\n                <Button\r\n                  shape=\"circle\"\r\n                  onClick={() => getFallReplay()}\r\n                  icon={<FaPersonFalling />}\r\n                />\r\n              </Tooltip>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"bg-[#80CAA7]/5 mt-6 border border-[#0091DA] cursor-pointer hover:bg-[#0091DA]/10 rounded-sm\"\r\n          onClick={() => setOpenLogModal(true)}\r\n        >\r\n          <Breadcrumb separator=\">\" className=\"text-[#0091DA] p-3\">\r\n            <Breadcrumb.Item>\r\n              <span className=\"text-[#0091DA] text-[14px] font-normal\">\r\n                <b> {formatToTime12Hour(data?.created_at)}</b>{\" \"}\r\n                {getAlertInfoViaEventDetails(data)?.title}\r\n              </span>\r\n            </Breadcrumb.Item>\r\n            {mid_log && mid_log !== null && (\r\n              <Breadcrumb.Item>\r\n                <span className=\"text-[#0091DA] text-[14px] font-normal\">\r\n                  <b> {formatToTime12Hour(mid_log?.created_at)}</b>{\" \"}\r\n                  {getAlertInfoViaEventDetails(mid_log)?.title}\r\n                </span>\r\n              </Breadcrumb.Item>\r\n            )}\r\n            {data?.closed_at && (\r\n              <Breadcrumb.Item>\r\n                <span className=\"text-[#0091DA] text-[14px] font-normal\">\r\n                  <b> {formatToTime12Hour(data?.closed_at)}</b> Alarm Resolved\r\n                </span>\r\n              </Breadcrumb.Item>\r\n            )}\r\n          </Breadcrumb>\r\n        </div>\r\n      </div>\r\n      <FallPlayback\r\n        isvisible={openFallPlaybackModal}\r\n        setVisible={setOpenFallPlaybackModal}\r\n        data={data}\r\n      />\r\n      {openLogModal && (\r\n        <LogsViweModal\r\n          isvisible={openLogModal}\r\n          setVisible={setOpenLogModal}\r\n          id={data?._id}\r\n          firstAlarm={data}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport AlermLogsCard from \"./AlermLogsCard\";\r\nimport { getaAlarmLogs } from \"@/api/elderly\";\r\nimport { Empty, Button, Spin } from \"antd\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default function AlermLogs({ id }) {\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [data, setData] = React.useState([]);\r\n  const [total, setTotal] = React.useState(0);\r\n  const [page, setPage] = React.useState(1);\r\n  const limit = 5;\r\n\r\n  const { resolvedAlarm, setResolvedAlarm } = useContext(SidebarContext);\r\n\r\n  const getAlarmsLogs = React.useCallback(\r\n    (currentPage = 1) => {\r\n      setLoading(true);\r\n      getaAlarmLogs({\r\n        room_id: id,\r\n        page: currentPage,\r\n        limit,\r\n        to_date: dayjs().format(\"YYYY-MM-DD\"),\r\n      })\r\n        .then((res) => {\r\n          if (currentPage === 1) {\r\n            setData(res.data || []);\r\n          } else {\r\n            setData((prev) => [...prev, ...(res.data || [])]);\r\n          }\r\n          setTotal(res.total);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        })\r\n        .finally(() => setLoading(false));\r\n    },\r\n\r\n    [id, resolvedAlarm]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (id) {\r\n      setPage(1);\r\n      getAlarmsLogs(1);\r\n    }\r\n  }, [id, getAlarmsLogs]);\r\n\r\n  const handleLoadMore = () => {\r\n    const nextPage = page + 1;\r\n    setPage(nextPage);\r\n    getAlarmsLogs(nextPage);\r\n  };\r\n\r\n  const hasMore = data.length < total;\r\n\r\n  return (\r\n    <div className=\"bg-white\">\r\n      <div className=\"flex items-center justify-center gap-2 mb-4\">\r\n        {/* <div className=\"size-3 bg-slate-500 rounded-sm\"></div> */}\r\n        <h3 className=\"text-base font-medium text-nowrap\">\r\n          Today’s Alarm Logs\r\n        </h3>\r\n        <hr className=\"w-full m-0\" />\r\n      </div>\r\n\r\n      {data?.length === 0 && !loading ? (\r\n        <Empty\r\n          description=\"Alarm Logs Not Available For Today\"\r\n          className=\"mt-4\"\r\n        />\r\n      ) : (\r\n        <div className=\"flex flex-col w-full gap-3\">\r\n          {data?.map((item, indx) => (\r\n            <AlermLogsCard data={item} key={indx} />\r\n          ))}\r\n\r\n          {loading && (\r\n            <div className=\"flex justify-center my-2\">\r\n              <Spin />\r\n            </div>\r\n          )}\r\n\r\n          {!loading && hasMore && (\r\n            <div className=\"flex justify-center mt-3\">\r\n              <Button onClick={handleLoadMore}>Load More</Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { getAlertList } from \"@/api/elderlySupport\";\r\nimport AlertCloseModal from \"@/Components/ActiveAlerts/AlertCloseModal\";\r\nimport CriticalAlertCard from \"@/Components/CriticalAlertCard\";\r\nimport { getAlertsGroup } from \"@/utils/helper\";\r\nimport dayjs from \"dayjs\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport default function ActiveCriticalAlerts({ elderlyId }) {\r\n  const [alertList, setAlertList] = useState([]);\r\n  const PRIORITY_GROUPS = [\"Critical\"];\r\n\r\n  const getAlertListData = useCallback(async () => {\r\n    const allAlerts = [];\r\n    let remainingCount = 10;\r\n\r\n    for (const group of PRIORITY_GROUPS) {\r\n      if (remainingCount <= 0) break;\r\n\r\n      const groupParams = getAlertsGroup(group);\r\n      if (!groupParams) continue;\r\n\r\n      try {\r\n        const response = await getAlertList({\r\n          to_date: \"2024-11-30\",\r\n          from_date: dayjs().format(\"YYYY-MM-DD\"),\r\n          is_resolved: false,\r\n          elderly_id: elderlyId,\r\n          limit: remainingCount,\r\n          lookup: false,\r\n\r\n          ...groupParams,\r\n        });\r\n\r\n        const fetchedAlerts = response.data || [];\r\n        allAlerts.push(...fetchedAlerts);\r\n        remainingCount -= fetchedAlerts.length;\r\n\r\n        if (remainingCount <= 0) break;\r\n      } catch (err) {\r\n        console.error(`Error fetching ${group} alerts:`, err);\r\n      }\r\n    }\r\n\r\n    setAlertList(allAlerts);\r\n  }, [elderlyId]);\r\n\r\n  useEffect(() => {\r\n    if (elderlyId) {\r\n      getAlertListData();\r\n      console.log(alertList);\r\n    }\r\n  }, [getAlertListData, elderlyId]);\r\n\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    draggable: true,\r\n    // Add these settings to ensure proper slide display\r\n    centerMode: false,\r\n    variableWidth: false,\r\n    adaptiveHeight: true,\r\n    appendDots: (dots) => (\r\n      <div\r\n        style={{\r\n          backgroundColor: \"transparent\",\r\n          borderRadius: \"10px\",\r\n          padding: \"5px\",\r\n        }}\r\n      >\r\n        <ul id=\"dots\" style={{ margin: \"0px\" }}>\r\n          {dots}\r\n        </ul>\r\n      </div>\r\n    ),\r\n  };\r\n  return (\r\n    <>\r\n      {alertList.length > 0 && (\r\n        <div className=\"mb-4\">\r\n          <Slider {...settings} className=\"w-full transition-all duration-300\">\r\n            {alertList?.map((item, i) => {\r\n              console.log(item);\r\n\r\n              return (\r\n                <CriticalAlertCard\r\n                  key={i + 1}\r\n                  item={item}\r\n                  onResolved={() => getAlertListData()}\r\n                />\r\n              );\r\n            })}\r\n          </Slider>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Drawer, Button, Empty } from \"antd\";\r\nimport { PhoneOutlined } from \"@ant-design/icons\";\r\nCard;\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/Shared/shadncn-ui/table\"; // shadcn table\r\nimport { Card } from \"@/Shared/shadncn-ui/card\";\r\nimport { CallButton } from \"./callButton\";\r\nimport RecentlNotification from \"./recentNotifications\";\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport RoomMapBox from \"./Room\";\r\nimport { WebSocketContext, WebSocketProvider } from \"@/Context/WebSoketHook\";\r\nimport { subscribeToMqtt } from \"@/api/deviceReports\";\r\nimport { decodeHeartBreath } from \"@/utils/helper\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AlermLogs from \"./AlarmLogs\";\r\nimport ActiveCriticalAlerts from \"./ActiveCriticalAlerts\";\r\nimport { MdKeyboardDoubleArrowRight } from \"react-icons/md\";\r\nimport NotificationConfiguration from \"./NotificationConfiguration\";\r\n\r\nconst RoomOverviewDrawer = ({ open, setOpen, data }) => {\r\n  const onClose = () => setOpen(false);\r\n  const navigate = useNavigate();\r\n  return (\r\n    <WebSocketProvider\r\n      deviceId={\r\n        data?.details?.length > 0\r\n          ? data?.details\r\n              ?.filter((item) => item.device_no)\r\n              .map((item) => item.device_no)\r\n              .join(\",\")\r\n          : \"\"\r\n      }\r\n    >\r\n      <Drawer\r\n        title={null}\r\n        onClose={onClose}\r\n        closeIcon={<MdKeyboardDoubleArrowRight size={24} />}\r\n        size=\"large\"\r\n        className=\"relative \"\r\n        open={open}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-6 border-b pt-2 pb-4 fixed w-[calc(736px-48px)] top-[calc(57px)] bg-white z-50\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold\">\r\n              {data?.name || \"Name not found\"}\r\n            </h2>\r\n            <p className=\"text-lg text-gray-600\">\r\n              {data?.room || \"Room No. Not Found\"}\r\n            </p>\r\n          </div>\r\n          <Button\r\n            size={\"large\"}\r\n            icon={<IoIosArrowForward />}\r\n            iconPosition={\"end\"}\r\n            type=\"primary\"\r\n            onClick={() => {\r\n              window.scrollTo(0, 0);\r\n              navigate(\r\n                `/supporter/elderlies/elderly-profile/${data.id}?tab=overview`\r\n              );\r\n            }}\r\n          >\r\n            View Profile\r\n          </Button>\r\n        </div>\r\n        <div className=\"mt-[77px]\"></div>\r\n        {/* <LiveHeartAndBreathRate rooms={data?.details} /> */}\r\n        <ActiveCriticalAlerts elderlyId={data?.id} />\r\n        {/* Rooms View */}\r\n        <div className=\"mb-8 mt-12\">\r\n          <div className=\"flex items-center justify-center gap-2\">\r\n            {/* <div className=\"size-3 bg-slate-500 rounded-sm\"></div> */}\r\n            <h3 className=\"text-base font-medium text-nowrap\">Room Map</h3>\r\n            <hr className=\"w-full m-0\" />\r\n          </div>\r\n          {data?.details\r\n            ?.filter((item) => item?.device_no)\r\n            .map((item, indx) => {\r\n              return <RoomMapBox key={indx} data={item} elderlyId={data?.id} />;\r\n            })}\r\n\r\n          {data?.details?.filter((item) => item?.device_no)?.length == 0 && (\r\n            <Empty description=\"No Room\" className=\"mt-4\"></Empty>\r\n          )}\r\n        </div>\r\n        {/* <div className=\"mb-8 mt-8\">\r\n          <NotificationConfiguration\r\n            room_details={\r\n              data?.details?.filter((item) => item?.room_type == 2)[0]\r\n            }\r\n            elderly_id={data?.id}\r\n          />\r\n        </div> */}\r\n        <div className=\"mb-8 mt-8\">\r\n          <AlermLogs\r\n            id={data?.details?.filter((item) => item?.room_type == 2)[0]._id}\r\n          />\r\n        </div>\r\n      </Drawer>\r\n    </WebSocketProvider>\r\n  );\r\n};\r\n\r\nexport default React.memo(RoomOverviewDrawer);\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  Table,\r\n  Select,\r\n  DatePicker,\r\n  Spin,\r\n  Button,\r\n  ConfigProvider,\r\n  Input,\r\n  Drawer,\r\n} from \"antd\";\r\nimport dayjs from \"dayjs\";\r\nimport { ArrowUpOutlined, ArrowDownOutlined } from \"@ant-design/icons\";\r\nimport { getVisitLogs } from \"@/api/elderly\";\r\nimport { getResponseTime } from \"@/utils/helper\";\r\nimport { MdKeyboardDoubleArrowRight } from \"react-icons/md\";\r\n\r\nexport default function VisitLogsByRoom({ setOpen, open, room_id }) {\r\n  const [data, setData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [sortOrder, setSortOrder] = useState(1);\r\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n\r\n  function onClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  const getVisitLogsData = useCallback(\r\n    (currentPage = 1, append = false) => {\r\n      setLoading(true);\r\n\r\n      getVisitLogs({\r\n        limit: 30,\r\n        page: currentPage,\r\n        room_no: room_id,\r\n        to_date: selectedDate\r\n          ? selectedDate.format(\"YYYY-MM-DD\")\r\n          : dayjs().format(\"YYYY-MM-DD\"),\r\n        sort_by: sortOrder,\r\n      })\r\n        .then((res) => {\r\n          // append or replace data\r\n          setData((prev) => (append ? [...prev, ...res.data] : res.data));\r\n\r\n          // use total_pages from API to decide hasMore\r\n          if (res.total_pages && currentPage < res.total_pages) {\r\n            setHasMore(true);\r\n          } else {\r\n            setHasMore(false);\r\n          }\r\n        })\r\n        .catch(console.error)\r\n        .finally(() => setLoading(false));\r\n    },\r\n    [sortOrder, selectedRoom, selectedDate]\r\n  );\r\n\r\n  // reload when filters change\r\n  useEffect(() => {\r\n    setPage(1);\r\n    getVisitLogsData(1, false);\r\n  }, [getVisitLogsData]);\r\n\r\n  // load next page\r\n  const loadMore = () => {\r\n    const nextPage = page + 1;\r\n    setPage(nextPage);\r\n    getVisitLogsData(nextPage, true);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: (\r\n        <span className=\"px-0 block font-medium text-gray-700\">Check-In</span>\r\n      ),\r\n      dataIndex: \"time_of_visit\",\r\n      key: \"time_of_visit\",\r\n      render: (text) => (\r\n        <div className=\"px-2\">\r\n          <div className=\"rounded-[6px] text-nowrap bg-white border border-[#E4E4E7] px-3 py-1 text-[12px] font-medium text-gray-700 inline-block\">\r\n            {dayjs(text).format(\"HH:mm:ss\")}\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: (\r\n        <span className=\"px-0 block  font-medium text-gray-700\">Check-Out</span>\r\n      ),\r\n      dataIndex: \"exit_time\",\r\n      key: \"exit_time\",\r\n      render: (text) => (\r\n        <div className=\"px-2 \">\r\n          {(text && dayjs(text).format(\"HH:mm:ss\")) || \"-\"}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: (\r\n        <span className=\"px-0 block  font-medium text-gray-700\">Stay</span>\r\n      ),\r\n      key: \"duration\",\r\n      render: (row) => (\r\n        <div className=\"px-2 \">\r\n          {getResponseTime(row?.time_of_visit, row?.exit_time)}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: (\r\n        <span className=\"px-0 block text-nowrap font-medium text-gray-700\">\r\n          Room #\r\n        </span>\r\n      ),\r\n      key: \"room_no\",\r\n      render: (row) => (\r\n        <div className=\"px-2\">\r\n          {row?.room_no} {row?.elderly_name && +\"-\" + row?.elderly_name}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Drawer\r\n      title={null}\r\n      onClose={onClose}\r\n      closeIcon={<MdKeyboardDoubleArrowRight size={24} />}\r\n      size=\"large\"\r\n      open={true}\r\n    >\r\n      <div className=\" bg-white rounded-[12px] w-full\">\r\n        <h2 className=\"text-[22px] font-semibold mb-4\">\r\n          Visit Logs - <small className=\"text-slate-500\"> Room {room_id}</small>\r\n        </h2>\r\n        <ConfigProvider theme={{ token: { colorPrimary: \"#64748b\" } }}>\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <DatePicker\r\n              onChange={(date) => setSelectedDate(date)}\r\n              placeholder=\"Today\"\r\n            />\r\n            <div\r\n              className=\"flex items-center px-3 py-1 border rounded cursor-pointer\"\r\n              onClick={() => setSortOrder((prev) => (prev === 1 ? 0 : 1))}\r\n            >\r\n              Sort&nbsp;\r\n              {sortOrder === 1 ? <ArrowDownOutlined /> : <ArrowUpOutlined />}\r\n            </div>\r\n          </div>\r\n        </ConfigProvider>\r\n\r\n        <div style={{ maxHeight: \"auto\", overflowY: \"auto\" }}>\r\n          <div className=\"w-full \">\r\n            <Table\r\n              columns={columns}\r\n              dataSource={data}\r\n              pagination={false}\r\n              loading={loading && page === 1}\r\n              size=\"middle\"\r\n              rowClassName={(_, index) =>\r\n                index === 0\r\n                  ? \"bg-white\"\r\n                  : (index - 1) % 2 === 0\r\n                  ? \"bg-gray-50\"\r\n                  : \"bg-white\"\r\n              }\r\n              className=\"\r\n      [&_.ant-table-thead>tr>th]:!bg-gray-100\r\n      [&_.ant-table-thead>tr>th]:!py-3\r\n      [&_.ant-table-thead>tr>th]:!text-gray-700\r\n      [&_.ant-table-thead>tr>th]:!font-semibold\r\n      [&_.ant-table-tbody_td]:!border-none\r\n      [&_.ant-table-tbody_td]:!whitespace-normal\r\n    \"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {hasMore && !loading && (\r\n          <div className=\"flex justify-center mt-4\">\r\n            <Button onClick={loadMore} type=\"default\">\r\n              Load More\r\n            </Button>\r\n          </div>\r\n        )}\r\n        {hasMore && loading && (\r\n          <div className=\"flex justify-center p-4\">\r\n            <Spin />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Drawer>\r\n  );\r\n}\r\n","// src/components/CurrentStatus.js\r\nimport { Tooltip } from \"antd\";\r\nimport React, { useContext, useMemo } from \"react\";\r\nimport walking from \"../../../assets/icon/room/events/walking.svg\";\r\nimport suspected_fall from \"../../../assets/icon/room/events/suspected_fall.svg\";\r\nimport squatting from \"../../../assets/icon/room/events/squatting.svg\";\r\nimport standing from \"../../../assets/icon/room/events/standing.svg\";\r\nimport fall_confirm from \"../../../assets/icon/room/events/fall_confirm.svg\";\r\nimport laying_down from \"../../../assets/icon/room/events/laying_down.svg\";\r\nimport { FaBed, FaChair, FaUser, FaWalking } from \"react-icons/fa\";\r\nimport {\r\n  FaBedPulse,\r\n  FaPersonFalling,\r\n  FaPersonFallingBurst,\r\n  FaRegCircleQuestion,\r\n} from \"react-icons/fa6\";\r\nimport { RxShadowNone } from \"react-icons/rx\";\r\nimport { WebSocketContext } from \"@/Context/WebSoketHook\";\r\nimport { decodeMinuteSleepStats } from \"@/utils/helper\";\r\n\r\nimport { PiQuestionLight } from \"react-icons/pi\";\r\nimport { BsPersonStanding } from \"react-icons/bs\";\r\nimport { TbCircuitGround } from \"react-icons/tb\";\r\nimport { RiWifiOffLine } from \"react-icons/ri\";\r\nimport { ImExit } from \"react-icons/im\";\r\nimport VisitLogsByRoom from \"@/Components/VisitLogsByRoom\";\r\nexport default function CurrentStatus({\r\n  deviceCode = \"\",\r\n  selectedEvents = [],\r\n  group = \"all\",\r\n  rooms = [],\r\n  deviceOnline,\r\n  visit_count,\r\n}) {\r\n  const { deviceData } = useContext(WebSocketContext);\r\n  const postureIconMap = useMemo(\r\n    () => ({\r\n      0: null,\r\n      1: FaWalking,\r\n      2: FaPersonFallingBurst,\r\n      3: FaChair,\r\n      4: BsPersonStanding,\r\n      5: FaPersonFalling,\r\n      6: FaBed,\r\n      9: FaBed,\r\n      10: FaBed,\r\n      11: FaBed,\r\n      7: TbCircuitGround,\r\n      8: TbCircuitGround,\r\n    }),\r\n    []\r\n  );\r\n\r\n  // Room type priority mapping\r\n  const roomTypePriority = useMemo(\r\n    () => ({\r\n      2: 1, // Bedroom - highest priority\r\n      1: 2, // Living room\r\n      3: 3, // Bathroom\r\n      4: 4, // Other room\r\n    }),\r\n    []\r\n  );\r\n\r\n  // Get room display name - use custom name if available, otherwise fallback to type name\r\n  const getRoomDisplayName = (room) => {\r\n    // For bedroom, always show detailed activity, so we don't need room name in display\r\n    if (room.room_type === 2) {\r\n      return \"Bedroom\";\r\n    }\r\n\r\n    // For other rooms, use custom name if available, otherwise use generic type name\r\n    if (room.name && room.name.trim() !== \"\") {\r\n      return room.name;\r\n    }\r\n    // Fallback to generic room type names\r\n    const roomTypeNames = {\r\n      1: \"Living Room\",\r\n      2: \"Bedroom\",\r\n      3: \"Bathroom\",\r\n      4: \"Other Room\",\r\n    };\r\n    return roomTypeNames[room.room_type] || \"Unknown Room\";\r\n  };\r\n\r\n  // Find active room with priority system\r\n  const activeRoomData = useMemo(() => {\r\n    if (!rooms || rooms.length === 0) return null;\r\n\r\n    // Sort rooms by priority (bedroom first)\r\n    const sortedRooms = [...rooms].sort((a, b) => {\r\n      const priorityA = roomTypePriority[a.room_type] || 999;\r\n      const priorityB = roomTypePriority[b.room_type] || 999;\r\n      return priorityA - priorityB;\r\n    });\r\n\r\n    // Check each room for activity in priority order\r\n    for (const room of sortedRooms) {\r\n      if (!room.device_no) continue;\r\n\r\n\r\n      const roomDeviceData = deviceData[room.device_no];\r\n      const positionData = roomDeviceData?.position || [];\r\n\r\n      if (positionData.length > 0) {\r\n        return {\r\n          room,\r\n          deviceData: roomDeviceData,\r\n          positionData,\r\n          deviceCode: room.device_no,\r\n        };\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }, [rooms, deviceData, roomTypePriority]);\r\n\r\n  // Get sleep state for the active room\r\n  const sleepState = useMemo(() => {\r\n    if (!activeRoomData) return null;\r\n\r\n    const device = activeRoomData.deviceData;\r\n    const lastUpdate = device?.hbstaticsTimestamp;\r\n    if (!device?.hbstatics || !lastUpdate) return null;\r\n\r\n    const diffInSeconds = (Date.now() - lastUpdate) / 1000;\r\n    if (diffInSeconds > 90) return null;\r\n\r\n    return decodeMinuteSleepStats(device.hbstatics)?.statusEvents?.sleepState;\r\n  }, [activeRoomData]);\r\n\r\n  // Filter people data by selected events\r\n  const peopleData = useMemo(() => {\r\n    if (!activeRoomData) return [];\r\n    const { positionData } = activeRoomData;\r\n    if (!selectedEvents || selectedEvents.length === 0) return positionData;\r\n\r\n    return positionData.filter((p) => selectedEvents.includes(p.posture));\r\n  }, [activeRoomData, selectedEvents]);\r\n\r\n  // No activity detected in any room - \"Out of Room\" state\r\n  if (!activeRoomData) {\r\n    return (\r\n      <div className=\"w-full flex flex-col justify-center items-center\">\r\n        <div\r\n          className=\"text-[#6B7280] w-fit p-[16px] bg-[#F3F4F6] rounded-full\"\r\n          style={{\r\n            backgroundColor: !rooms[0]?.is_device_bind\r\n              ? \"#FCA5A520\"\r\n              : \"#F3F4F6\",\r\n          }}\r\n        >\r\n          <Tooltip\r\n            title={rooms[0]?.is_device_bind ? \"Out of Room\" : \" Device Offline\"}\r\n          >\r\n            {rooms[0]?.is_device_bind ? (\r\n              <ImExit size={20} />\r\n            ) : (\r\n              <RiWifiOffLine size={20} color=\"red\" />\r\n            )}\r\n          </Tooltip>\r\n        </div>\r\n        <div className=\"flex flex-col w-full items-center justify-center mt-[10px]\">\r\n\r\n          <div className=\"text-[14px] font-medium text-primary/85\">\r\n            {rooms[0]?.is_device_bind ? \"Out of Room\" : \" Device Offline\"}\r\n          </div>\r\n          {/* <div\r\n            className=\"text-[12px] text-[#6B7280] font-medium cursor-pointer hover:text-slate-800\"\r\n            onClick={(e) => {\r\n              console.log(\"ddd\");\r\n\r\n              e.stopPropagation();\r\n              setOpen(true);\r\n              // setSelectedRoom(rooms[0]?.room_no);\r\n            }}\r\n          >\r\n            {visit_count} Visits\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Determine display text based on room type\r\n  const getDisplayText = () => {\r\n    const { room } = activeRoomData;\r\n    const firstPerson = peopleData[0];\r\n\r\n    // For bedroom (type 2), show the actual activity/sleep state\r\n    if (room.room_type === 2) {\r\n      if (firstPerson.postureIndex === 6 && sleepState) {\r\n        return sleepState.label;\r\n      }\r\n      return firstPerson.posture;\r\n    }\r\n\r\n    // For other rooms, show \"In [Custom Room Name]\"\r\n    return `In ${getRoomDisplayName(room)}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full flex flex-col justify-center items-center\">\r\n      <div>\r\n        <Tooltip\r\n          color=\"white\"\r\n          className=\"flex -space-x-3 cursor-pointer\"\r\n          overlayInnerStyle={{ color: \"black\", padding: \"10px\" }}\r\n          title={peopleData.map((people, indx) => {\r\n            let label = people?.posture;\r\n            const { room } = activeRoomData;\r\n            let isSleep = false;\r\n            let sleepColor = null;\r\n\r\n            // Only show sleep state for bedroom\r\n            // if (room.room_type === 2 && people.postureIndex === 6 && sleepState) {\r\n            //   isSleep = true;\r\n            //   sleepColor = sleepState.color2;\r\n            // }\r\n            // For bedroom, show detailed state\r\n            if (\r\n              room.room_type === 2 &&\r\n              people.postureIndex === 6 &&\r\n              sleepState\r\n            ) {\r\n              label = sleepState.label;\r\n              isSleep = true;\r\n              sleepColor = sleepState.color2;\r\n            } else if (room.room_type !== 2) {\r\n              // For other rooms, show room location with custom name\r\n              label = `In ${getRoomDisplayName(room)}`;\r\n            }\r\n\r\n            return (\r\n              <div\r\n                key={indx}\r\n                className=\"flex items-center gap-2 w-fit\"\r\n                style={{\r\n                  marginBottom: indx === peopleData.length - 1 ? \"0\" : \"8px\",\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    backgroundColor: isSleep ? sleepColor : people?.color2,\r\n                  }}\r\n                  className=\"p-2 rounded-full\"\r\n                >\r\n                  <FaUser size={14} color=\"white\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm m-0\">{label}</p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        >\r\n          {peopleData.map((people, indx) => {\r\n            let Icon = postureIconMap[people.postureIndex];\r\n            let isSleep = false;\r\n            let sleepColor = null;\r\n            const { room } = activeRoomData;\r\n\r\n            // Only show sleep state for bedroom\r\n            if (\r\n              room.room_type === 2 &&\r\n              people.postureIndex === 6 &&\r\n              sleepState\r\n            ) {\r\n              isSleep = true;\r\n              sleepColor = sleepState.color2;\r\n            }\r\n\r\n            return (\r\n              <div\r\n                key={indx}\r\n                style={{\r\n                  backgroundColor: !isSleep\r\n                    ? `${people?.color2}30`\r\n                    : `${sleepColor}30`,\r\n                }}\r\n                className=\"rounded-full p-[15px] flex items-center justify-center border-2 border-white\"\r\n              >\r\n                {isSleep ? (\r\n                  <FaBed size={20} color={sleepColor} />\r\n                ) : (\r\n                  Icon && <Icon size={20} color={people?.color2} />\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </Tooltip>\r\n      </div>\r\n\r\n      {peopleData.length > 0 && (\r\n        <div className=\"flex flex-col w-full items-center justify-center mt-[10px]\">\r\n          <div className=\"text-[14px] text-[#4B5563] font-medium\">\r\n\r\n            {getDisplayText()}\r\n          </div>\r\n          {/* <div\r\n            className=\"text-[12px] text-[#6B7280] font-medium  cursor-pointer hover:text-slate-800\"\r\n            onClick={(e) => {\r\n              console.log(\"ddd\");\r\n\r\n              e.stopPropagation();\r\n              setOpen(true);\r\n              // setSelectedRoom(rooms[0]?.room_no);\r\n            }}\r\n          >\r\n            {visit_count} Visits\r\n          </div> */}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\n\r\nexport default function VisitCount({ deviceCode, visit_count = 0, onClick }) {\r\n  const { visitCountMap, setInitialCount } = useContext(SidebarContext);\r\n\r\n  useEffect(() => {\r\n    setInitialCount(deviceCode, visit_count);\r\n  }, [deviceCode, visit_count]);\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className=\"text-[12px] text-[#6B7280] font-medium cursor-pointer hover:text-slate-800\"\r\n    >\r\n      {visitCountMap[deviceCode] || 0} Visits\r\n    </div>\r\n  );\r\n}\r\n","// src/components/userCard.js\r\n\r\nimport React, { useState } from \"react\";\r\nimport { CallButton } from \"./callButton\"; // Assuming path is correct\r\nimport CurrentPosture from \"./currentPosture\"; // Assuming path is correct\r\nimport { Progress, Skeleton, Tooltip } from \"antd\";\r\nimport CurrentEvent from \"./currentEvent\";\r\nimport {\r\n  formatCreatedAt,\r\n  getAlertInfoViaEventDetails,\r\n  transformDateAndTimeToDuration,\r\n} from \"@/utils/helper\";\r\nimport RoomOverviewDrawer from \"./userRoomOverviewDrawer\";\r\nimport CurrentStatus from \"./CurrentState\";\r\nimport \"./style.css\";\r\nimport VisitLogsByRoom from \"@/Components/VisitLogsByRoom\";\r\nimport VisitCount from \"./VisitCount\";\r\n\r\nconst NotificationIcon = ({ children }) => (\r\n  <div className=\"w-[32px] h-[32px] rounded-full flex items-center justify-center text-white\">\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst UserCard = ({\r\n  name,\r\n  room,\r\n  deviceCode,\r\n  selectedEvents,\r\n  sleepScore,\r\n  emergencyContacts = [],\r\n  rooms = [],\r\n  isDanger = true,\r\n  currentAlertDetails,\r\n  priority = 0,\r\n  user,\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [openVisitLogs, setOpenVisitLogs] = useState(false);\r\n  const [selectedRoom, setSelectedRoom] = React.useState(null);\r\n\r\n  const deviceStatus = rooms?.filter((room) => room?.room_type == 2)[0]\r\n    ?.is_device_bind;\r\n\r\n  // Normal state\r\n  return (\r\n    <>\r\n      {priority == 1 ? (\r\n        <div\r\n          className=\"relative rounded-[10px] min-w-[220px] max-w-[220px] w-full flex-grow h-fit cursor-pointer border-2 p0 card_UI\"\r\n          onClick={() => setOpen(true)}\r\n          style={{ borderColor: \"#FCA5A5\" }}\r\n        >\r\n          <div className=\"bg-white/90 rounded-[7px] border border-gray-200 p-[10px] flex flex-col gap-4 h-full \">\r\n            {/* <div className=\"bg-[linear-gradient(to_bottom,_#fef2f2_20%,_#ffffff_80%)] absolute inset-[1px] rounded-[6px] -z-10\"></div> */}\r\n\r\n            <div className=\"flex flex-col justify-between items-center\">\r\n              <div className=\"text-[13px] font-medium font-roboto text-gray-500 leading-none w-full justify-center flex items-center gap-2\">\r\n                <div\r\n                  className=\"size-3 rounded-full\"\r\n                  style={{ backgroundColor: !deviceStatus ? \"red\" : \"green\" }}\r\n                ></div>\r\n                Room {room}\r\n              </div>\r\n\r\n              <div className=\"text-[16px] font-medium text-primary text-center mt-[10px] w-full\">\r\n                {name}\r\n              </div>\r\n              <div className=\"mt-[5px] flex flex-col items-center\">\r\n                <CurrentStatus\r\n                  deviceCode={deviceCode}\r\n                  rooms={rooms}\r\n                  visit_count={user?.visit_count}\r\n                  deviceOnline={deviceStatus}\r\n                />\r\n                <VisitCount\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setOpenVisitLogs(true);\r\n                    setSelectedRoom(rooms[0]?.room_no);\r\n                  }}\r\n                  deviceCode={deviceCode}\r\n                  visit_count={user?.visit_count}\r\n                />\r\n                {/* <div\r\n                  className=\"text-[12px] text-[#6B7280] font-medium cursor-pointer hover:text-slate-800\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setOpenVisitLogs(true);\r\n                    setSelectedRoom(rooms[0]?.room_no);\r\n                  }}\r\n                >\r\n                  {user?.visit_count} Visits\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className=\"relative bg-white rounded-[10px]  cursor-pointer border-2 border-[#8BD1A5] p-[10px] min-w-[220px] max-w-[220px] card_UI w-fit flex-grow flex flex-col h-fit\"\r\n          onClick={() => setOpen(true)}\r\n          style={{ borderColor: deviceStatus ? \"#8BD1A5\" : \"#00000010\" }}\r\n        >\r\n          <div className=\"flex flex-col justify-between items-center\">\r\n            <div className=\"text-[13px] font-semibold text-[#6B7280] leading-none w-full flex justify-center items-center gap-2\">\r\n              <div\r\n                className=\"size-3 rounded-full\"\r\n                style={{ backgroundColor: !deviceStatus ? \"red\" : \"green\" }}\r\n              ></div>\r\n              Room {room}\r\n            </div>\r\n            <div className=\"text-[16px] font-medium text-primary text-center mt-[10px] w-full\">\r\n              {name}\r\n            </div>\r\n            <div className=\"mt-[5px] flex flex-col items-center\">\r\n              <CurrentStatus\r\n                deviceCode={deviceCode}\r\n                rooms={rooms}\r\n                visit_count={user?.visit_count}\r\n              />\r\n              <VisitCount\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setOpenVisitLogs(true);\r\n                  setSelectedRoom(rooms[0]?.room_no);\r\n                }}\r\n                deviceCode={deviceCode}\r\n                visit_count={user?.visit_count}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"flex justify-between\">\r\n            {currentAlertDetails && currentAlertDetails?.icon && (\r\n              <NotificationIcon>\r\n                <Tooltip\r\n                  title={currentAlertDetails?.title}\r\n                  className=\"cursor-pointer\"\r\n                >\r\n                  <img\r\n                    className=\"size-[26px]\"\r\n                    src={currentAlertDetails?.icon}\r\n                    alt=\"\"\r\n                  />\r\n                </Tooltip>\r\n              </NotificationIcon>\r\n            )}\r\n          </div> */}\r\n        </div>\r\n      )}\r\n      {openVisitLogs && (\r\n        <VisitLogsByRoom\r\n          open={openVisitLogs}\r\n          setOpen={setOpenVisitLogs}\r\n          room_id={selectedRoom}\r\n        />\r\n      )}\r\n\r\n      {open && <RoomOverviewDrawer open={open} setOpen={setOpen} data={user} />}\r\n    </>\r\n  );\r\n};\r\n\r\n// Wrap with React.memo to prevent re-renders if props are unchanged.\r\nexport default React.memo(UserCard);\r\n","import React, { useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { WebSocketContext } from \"../../../Context/WebSoketHook\";\r\nimport UserCard from \"./userCard\";\r\nimport { Skeleton, Tooltip } from \"antd\";\r\nimport { decodeMinuteSleepStats } from \"@/utils/helper\";\r\nimport { getCriticalAlarmCount } from \"@/api/elderly\";\r\nimport dayjs from \"dayjs\";\r\nimport { BsInfoCircle } from \"react-icons/bs\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\n\r\nconst UserCardList = ({\r\n  users,\r\n  selectedEvents,\r\n  notVisitedRoom,\r\n  isActiveAlertsSelect,\r\n  loading,\r\n}) => {\r\n  const { deviceData } = useContext(WebSocketContext);\r\n  const [criticalAlarmCounts, setCriticalAlarmCounts] = useState([]);\r\n  const CRITICAL_ALARM_CACHE_KEY = \"criticalAlarmCountsCache\";\r\n\r\n  useEffect(() => {\r\n    const cached = localStorage.getItem(CRITICAL_ALARM_CACHE_KEY);\r\n    if (cached) {\r\n      const parsed = JSON.parse(cached);\r\n      if (Date.now() - parsed.timestamp < 24 * 60 * 60 * 1000) {\r\n        setCriticalAlarmCounts(parsed.data);\r\n      }\r\n    }\r\n\r\n    getCriticalAlarmCount({\r\n      to_date: dayjs().subtract(14, \"day\").format(\"YYYY-MM-DD\"),\r\n      from_date: dayjs()?.format(\"YYYY-MM-DD\"),\r\n      limit: 1000,\r\n    })\r\n      .then((res) => {\r\n        const fresh = res?.data || [];\r\n        setCriticalAlarmCounts(fresh);\r\n\r\n        localStorage.setItem(\r\n          CRITICAL_ALARM_CACHE_KEY,\r\n          JSON.stringify({ data: fresh, timestamp: Date.now() })\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const riskMap = useMemo(() => {\r\n    const map = {};\r\n    for (const alarm of criticalAlarmCounts) {\r\n      if (!map[alarm.room_id]) map[alarm.room_id] = {};\r\n      const eventId = alarm.event; // '2', '5', etc.\r\n      map[alarm.room_id][eventId] =\r\n        (map[alarm.room_id][eventId] || 0) + alarm.count;\r\n    }\r\n    return map;\r\n  }, [criticalAlarmCounts]);\r\n\r\n  const thresholds = {\r\n    2: 3, // event 2 >= 3\r\n    // 6: 6, // event 6 >= 6\r\n    // add more events/thresholds here\r\n  };\r\n\r\n  const isHighRiskRoom = (room_id) => {\r\n    const roomEvents = riskMap[room_id];\r\n    if (!roomEvents) return false;\r\n    return Object.entries(thresholds).some(([eventId, limit]) => {\r\n      return (roomEvents[eventId] || 0) >= limit;\r\n    });\r\n  };\r\n\r\n  // Helper function to check if user has activity in any room\r\n  const hasActivityInAnyRoom = (user) => {\r\n    if (!user.rooms || user.rooms.length === 0) return false;\r\n\r\n    return user.rooms.some((room) => {\r\n      if (!room.device_no) return false;\r\n      const roomDeviceData = deviceData[room.device_no];\r\n      return roomDeviceData?.position && roomDeviceData.position.length > 0;\r\n    });\r\n  };\r\n\r\n  const visibleUsers = useMemo(() => {\r\n    if (!selectedEvents || selectedEvents.length === 0) {\r\n      return users;\r\n    }\r\n\r\n    // Handle \"Out of Room\" filter\r\n    if (selectedEvents.includes(\"outOfRoom\")) {\r\n      return users.filter(\r\n        (user) =>\r\n          // must be device bound (online)\r\n          user.is_device_bind !== false &&\r\n          // but has no activity\r\n          !hasActivityInAnyRoom(user)\r\n      );\r\n\r\n    }\r\n\r\n    return users.filter((user) => {\r\n      // Check if user has activity in any room\r\n      if (!hasActivityInAnyRoom(user)) return false;\r\n\r\n      // Find the active room with priority (bedroom first)\r\n      const roomTypePriority = { 2: 1, 1: 2, 3: 3, 4: 4, 5: 5 };\r\n      const sortedRooms = [...(user.rooms || [])].sort((a, b) => {\r\n        const priorityA = roomTypePriority[a.room_type] || 999;\r\n        const priorityB = roomTypePriority[b.room_type] || 999;\r\n        return priorityA - priorityB;\r\n      });\r\n\r\n      let activeRoom = null;\r\n      for (const room of sortedRooms) {\r\n        if (!room.device_no) continue;\r\n        const roomDeviceData = deviceData[room.device_no];\r\n        if (roomDeviceData?.position && roomDeviceData.position.length > 0) {\r\n          activeRoom = { room, deviceData: roomDeviceData };\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!activeRoom) return false;\r\n\r\n      const peopleData = activeRoom.deviceData.position || [];\r\n      if (peopleData.length === 0) return false;\r\n\r\n      const device = activeRoom.deviceData;\r\n      let sleepState = null;\r\n      if (device?.hbstatics && device?.hbstaticsTimestamp) {\r\n        const diffInSeconds = (Date.now() - device.hbstaticsTimestamp) / 1000;\r\n        if (diffInSeconds <= 90) {\r\n          sleepState =\r\n            decodeMinuteSleepStats(device.hbstatics)?.statusEvents?.sleepState\r\n              ?.label || null;\r\n        }\r\n      }\r\n\r\n      return peopleData.every((p) => {\r\n        const firstPerson = peopleData[0];\r\n        if (!firstPerson) return false;\r\n\r\n        if (firstPerson.postureIndex === 6) {\r\n          const hasSleepFilter = selectedEvents.some((e) =>\r\n            [\"awake\", \"asleep\"].includes(e)\r\n          );\r\n\r\n          if (hasSleepFilter) {\r\n            if (!sleepState) return false;\r\n\r\n            if (selectedEvents.includes(\"awake\")) {\r\n              return sleepState === \"Awake\";\r\n            }\r\n\r\n            if (selectedEvents.includes(\"asleep\")) {\r\n              return [\"Light Sleep\", \"Deep Sleep\"].includes(sleepState);\r\n            }\r\n          }\r\n\r\n          return selectedEvents.includes(6);\r\n        }\r\n\r\n        return selectedEvents.includes(firstPerson.postureIndex);\r\n      });\r\n    });\r\n  }, [deviceData, selectedEvents, users, isActiveAlertsSelect, notVisitedRoom]);\r\n\r\n  const [highRiskUsers, normalUsers, offlineUsers] = useMemo(() => {\r\n    const high = [];\r\n    const normal = [];\r\n    const offline = [];\r\n    visibleUsers.forEach((user) => {\r\n      if (user.is_device_bind === false) {\r\n        offline.push(user);\r\n        return;\r\n      }\r\n      const roomId = user.room_id;\r\n\r\n      if (isHighRiskRoom(roomId)) {\r\n        high.push(user);\r\n      } else {\r\n        normal.push(user);\r\n      }\r\n    });\r\n\r\n    if (notVisitedRoom) {\r\n      return [\r\n        high.filter((u) => !u.visit_count || u.visit_count == 0),\r\n        normal.filter((u) => !u.visit_count || u.visit_count == 0),\r\n        offline.filter((u) => !u.visit_count || u.visit_count == 0),\r\n      ];\r\n    }\r\n    // if (isActiveAlertsSelect) {\r\n    //   return [\r\n    //     high.filter((u) => u.priority === 1),\r\n    //     normal.filter((u) => u.priority === 1),\r\n    //   ];\r\n    // }\r\n    return [high, normal, offline];\r\n  }, [visibleUsers, riskMap, isActiveAlertsSelect, notVisitedRoom]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-6\">\r\n      {loading && users?.length == 0 && (\r\n        <div className=\"flex gap-2 flex-wrap\">\r\n          {Array.from({ length: 8 }).map((_, indx) => (\r\n            <UserCardSkeleton key={indx} />\r\n          ))}\r\n        </div>\r\n      )}\r\n      {highRiskUsers.length > 0 && (\r\n        <div>\r\n          <div className=\"w-full flex items-center justify-center gap-3 mb-4\">\r\n            <h2 className=\"text-sm text-primary/90 text-nowrap flex items-center\">\r\n              High Risk Residents{\" \"}\r\n              <Tooltip\r\n                className=\"ml-2\"\r\n                title=\"A room is marked as high risk if a resident has fallen 3 or more times in the last 2 weeks.\"\r\n              >\r\n                <BsInfoCircle className=\"text-sm text-primary cursor-pointer\" />\r\n              </Tooltip>\r\n            </h2>\r\n            <hr className=\"w-full\" />\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {highRiskUsers.map((user, ind) => (\r\n              <UserCard\r\n                key={user.id}\r\n                name={user.name}\r\n                room={user.room}\r\n                // room={\"0\" + (ind + 1)}\r\n                sleepScore={user.sleepScore}\r\n                deviceCode={user.deviceCode}\r\n                selectedEvents={selectedEvents}\r\n                currentAlertDetails={user?.currentAlertDetails}\r\n                emergencyContacts={user.emergency_contacts}\r\n                rooms={user.rooms}\r\n                priority={user.priority}\r\n                user={user}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Normal Section */}\r\n      {normalUsers.length > 0 && (\r\n        <div>\r\n          <div className=\"w-full flex items-center justify-center gap-3 mb-4\">\r\n            <h2 className=\"text-sm text-primary/90 text-nowrap\">\r\n              All Residents\r\n            </h2>\r\n            <hr className=\"w-full\" />\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {normalUsers.map((user, ind) => (\r\n              <UserCard\r\n                key={user.id}\r\n                name={user.name}\r\n                // room={\"0\" + (highRiskUsers.length + ind + 1)}\r\n                room={user.room}\r\n                sleepScore={user.sleepScore}\r\n                deviceCode={user.deviceCode}\r\n                selectedEvents={selectedEvents}\r\n                currentAlertDetails={user?.currentAlertDetails}\r\n                emergencyContacts={user.emergency_contacts}\r\n                rooms={user.rooms}\r\n                priority={user.priority}\r\n                user={user}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Offline Rooms Section */}\r\n      {offlineUsers.length > 0 && (\r\n        <div>\r\n          <div className=\"w-full flex items-center justify-center gap-3 mb-4\">\r\n            <h2 className=\"text-sm text-primary/90 text-nowrap\">\r\n              Offline Rooms\r\n            </h2>\r\n            <hr className=\"w-full\" />\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {offlineUsers.map((user) => (\r\n              <UserCard\r\n                key={user.id}\r\n                name={user.name}\r\n                room={user.room}\r\n                sleepScore={user.sleepScore}\r\n                deviceCode={user.deviceCode}\r\n                selectedEvents={selectedEvents}\r\n                currentAlertDetails={user?.currentAlertDetails}\r\n                emergencyContacts={user.emergency_contacts}\r\n                rooms={user.rooms}\r\n                priority={user.priority}\r\n                user={user}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCardList;\r\n\r\n// Skeleton remains same\r\n\r\nconst UserCardSkeleton = () => {\r\n  return (\r\n    <div className=\"relative rounded-[9px] min-w-[220px] max-w-[280px] w-fit flex-grow h-fit cursor-pointer border-2\">\r\n      <div className=\"bg-white/90 rounded-[7px]  p-[10px] flex flex-col gap-4 h-full relative\">\r\n        <div className=\"bg-[linear-gradient(to_bottom,_#fef2f2_20%,_#ffffff_80%)] absolute inset-[1px] rounded-[6px] -z-10\"></div>\r\n\r\n        {/* Header (status + room) */}\r\n        <div className=\"flex flex-col justify-between items-center w-full\">\r\n          <div className=\"text-[14px] font-semibold text-gray-500 leading-none w-full flex items-center gap-2\">\r\n            <div className=\"size-3 rounded-full bg-gray-300\"></div>\r\n            <Skeleton.Input active size=\"small\" style={{ width: 80 }} />\r\n          </div>\r\n\r\n          <div className=\"text-[16px] font-medium text-primary text-center mt-1 w-full\">\r\n            <Skeleton.Input active size=\"small\" style={{ width: 100 }} />\r\n          </div>\r\n\r\n          <div className=\"mt-4 mb-1\">\r\n            <Skeleton.Button active size=\"small\" style={{ width: 120 }} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Notification Icon Skeleton */}\r\n        <div className=\"flex justify-between z-10 absolute top-2 right-2\">\r\n          <Skeleton.Avatar active size=\"small\" shape=\"circle\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// utils/cache.js\r\nexport const getCache = (key, maxAge = 24 * 60 * 60 * 1000) => {\r\n  const cached = localStorage.getItem(key);\r\n  if (!cached) return null;\r\n  const parsed = JSON.parse(cached);\r\n  const now = Date.now();\r\n  if (now - parsed.timestamp < maxAge) {\r\n    return parsed.data;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const setCache = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify({ data, timestamp: Date.now() }));\r\n};\r\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { getElderliesPriority, getAllUIDs } from \"@/api/elderly\";\r\nimport { getAlertInfoViaEventDetails } from \"../../../utils/helper\";\r\nimport CurrentActivityOverview from \"../components/CurrentActivityOverview\";\r\nimport UserCardList from \"../components/userCardList\";\r\nimport { WebSocketProvider } from \"../../../Context/WebSoketHook\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { Button, Spin } from \"antd\";\r\nimport { DownOutlined } from \"@ant-design/icons\";\r\nimport { FaArrowRotateRight } from \"react-icons/fa6\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport AlertsTails from \"@/Components/AlarmsState\";\r\nimport useNotification from \"antd/es/notification/useNotification\";\r\nimport { getCache, setCache } from \"@/utils/cacheStore\";\r\nexport default function NurseDashboard() {\r\n  const [allDevicesList, setAllDevicesList] = useState(\"\");\r\n  const [allDevicesList2, setAllDevicesList2] = useState(\"\");\r\n  const [roomList, setRoomList] = useState([]);\r\n  const [loadingData, setLoadingData] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const limit = 30;\r\n  const {\r\n    totalResident,\r\n    setTotalResident,\r\n    setActiveAlerts,\r\n    activeAlerts,\r\n    selectedEvents,\r\n    setSelectedEvents,\r\n    setNotVisitedRoom,\r\n    notVisitedRoom,\r\n    notVisitRoomCount,\r\n    setNotVisitRoomCount,\r\n    offlineRoomCount,\r\n    setOfflineRoomCount,\r\n  } = useContext(SidebarContext);\r\n  const { resolvedAlarm, setResolvedAlarm } = useContext(SidebarContext);\r\n  const { notificationEvent } = useNotification();\r\n  const ROOM_LIST_CACHE_KEY = \"roomListCache\";\r\n  const ALL_UIDS_CACHE_KEY = \"allUIDsCache\";\r\n\r\n  const getRoomListData = useCallback(\r\n    async (pageNum = 1, append = false) => {\r\n      try {\r\n        // only load cache for the first page & not append\r\n        if (pageNum === 1 && !append) {\r\n          const cached = localStorage.getItem(ROOM_LIST_CACHE_KEY);\r\n          if (cached) {\r\n            const parsed = JSON.parse(cached);\r\n            const now = Date.now();\r\n            if (now - parsed.timestamp < 24 * 60 * 60 * 1000) {\r\n              setRoomList(parsed.data);\r\n              setTotalResident(parsed.totalResident || 0);\r\n              setNotVisitRoomCount(parsed.notVisitRoomCount || 0);\r\n            }\r\n          }\r\n        }\r\n\r\n        setLoadingData(true);\r\n        const res = await getElderliesPriority({ page: pageNum, limit });\r\n\r\n        setTotalResident(res?.total || 0);\r\n\r\n        const refineData = res.data.map((item) => {\r\n          const deviceC =\r\n            item.rooms.find((room) => room?.room_type === 2) || \"\";\r\n\r\n          return {\r\n            id: item._id,\r\n            name: item.name || `N/A`,\r\n            room: item.room_no || `N/A`,\r\n            visit_count: item.visit_count || 0,\r\n            room_id: deviceC?._id,\r\n            is_device_bind: deviceC?.is_device_bind || false,\r\n\r\n            sleepScore: Math.floor(Math.random() * 100),\r\n            emergency_contacts: item.emergency_contacts || [],\r\n            deviceCode: deviceC?.device_no,\r\n            rooms: (item.rooms || [])\r\n              .filter((room) => room.device_no && room.device_no.trim() !== \"\")\r\n              .map((room) => ({\r\n                room: room.name || `N/A`,\r\n                device_no: room.device_no,\r\n                room_no: item.room_no,\r\n                room_type: room.room_type,\r\n                id: room._id,\r\n                is_device_bind: room.is_device_bind,\r\n              })),\r\n            currentAlertDetails: {\r\n              ...getAlertInfoViaEventDetails(item?.alarms_data[0]),\r\n              created_at: item?.alarms_data[0]?.created_at,\r\n            },\r\n            priority: item?.highest_priority,\r\n            details: item?.rooms,\r\n          };\r\n        });\r\n\r\n        setRoomList((prev) => (append ? [...prev, ...refineData] : refineData));\r\n        const allDeviceUIDs = res.data\r\n          .map((item) => {\r\n            const deviceC =\r\n              item.rooms.find((room) => room?.room_type === 2) || \"\";\r\n            return deviceC?.device_no || null;\r\n          })\r\n          .filter(Boolean);\r\n        const offlineDevices = res.data.filter((item) => {\r\n          const deviceC =\r\n            item.rooms.find((room) => room?.room_type === 2) || \"\";\r\n          return deviceC?.is_device_bind === false;\r\n        })?.length;\r\n        setOfflineRoomCount(offlineDevices);\r\n        const notVisitedRooms = res.data.filter(\r\n          (item) => !item.visit_count || item.visit_count == 0\r\n        )?.length;\r\n        setNotVisitRoomCount(notVisitedRooms || 0);\r\n        setAllDevicesList2(allDeviceUIDs.join(\",\"));\r\n        localStorage.setItem(\r\n          ROOM_LIST_CACHE_KEY,\r\n          JSON.stringify({\r\n            data: refineData,\r\n            timestamp: Date.now(),\r\n            totalResident: res?.total || 0,\r\n            notVisitRoomCount: notVisitedRooms || 0,\r\n          })\r\n        );\r\n      } catch (err) {\r\n        console.log(err);\r\n      } finally {\r\n        setLoadingData(false);\r\n      }\r\n    },\r\n    [resolvedAlarm, notificationEvent]\r\n  );\r\n\r\n  const getNursingHomeUIDs = useCallback(async () => {\r\n    try {\r\n      const cachedUIDs = getCache(ALL_UIDS_CACHE_KEY);\r\n      if (cachedUIDs) {\r\n        setAllDevicesList(cachedUIDs);\r\n      }\r\n\r\n      const res = await getAllUIDs();\r\n      const uids = res.data\r\n        ?.map((item) => item?.uid)\r\n        .filter(Boolean)\r\n        .join(\",\");\r\n\r\n      setAllDevicesList(uids);\r\n\r\n      setCache(ALL_UIDS_CACHE_KEY, uids);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getRoomListData(1);\r\n    getNursingHomeUIDs();\r\n  }, [getRoomListData]);\r\n  const handleLoadMore = () => {\r\n    if (roomList.length < totalResident) {\r\n      const nextPage = page + 1;\r\n      setPage(nextPage);\r\n      getRoomListData(nextPage, true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WebSocketProvider deviceId={allDevicesList || allDevicesList2}>\r\n      <CustomContext.Provider\r\n        value={{\r\n          selectedEvents,\r\n          setSelectedEvents,\r\n          setActiveAlerts,\r\n          activeAlerts,\r\n          totalResident,\r\n          setNotVisitedRoom,\r\n          notVisitedRoom,\r\n          notVisitRoomCount,\r\n        }}\r\n      >\r\n        <div className=\"w-full bg-[#F4F4F4] h-[calc(100svh-100px)] flex flex-col items-start font-poppins relative \">\r\n          <div className=\"p-[20px] w-full flex lg:flex-nowrap flex-wrap gap-2 lg:gap-8 sticky top-0 bg-gradient-to-b from-[#F4F4F4] via-[#F4F4F4]/70 to-[#F4F4F4]/10 z-50\">\r\n            <div className=\"lg:w-[60%] w-[100%]\">\r\n              <CurrentActivityOverview />\r\n            </div>\r\n            <div className=\"lg:w-[40%] w-[100%]\">\r\n              <AlertsTails />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"w-full p-5 pt-1 h-[calc(100svh-100px)] overflow-auto\">\r\n            {/* <div className=\"header flex justify-between w-full items-center gap-2\">\r\n              <h2 className=\"font-semibold text-[21px] flex-shrink-0\">\r\n                All Rooms\r\n              </h2>\r\n              <div className=\"h-[1px] w-full bg-slate-100\"></div>\r\n            </div> */}\r\n\r\n            <UserCardList\r\n              users={roomList}\r\n              selectedEvents={selectedEvents}\r\n              loading={loadingData && roomList.length === 0}\r\n              isActiveAlertsSelect={activeAlerts}\r\n              notVisitedRoom={notVisitedRoom}\r\n            />\r\n          </div>\r\n\r\n          {/* Floating Load More Button */}\r\n          {roomList.length < totalResident && (\r\n            <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2\">\r\n              <Button\r\n                shape=\"round\"\r\n                onClick={handleLoadMore}\r\n                disabled={loadingData}\r\n                className=\"shadow-lg\"\r\n              >\r\n                {loadingData ? (\r\n                  <Spin size=\"small\" />\r\n                ) : (\r\n                  <div className=\"flex items-center justify-center gap-2\">\r\n                    Load More <FaArrowRotateRight size={12} />\r\n                  </div>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CustomContext.Provider>\r\n    </WebSocketProvider>\r\n  );\r\n}\r\n"],"names":["genNotificationPlacementStyle","token","componentCls","notificationMarginEdge","animationMaxHeight","noticeCls","rightFadeIn","Keyframes","topFadeIn","bottomFadeIn","leftFadeIn","NotificationPlacements","placementAlignProperty","genPlacementStackStyle","placement","genStackChildrenStyle","childrenStyle","i","genStackedNoticeStyle","genStackStyle","acc","cur","genNoticeStyle","iconCls","boxShadow","fontSizeLG","notificationMarginBottom","borderRadiusLG","colorSuccess","colorInfo","colorWarning","colorError","colorTextHeading","notificationBg","notificationPadding","notificationProgressBg","notificationProgressHeight","fontSize","lineHeight","width","notificationIconSize","colorText","unit","genFocusStyle","genNotificationStyle","motionDurationMid","motionEaseInOut","fadeOut","resetComponent","prepareComponentToken","CONTAINER_MAX_OFFSET","prepareNotificationToken","notificationPaddingVertical","notificationPaddingHorizontal","mergeToken","useStyle","genStyleHooks","notificationToken","getCloseIcon","prefixCls","closeIcon","React.createElement","CloseOutlined","typeToIcon","CheckCircleFilled","InfoCircleFilled","CloseCircleFilled","ExclamationCircleFilled","PureContent","props","icon","type","message","description","actions","role","iconNode","classNames","getPlacementStyle","top","bottom","style","getMotion","getCloseIconConfig","notificationConfig","notification","__rest","s","e","t","p","DEFAULT_OFFSET","DEFAULT_DURATION","DEFAULT_PLACEMENT","Wrapper","children","rootCls","useCSSVarCls","wrapCSSVar","hashId","cssVarCls","React","NotificationProvider","renderNotifications","node","key","Holder","ref","staticPrefixCls","staticGetContainer","maxCount","rtl","onAllRemoved","stack","duration","pauseOnHover","showProgress","getPrefixCls","getPopupContainer","direction","useContext","ConfigContext","useToken","getStyle","getClassName","getNotificationMotion","api","holder","useRcNotification","useInternalNotification","holderRef","devUseWarning","open","config","_a","originOpen","noticePrefixCls","btn","className","closable","restConfig","mergedActions","realCloseIcon","clone","_b","useNotification","__iconNode","Circle","createLucideIcon","LogsViweModal","isvisible","setVisible","id","firstAlarm","onClose","setLogs","setPage","setHasMore","setLoading","logs","useState","page","hasMore","loading","loadingMore","setLoadingMore","getLogsDetails","useCallback","pageNum","isLoadMore","res","getaAlarmsLogsDetails","newLogs","prevLogs","err","loadMore","nextPage","useEffect","stepItems","formatCreatedAt","getAlertInfoViaEventDetails","log","index","jsx","Modal","jsxs","Spin","Fragment","Steps","Button","CurrentPeoples","data","deviceData","WebSocketContext","context","CustomContext","elderlyDetails","deviceCode","peopleData","useMemo","currentState","device","lastUpdate","now","Tooltip","people","indx","FaUser","FaBedPulse","_d","_c","decodeMinuteSleepStats","_g","_f","_e","RoomMapBox","elderlyId","visible","roomInfo","setRoomInfo","getRoomInformation","getRoomInfo","error","handleClick","initiateCall","IoMdCall","LuSettings","RiWifiOffLine","Room2","Room1","DeviceConfigurationModal","DropdownMenuSubTrigger","React.forwardRef","inset","DropdownMenuPrimitive.SubTrigger","cn","ChevronRight","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","AlermLogsCard","openFallPlaybackModal","setOpenFallPlaybackModal","openLogModal","setOpenLogModal","mid_log","getFallReplay","transformDateAndTimeToDuration","Tag","formatMilliseconds","FaPersonFalling","Breadcrumb","formatToTime12Hour","FallPlayback","AlermLogs","setData","total","setTotal","limit","resolvedAlarm","setResolvedAlarm","SidebarContext","getAlarmsLogs","currentPage","getaAlarmLogs","dayjs","prev","handleLoadMore","Empty","item","ActiveCriticalAlerts","alertList","setAlertList","PRIORITY_GROUPS","getAlertListData","allAlerts","remainingCount","group","groupParams","getAlertsGroup","fetchedAlerts","getAlertList","settings","dots","Slider","CriticalAlertCard","RoomOverviewDrawer","setOpen","navigate","useNavigate","WebSocketProvider","Drawer","MdKeyboardDoubleArrowRight","IoIosArrowForward","RoomOverviewDrawer$1","VisitLogsByRoom","room_id","sortOrder","setSortOrder","selectedRoom","setSelectedRoom","selectedDate","setSelectedDate","getVisitLogsData","append","getVisitLogs","columns","text","row","getResponseTime","ConfigProvider","DatePicker","date","ArrowDownOutlined","ArrowUpOutlined","Table","_","CurrentStatus","selectedEvents","rooms","deviceOnline","visit_count","postureIconMap","FaWalking","FaPersonFallingBurst","FaChair","BsPersonStanding","FaBed","TbCircuitGround","roomTypePriority","getRoomDisplayName","room","activeRoomData","sortedRooms","a","b","priorityA","priorityB","roomDeviceData","positionData","sleepState","ImExit","getDisplayText","firstPerson","label","isSleep","sleepColor","Icon","VisitCount","onClick","visitCountMap","setInitialCount","UserCard","name","sleepScore","emergencyContacts","isDanger","currentAlertDetails","priority","user","openVisitLogs","setOpenVisitLogs","deviceStatus","UserCard$1","UserCardList","users","notVisitedRoom","isActiveAlertsSelect","criticalAlarmCounts","setCriticalAlarmCounts","CRITICAL_ALARM_CACHE_KEY","cached","parsed","getCriticalAlarmCount","fresh","riskMap","map","alarm","eventId","thresholds","isHighRiskRoom","roomEvents","hasActivityInAnyRoom","visibleUsers","activeRoom","highRiskUsers","normalUsers","offlineUsers","high","normal","offline","roomId","u","UserCardSkeleton","BsInfoCircle","ind","Skeleton","getCache","maxAge","setCache","NurseDashboard","allDevicesList","setAllDevicesList","allDevicesList2","setAllDevicesList2","roomList","setRoomList","loadingData","setLoadingData","totalResident","setTotalResident","setActiveAlerts","activeAlerts","setSelectedEvents","setNotVisitedRoom","notVisitRoomCount","setNotVisitRoomCount","offlineRoomCount","setOfflineRoomCount","notificationEvent","ROOM_LIST_CACHE_KEY","ALL_UIDS_CACHE_KEY","getRoomListData","getElderliesPriority","refineData","deviceC","allDeviceUIDs","offlineDevices","notVisitedRooms","getNursingHomeUIDs","cachedUIDs","uids","getAllUIDs","CurrentActivityOverview","AlertsTails","FaArrowRotateRight"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}