import{r as o,a6 as j,j as e,aB as v,aC as g,_ as d,E as C,aA as E}from"./index-CobdpRh7.js";import{H as k}from"./index-cJR4ku3L.js";import{S as M,b as S}from"./SuccessModal-DyIKiERs.js";import{a as b}from"./index-Cg4k8VAP.js";import"./UseCustomContext-B_1xq4Cd.js";import{u as _}from"./elderlySupport-Qy6q7lNL.js";function P({row:s}){const[p,r]=o.useState(!1),[m,l]=o.useState(!1),[x,c]=o.useState(!1),a=o.useContext(j),f=t=>{r(t)},i=t=>{_({id:t.id,data:{event_status:t.event_status}}).then(u=>{d.custom(n=>e.jsx(C,{t:n,text:"Event Added Successfully!"})),a==null||a.getlist()}).catch(u=>{d.custom(n=>e.jsx(E,{t:n,title:"Error",text:u.message}))})},h=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-1 flex-col m-2",children:[e.jsxs("span",{onClick:()=>c(!0),className:"flex items-center gap-2 justify-start p-2 px-4 w-full mt-2 rounded-md hover:bg-[#008000]/10 cursor-pointer",children:[e.jsx(S,{color:"green"})," Mark As Done"]}),e.jsxs("span",{onClick:()=>l(!0),className:"flex items-center gap-2 justify-start p-2 px-4 mb-2 w-full rounded-md hover:bg-red-500/10 cursor-pointer",children:[e.jsx(b,{color:"red"}),"Close Event"]})]})});return e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{onClick:()=>r(!0),className:"cursor-pointer p-2 hover:bg-[#E8E9EE] rounded-full",children:e.jsx(k,{className:"cursor-pointer"})}),e.jsx(v,{open:p,onOpenChange:f,content:h,placement:"leftTop",trigger:"click"}),e.jsx(g,{onDelete:()=>i({id:s==null?void 0:s._id,event_status:"closed"}),modalOPen:m,setModalOpen:l,title:"Are you sure to close this event?",title2:"This process cannot be undo.",okText:"Close Event"}),e.jsx(M,{modalOPen:x,setModalOpen:c,onOk:()=>i({id:s==null?void 0:s._id,event_status:"open"}),title:"Are you sure to mark this event as done?",title2:"This process cannot be undo."})]})}export{P as A};
