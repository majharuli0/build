import{j as e,E as S,bf as $,h0 as P,h1 as M,h2 as z,gI as C,h3 as k,h4 as W,h5 as F,h6 as O,h7 as R,h8 as I,h9 as B,gT as y,gK as G}from"./index-DTl7wkHp.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},l=new s.Error().stack;l&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[l]="40d2eb97-b13b-4e5f-9ee8-603430b523a9",s._sentryDebugIdIdentifier="sentry-dbid-40d2eb97-b13b-4e5f-9ee8-603430b523a9")}catch{}function E({width:s="100%",height:l=400}){const m=()=>{const a=[],h=[],d=[],t=new Date;for(let p=9;p>=0;p--){const f=new Date(t);f.setDate(t.getDate()-p),a.push(f.toLocaleDateString("en-US",{month:"short",day:"numeric"})),h.push(Math.floor(Math.random()*20)+5),d.push(Math.floor(Math.random()*15)+3)}return{dates:a,fallAlertData:h,deviceOfflineData:d}},{dates:x,fallAlertData:n,deviceOfflineData:i}=m(),r=n.reduce((a,h)=>a+h,0),o=i.reduce((a,h)=>a+h,0),c={tooltip:{trigger:"axis",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",axisPointer:{type:"line",lineStyle:{color:"rgb(var(--ms-text-color)/0.2)",width:1}},formatter:a=>{const h=a[0].axisValue,d=a.find(p=>p.seriesName==="Fall Alert"),t=a.find(p=>p.seriesName==="Device Offline");return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[160px] z-999">
            <div class="text-sm font-semibold text-text mb-3 border-b border-border pb-2">
              ${h}
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full" style="background-color: ${(d==null?void 0:d.color)||"#ef4444"}"></div>
                  <span class="text-text/80 text-sm">${(d==null?void 0:d.seriesName)||"Fall Alert"}</span>
                </div>
                <span class="font-mono font-medium text-text">${(d==null?void 0:d.value)||0}</span>
              </div>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full" style="background-color: ${(t==null?void 0:t.color)||"#f59e0b"}"></div>
                  <span class="text-text/80 text-sm">${(t==null?void 0:t.seriesName)||"Device Offline"}</span>
                </div>
                <span class="font-mono font-medium text-text">${(t==null?void 0:t.value)||0}</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!0,bottom:10,left:"center",itemWidth:12,itemHeight:12,itemGap:20,textStyle:{color:"rgb(var(--ms-text-color))",fontSize:12,fontWeight:"normal"},formatter:function(a){return a==="Fall Alert"?`Fall Alert: ${r.toLocaleString()}`:a==="Device Offline"?`Device Offline: ${o.toLocaleString()}`:a},rich:{bold:{fontWeight:"bold",color:"rgb(var(--ms-text-color))",fontFamily:"poppins",fontSize:12}}},grid:{left:"3%",right:"4%",bottom:"50px",top:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:x,axisLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.2)"}},axisLabel:{color:"rgb(var(--ms-text-color)/0.7)",fontSize:12}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.1)",type:"dashed"}},axisLabel:{color:"rgb(var(--ms-text-color)/0.7)",fontSize:12}},series:[{name:"Fall Alert",type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:3,color:"#ef4444"},itemStyle:{color:"#ef4444"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(239, 68, 68, 0.3)"},{offset:1,color:"rgba(239, 68, 68, 0.05)"}]}},data:n},{name:"Device Offline",type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:3,color:"#f59e0b"},itemStyle:{color:"#f59e0b"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(245, 158, 11, 0.3)"},{offset:1,color:"rgba(245, 158, 11, 0.05)"}]}},data:i}]};return e.jsx("div",{style:{width:s,height:l},children:e.jsx(S,{option:c,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}})})}function H({data:s=[],width:l="100%",height:m=350}){const n=(()=>{const r=s.map(a=>a.score),o=Math.max(...r),c=Math.min(...r);return s.map(a=>({...a,isHighest:a.score===o,isLowest:a.score===c,itemStyle:{color:a.score===o?"#10b981":a.score===c?"#ef4444":"rgb(var(--ms-primary-color))"}}))})(),i={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",formatter:r=>{const{name:o,value:c,color:a}=r;return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[140px] z-999">
            <div class="flex items-center gap-2 mb-2">
              <div class="w-3 h-3 rounded-full" style="background-color: ${a}"></div>
              <span class="font-semibold text-text text-sm">${o}</span>
            </div>
            <div class="space-y-1">
              <div class="flex justify-between items-center">
                <span class="text-text/80 text-sm pr-1">Performance Score: </span>
                <span class="font-mono font-bold text-text text-sm">${c}%</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",top:"3%",containLabel:!0},xAxis:{type:"category",show:!1,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",min:0,max:100,axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.1)",type:"dashed"}},axisLabel:{color:"rgb(var(--ms-text-color)/0.7)",fontSize:12,formatter:"{value}%"}},series:[{name:"Performance Score",type:"bar",barWidth:"60%",itemStyle:{borderRadius:[7,7,0,0],borderWidth:0},label:{show:!0,position:"top",color:"rgb(var(--ms-text-color))",fontSize:12,fontWeight:"bold",formatter:"{c}%"},emphasis:{disabled:!0},data:n.map(r=>({value:r.score,name:r.name,itemStyle:{...r.itemStyle,borderWidth:0},emphasis:r.isHighest||r.isLowest?void 0:{itemStyle:{opacity:.8}}}))}]};return e.jsx("div",{style:{width:l,height:m},children:e.jsx(S,{option:i,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}})})}function U({data:s,centerLabel:l,width:m="100%",height:x=400}){const n=s.reduce((o,c)=>o+c.value,0),i=Math.max(...s.map(o=>o.value)),r={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",formatter:o=>{const c=(o.value/n*100).toFixed(1);return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[140px] z-999">
            <div class="flex items-center gap-2 mb-2">
              <div class="w-3 h-3 rounded-full" style="background-color: ${o.color}"></div>
              <span class="font-semibold text-text text-sm">${o.name}</span>
            </div>
            <div class="space-y-1">
              <div class="flex justify-between items-center">
                <span class="text-text/80 text-sm">Count</span>
                <span class="font-mono font-medium text-text">${o.value.toLocaleString()}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-text/80 text-sm">Percent</span>
                <span class="font-mono font-medium text-text">${c}%</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!1},series:[{type:"pie",radius:["37%","77%"],roseType:"area",emphasis:{scale:!0,scaleSize:10,focus:"self"},itemStyle:{borderWidth:0,borderColor:"#fff"},label:{show:!0,fontSize:14,color:"rgb(var(--ms-text-color))",formatter:({name:o,value:c})=>`${o}
{value|${c.toLocaleString()}}`,rich:{value:{fontSize:24,fontWeight:600,color:"rgb(var(--ms-text-color)/0.7)",padding:[2,0,0,0]}}},labelLine:{show:!0,length:20,length2:10,smooth:!0,lineStyle:{width:1,type:"solid"}},data:s.map(o=>({...o,...o.value===i&&{emphasis:{itemStyle:{shadowBlur:15,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{...o.itemStyle,shadowBlur:8,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0.3)"}}}))}]};return e.jsxs("div",{className:"relative",style:{width:m,height:x},children:[e.jsx(S,{option:r,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[e.jsx("div",{className:"text-[22px] font-bold text-text",children:n.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-0",children:l||"Total"})]})]})}function _({data:s=[],width:l="100%",height:m=400}){const x=()=>{const t=["2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05"],p=["Device Offline Alert","Fall Alert"],f=[];return t.forEach(g=>{const A=Math.floor(Math.random()*12)+8;for(let u=0;u<A;u++){const b=Math.floor(Math.random()*24),v=Math.floor(Math.random()*60),T=Math.floor(Math.random()*25)+5,N=15,L=T<=N,D=p[Math.floor(Math.random()*p.length)];f.push({day:g,time:`${b.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`,hour:b+v/60,responseTime:T,slaTime:N,alertId:`A${g.replace(/-/g,"")}${u+1}`,compliance:L,alertType:D})}}),f},n=s.length>0?s:x(),i=n.length,r=n.filter(t=>t.compliance).length,o=n.filter(t=>!t.compliance).length,c=n.filter(t=>t.compliance),a=n.filter(t=>!t.compliance),h=[...new Set(n.map(t=>t.day))].sort(),d={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",formatter:t=>{const{name:p,compliance:f,responseTime:g,slaTime:A,time:u,day:b,alertType:v}=t.data;return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[200px] z-999">
            <div class="text-sm font-semibold text-text mb-3 border-b border-border pb-2">
              ${v}
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Date</span>
                <span class="font-mono font-medium text-text">${b}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Time</span>
                <span class="font-mono font-medium text-text">${u}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Response Time</span>
                <span class="font-mono font-medium text-text">${g}m</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">SLA Time</span>
                <span class="font-mono font-medium text-text">${A}m</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Status</span>
                <span class="font-mono font-medium" style="color: ${f?"#10b981":"#ef4444"}">${f?"Compliance":"Not Compliance"}</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!0,bottom:0,left:"center",itemWidth:12,itemHeight:12,itemGap:20,textStyle:{color:"rgb(var(--ms-text-color))",fontSize:12},formatter:function(t){return t==="Total Alerts"?`Total Alerts: ${i}`:t==="Compliance"?`Compliance: ${r}`:t==="Not Compliance"?`Not Compliance: ${o}`:t},rich:{bold:{fontWeight:"bold",color:"rgb(var(--ms-text-color))",fontFamily:"monospace",fontSize:12}},data:[{name:"Total Alerts",itemStyle:{color:"rgb(var(--ms-primary-color))"}},{name:"Compliance",itemStyle:{color:"#10b981"}},{name:"Not Compliance",itemStyle:{color:"#ef4444"}}]},grid:{left:"3%",right:"4%",bottom:"15%",top:"3%",containLabel:!0},xAxis:{type:"value",name:"",nameLocation:"middle",nameGap:30,min:0,max:24,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.1)",type:"solid"}}},yAxis:{type:"category",name:"",nameLocation:"middle",nameGap:40,data:h,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{name:"Compliance",type:"scatter",symbolSize:8,data:c.map(t=>({name:t.alertId,value:[t.hour,t.day],responseTime:t.responseTime,slaTime:t.slaTime,compliance:t.compliance,day:t.day,time:t.time,alertType:t.alertType,itemStyle:{color:"#10b981"}})),itemStyle:{color:"#10b981"},emphasis:{scale:!0,scaleSize:2}},{name:"Not Compliance",type:"scatter",symbolSize:8,data:a.map(t=>({name:t.alertId,value:[t.hour,t.day],responseTime:t.responseTime,slaTime:t.slaTime,compliance:t.compliance,day:t.day,time:t.time,alertType:t.alertType,itemStyle:{color:"#ef4444"}})),itemStyle:{color:"#ef4444"},emphasis:{scale:!0,scaleSize:2}}]};return e.jsx("div",{style:{width:l,height:m},children:e.jsx(S,{option:d,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}})})}const V=s=>{if(!s||!Array.isArray(s)||s.length===0)return{totalAgents:0,averagePerformance:0,highestPerformance:0,lowestPerformance:0,highestAgent:null,lowestAgent:null};const l=s.length,m=s.reduce((r,o)=>r+o.score,0),x=Math.round(m/l),n=s.reduce((r,o)=>o.score>r.score?o:r),i=s.reduce((r,o)=>o.score<r.score?o:r);return{totalAgents:l,averagePerformance:x,highestPerformance:n.score,lowestPerformance:i.score,highestAgent:n,lowestAgent:i}};function Y(){const[s,l]=$.useState({from:null,to:null}),m=[{value:84,name:"Fall Alerts",itemStyle:{color:"#ef4444"}},{value:42,name:"Device Offline",itemStyle:{color:"#f59e0b"}}],x=[{name:"Agent 1",score:92},{name:"Agent 2",score:78},{name:"Agent 3",score:85},{name:"Agent 4",score:96},{name:"Agent 5",score:72},{name:"Agent 6",score:88},{name:"Agent 7",score:25},{name:"Agent 7",score:81},{name:"Agent 7",score:55},{name:"Agent 7",score:47},{name:"Agent 7",score:98},{name:"Agent 8",score:90}],n=P("(max-width: 1366px)"),i=V(x);return e.jsxs("div",{className:"mb-6",children:[" ",e.jsxs("div",{id:"customer_heading",className:"flex justify-between sm:flex-row flex-col gap-4 items-center mb-6",children:[e.jsx(Q,{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs(M,{children:[e.jsx(z,{asChild:!0,children:e.jsxs(C,{variant:"tertiary",children:[e.jsx(k,{}),s!=null&&s.from&&(s!=null&&s.to)?`${s.from.toLocaleDateString()} - ${s.to.toLocaleDateString()}`:"All Time"]})}),e.jsx(W,{className:"overflow-hidden p-0",align:"end",children:e.jsx(F,{className:"w-full border-border",mode:"range",selected:s,onSelect:l,captionLayout:"dropdown",fixedWeeks:!0,showOutsideDays:!0})})]}),e.jsx(C,{children:"Export"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:" items-center justify-between grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4 lg:auto-rows-fr",children:[e.jsx(w,{label:"Total Alerts",value:"136",icon:e.jsx(O,{size:20,color:"white"})}),e.jsx(w,{label:"Avg. Response Time",value:"2min 15sec",icon:e.jsx(R,{size:20,color:"white"})}),e.jsx(w,{label:"SLA Compliance",value:"98.5%",icon:e.jsx(I,{size:20,color:"white"})}),e.jsx(w,{label:"Device Uptime",value:"99.2%",icon:e.jsx(B,{size:20,color:"white"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:auto-rows-fr",children:[e.jsx("div",{id:"Total Alert Overview Graph",children:e.jsx(y,{title:e.jsx("h1",{className:"text-lg",children:"Total Alert Overview"}),headerPadding:"p-4 !text-lg border-none",children:e.jsx("div",{className:"p-4 !h-full flex items-center justify-center",children:e.jsx(U,{data:m,centerLabel:" ",width:"100%",height:n?340:400})})})}),e.jsx("div",{id:"Alert Trends Graph",children:e.jsx(y,{title:e.jsx("h1",{className:"text-lg",children:"Total Alert Overview"}),headerPadding:"p-4 !text-lg border-none",children:e.jsx("div",{className:"p-4",children:e.jsx(E,{})})})}),e.jsx("div",{id:"Agent Performance Graph",children:e.jsx(y,{title:e.jsx("h1",{className:"text-lg",children:"Agent Performance"}),headerPadding:"p-4 !text-lg border-none",children:e.jsxs("div",{className:"p-4",children:[e.jsx(H,{data:x,height:340}),e.jsxs("div",{className:"flex items-center gap-4 justify-center mt-4",children:[e.jsx(j,{title:"Total Agent",value:i.totalAgents}),e.jsx(j,{title:"Avg. Performance",value:i.averagePerformance}),e.jsx(j,{title:"Highest Performance",value:i.highestPerformance}),e.jsx(j,{title:"Lowest Performance",value:i.lowestPerformance})]})]})})}),e.jsx("div",{id:"SLA Compliance Report Graph",children:e.jsx(y,{title:e.jsx("h1",{className:"text-lg",children:"SLA Compliance Report"}),headerPadding:"p-4 !text-lg border-none",children:e.jsx(_,{width:"100%",height:400})})})]})]})]})}const Q=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-start gap-2 w-full",children:[e.jsx("h1",{className:"text-text sm:text-xl text-lg",children:"Reporting & Analytics"}),e.jsx("div",{className:"opacity-95",children:e.jsx(G,{})})]})}),w=({label:s="",value:l="",icon:m})=>e.jsxs("div",{className:"bg-card p-4 flex items-center justify-between gap-3 rounded-md w-full",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx("h1",{className:"text-lg font-semibold",children:l})]}),e.jsx("div",{className:"p-2 bg-primary w-fit rounded-md text-lg",children:m})]}),j=({title:s,value:l})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsxs("div",{className:"p-2 px-3 bg-primary rounded-lg text-white font-medium text-sm",children:[" ",l]}),e.jsxs("div",{className:"rounded-lg text-sm text-wrap",children:[" ",s]})]})});export{Y as default};
//# sourceMappingURL=Analytics-BP6PiiQp.js.map
