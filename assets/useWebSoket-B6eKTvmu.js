import{r as u}from"./index-DKEPlPMw.js";function b({url:f="wss://live.elderlycareplatform.com/ws/",onOpen:c,onMessage:t,onError:o,onClose:s,dependencies:m=[]}){const l=u.useRef(null);return u.useEffect(()=>{const e=new WebSocket(f);return l.current=e,e.onopen=()=>{console.log("Connected to WebSocket server"),c==null||c(e)},e.onmessage=r=>{try{const a=JSON.parse(r.data);t==null||t(a,e)}catch(a){console.error("Error parsing WebSocket message:",a)}},e.onerror=r=>{console.error("WebSocket error:",r),o==null||o(r,e)},e.onclose=()=>{console.log("Disconnected from WebSocket server"),s==null||s(e)},()=>e.close()},m),l.current}export{b as u};
