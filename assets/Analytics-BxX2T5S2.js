import{j as t,E as z,h1 as $,h2 as F,bd as V,r as P,h as _,h3 as Z,h4 as J,h5 as ee,gG as H,h6 as te,h7 as oe,h8 as se,h9 as re,bN as ae,ha as ne,hb as le,hc as ie,gR as O,gI as ce}from"./index-Cg3e3fPB.js";import{n as de,o as me,p as fe,q as he,r as ue}from"./Dashboard-BpiupmFM.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="46872218-77de-404b-9895-0a1ec932ff7d",e._sentryDebugIdIdentifier="sentry-dbid-46872218-77de-404b-9895-0a1ec932ff7d")}catch{}function pe({width:e="100%",height:a=400,data:n=[]}){const m=()=>{if(!n||n.length===0)return l();const s=new Map;n.forEach(i=>{const g=new Date(i.year,i.month-1,i.day),L=g.toISOString().split("T")[0],S=i.event==="5"?"Device Offline":"Fall Alert";s.has(L)||s.set(L,{date:g,timestamp:g.getTime(),dateFormatted:f(g,n),tooltipDate:d(g),"Fall Alert":0,"Device Offline":0});const W=s.get(L);W[S]+=i.count||0});const c=Array.from(s.values()).sort((i,g)=>i.timestamp-g.timestamp),b=c.map(i=>i.dateFormatted),p=c.map(i=>i.tooltipDate),x=c.map(i=>i["Fall Alert"]),h=c.map(i=>i["Device Offline"]);return{dates:b,tooltipDates:p,fallAlertData:x,deviceOfflineData:h}},f=(s,c)=>{if(!c||c.length===0)return s.toLocaleDateString("en-US",{month:"short",day:"numeric"});const b=c.map(g=>new Date(g.year,g.month-1,g.day)),p=new Date(Math.min(...b)),x=new Date(Math.max(...b)),h=Math.abs(x-p);return Math.ceil(h/(1e3*60*60*24))<=60?s.toLocaleDateString("en-US",{month:"short",day:"numeric"}):s.toLocaleDateString("en-US",{month:"short",year:"2-digit"})},d=s=>s.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),l=()=>{const s=[],c=[],b=[],p=[],x=new Date;for(let h=9;h>=0;h--){const i=new Date(x);i.setDate(x.getDate()-h),s.push(i.toLocaleDateString("en-US",{month:"short",day:"numeric"})),c.push(i.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})),b.push(Math.floor(0)),p.push(Math.floor(0))}return{dates:s,tooltipDates:c,fallAlertData:b,deviceOfflineData:p}},{dates:r,tooltipDates:y,fallAlertData:v,deviceOfflineData:N}=m(),M=s=>s<=10?0:s<=20?1:s<=40?2:s<=60?3:Math.floor(s/12),C=v.reduce((s,c)=>s+c,0),o=N.reduce((s,c)=>s+c,0),j={tooltip:{trigger:"axis",backgroundColor:"transparent",borderWidth:0,className:"!shadow-none",axisPointer:{type:"line",lineStyle:{color:"rgb(var(--ms-text-color)/0.2)",width:1}},formatter:s=>{const c=s[0].dataIndex,b=y[c],p=s.find(h=>h.seriesName==="Fall Alert"),x=s.find(h=>h.seriesName==="Device Offline");return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[180px]">
            <div class="text-sm font-semibold text-text mb-3 border-b border-border pb-2">
              ${b}
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full" style="background-color: #ef4444"></div>
                  <span class="text-text/80 text-sm">Fall Alert</span>
                </div>
                <span class="font-mono font-medium text-text">${(p==null?void 0:p.value)||0}</span>
              </div>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <div class="w-3 h-3 rounded-full" style="background-color: #f59e0b"></div>
                  <span class="text-text/80 text-sm">Device Offline</span>
                </div>
                <span class="font-mono font-medium text-text">${(x==null?void 0:x.value)||0}</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!0,bottom:10,left:"center",itemWidth:12,itemHeight:12,itemGap:20,textStyle:{color:"rgb(var(--ms-text-color))",fontSize:12,fontWeight:"normal"},formatter:function(s){return s==="Fall Alert"?`Fall Alert: ${C.toLocaleString()}`:s==="Device Offline"?`Device Offline: ${o.toLocaleString()}`:s}},grid:{left:"3%",right:"4%",bottom:r.length>15?"80px":"50px",top:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:r,axisLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.2)"}},axisLabel:{color:"rgb(var(--ms-text-color)/0.7)",fontSize:11,interval:M(r.length),rotate:r.length>15?45:0,margin:r.length>15?15:8,formatter:s=>s},axisTick:{alignWithLabel:!0,interval:M(r.length)}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.1)",type:"dashed"}},axisLabel:{color:"rgb(var(--ms-text-color)/0.7)",fontSize:12}},series:[{name:"Fall Alert",type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:3,color:"#ef4444"},itemStyle:{color:"#ef4444"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(239, 68, 68, 0.3)"},{offset:1,color:"rgba(239, 68, 68, 0.05)"}]}},data:v},{name:"Device Offline",type:"line",smooth:!0,showSymbol:!1,lineStyle:{width:3,color:"#f59e0b"},itemStyle:{color:"#f59e0b"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(245, 158, 11, 0.3)"},{offset:1,color:"rgba(245, 158, 11, 0.05)"}]}},data:N}],dataZoom:[{type:"inside",start:r.length>30?100-Math.floor(3e3/r.length):0,end:100},{show:!1}]};return t.jsx("div",{style:{width:e,height:a},children:t.jsx(z,{option:j,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}})})}function xe({data:e=[],width:a="100%",height:n=350}){const f=(()=>{const l=e.map(v=>v.score),r=Math.max(...l),y=Math.min(...l);return e.map(v=>({...v,isHighest:v.score===r,isLowest:v.score===y,itemStyle:{color:v.score===r?"#10b981":v.score===y?"#ef4444":"rgb(var(--ms-primary-color))"}}))})(),d={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",formatter:l=>{const{name:r,value:y,color:v}=l;return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[140px] z-999">
            <div class="flex items-center gap-2 mb-2">
              <div class="w-3 h-3 rounded-full" style="background-color: ${v}"></div>
              <span class="font-semibold text-text text-sm">${r}</span>
            </div>
            <div class="space-y-1">
              <div class="flex justify-between items-center">
                <span class="text-text/80 text-sm pr-1">Performance Score: </span>
                <span class="font-mono font-bold text-text text-sm">${y}%</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",top:"5%",containLabel:!0},xAxis:{type:"category",show:!1,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",min:0,max:100,axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgb(var(--ms-text-color)/0.1)",type:"dashed"}},axisLabel:{color:"rgb(var(--ms-text-color)/0.7)",fontSize:12,formatter:"{value}%"}},series:[{name:"Performance Score",type:"bar",barWidth:"60%",itemStyle:{borderRadius:[7,7,0,0],borderWidth:0},label:{show:!0,position:"top",color:"rgb(var(--ms-text-color))",fontSize:12,fontWeight:"bold",formatter:"{c}%"},emphasis:{disabled:!0},data:f.map(l=>({value:l.score,name:l.name,itemStyle:{...l.itemStyle,borderWidth:0},emphasis:l.isHighest||l.isLowest?void 0:{itemStyle:{opacity:.8}}}))}]};return t.jsx("div",{style:{width:a,height:n},children:t.jsx(z,{option:d,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}})})}function ge({data:e,centerLabel:a,width:n="100%",height:m=400}){const f=e.reduce((r,y)=>r+y.value,0),d=Math.max(...e.map(r=>r.value)),l={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",formatter:r=>{const y=(r.value/f*100).toFixed(1);return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[140px] z-999">
            <div class="flex items-center gap-2 mb-2">
              <div class="w-3 h-3 rounded-full" style="background-color: ${r.color}"></div>
              <span class="font-semibold text-text text-sm">${r.name}</span>
            </div>
            <div class="space-y-1">
              <div class="flex justify-between items-center">
                <span class="text-text/80 text-sm">Count</span>
                <span class="font-mono font-medium text-text">${r.value.toLocaleString()}</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-text/80 text-sm">Percent</span>
                <span class="font-mono font-medium text-text">${y}%</span>
              </div>
            </div>
          </div>
        `}},legend:{show:!1},series:[{type:"pie",radius:["37%","77%"],roseType:"area",emphasis:{scale:!0,scaleSize:10,focus:"self"},itemStyle:{borderWidth:0,borderColor:"#fff"},label:{show:!0,fontSize:14,color:"rgb(var(--ms-text-color))",formatter:({name:r,value:y})=>`${r}
{value|${y.toLocaleString()}}`,rich:{value:{fontSize:24,fontWeight:600,color:"rgb(var(--ms-text-color)/0.7)",padding:[2,0,0,0]}}},labelLine:{show:!0,length:20,length2:10,smooth:!0,lineStyle:{width:1,type:"solid"}},data:e.map(r=>({...r,...r.value===d&&{emphasis:{itemStyle:{shadowBlur:15,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{...r.itemStyle,shadowBlur:8,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0.3)"}}}))}]};return t.jsxs("div",{className:"relative",style:{width:n,height:m},children:[t.jsx(z,{option:l,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[t.jsx("div",{className:"text-[22px] font-bold text-text",children:f.toLocaleString()}),t.jsx("div",{className:"text-xs text-muted-foreground mt-0",children:a||"Total"})]})]})}function ye(e,a){const n=new Date(e),f=new Date(a)-n,d=Math.floor(f/(1e3*60*60)),l=Math.floor(f%(1e3*60*60)/(1e3*60)),r=Math.floor(f%(1e3*60)/1e3);return{hours:d,minutes:l,seconds:r,totalMinutes:f/(1e3*60)}}function ve(e){const a=Math.floor(e/60),n=Math.floor(e%60),m=Math.floor(e*60%60);return a>0?`${a}h ${n}m ${m}s`:n>0?`${n}m ${m}s`:`${m}s`}const be=e=>e.map(a=>{const n=new Date(a.created_at);new Date(a.closed_at);const m=ye(a.created_at,a.closed_at),f=n.toISOString().split("T")[0],d=n.toTimeString().split(" ")[0].substring(0,5),l=n.getHours()+n.getMinutes()/60;ve(a.sla_minutes);const r={2:"Fall Alert",5:"Device Offline Alert"};return{_id:a._id,day:f,time:d,hour:l,responseTime:m.totalMinutes,responseTimeFormatted:`${m.hours}h ${m.minutes}m ${m.seconds}s`,slaTime:a.sla_minutes,slaTimeFormatted:"2m",alertId:a._id,compliance:a.sla_status,alertType:r[a.event]||`Event ${a.event}`,created_at:a.created_at,closed_at:a.closed_at,event:a.event}});function we({data:e=[],width:a="100%",height:n=400}){const m=()=>{const o=["2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05"],j=["Device Offline Alert","Fall Alert"],s=[];return o.forEach(c=>{const b=Math.floor(Math.random()*12)+8;for(let p=0;p<b;p++){const x=Math.floor(Math.random()*24),h=Math.floor(Math.random()*60),i=Math.floor(Math.random()*25)+5,g=15,L=i<=g,S=j[Math.floor(Math.random()*j.length)];s.push({day:c,time:`${x.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`,hour:x+h/60,responseTime:i,slaTime:g,alertId:`A${c.replace(/-/g,"")}${p+1}`,compliance:L,alertType:S})}}),s},d=e.length>0?be(e):m(),l=d.length,r=d.filter(o=>o.compliance).length,y=d.filter(o=>!o.compliance).length,v=d.filter(o=>o.compliance),N=d.filter(o=>!o.compliance),M=[...new Set(d.map(o=>o.day))].sort(),C={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,renderMode:"html",appendToBody:!0,className:"!shadow-none",formatter:o=>{const{name:j,compliance:s,responseTimeFormatted:c,slaTimeFormatted:b,time:p,day:x,alertType:h,event:i,created_at:g,closed_at:L}=o.data;return`
          <div class="bg-background border border-border rounded-lg shadow-xl p-3 min-w-[250px] z-999">
            <div class="text-sm font-semibold text-text mb-3 border-b border-border pb-2">
              ${h}
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Date</span>
                <span class="font-mono font-medium text-text">${x}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Time</span>
                <span class="font-mono font-medium text-text">${p}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Response Time</span>
                <span class="font-mono font-medium text-text">${c}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">SLA Time</span>
                <span class="font-mono font-medium text-text">${b}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-text/80 text-sm">Status</span>
                <span class="font-mono font-medium" style="color: ${s?"#10b981":"#ef4444"}">${s?"Compliance":"Not Compliance"}</span>
              </div>
             
            </div>
          </div>
        `}},legend:{show:!0,bottom:0,left:"center",itemWidth:12,itemHeight:12,itemGap:20,textStyle:{color:"rgb(var(--ms-text-color))",fontSize:12},formatter:function(o){return o==="Total Alerts"?`Total Alerts: ${l}`:o==="Compliance"?`Compliance: ${r}`:o==="Not Compliance"?`Not Compliance: ${y}`:o},rich:{bold:{fontWeight:"bold",color:"rgb(var(--ms-text-color))",fontFamily:"monospace",fontSize:12}},data:[{name:"Total Alerts",itemStyle:{color:"rgb(var(--ms-primary-color))"}},{name:"Compliance",itemStyle:{color:(e==null?void 0:e.length)==0?"#ccc":"#10b981"}},{name:"Not Compliance",itemStyle:{color:(e==null?void 0:e.length)==0?"#ccc":"#ef4444"}}]},grid:{left:"3%",right:"4%",bottom:"15%",top:"3%",containLabel:!0},xAxis:{type:"value",nameLocation:"middle",nameGap:30,min:0,max:24,axisLine:{show:!1,lineStyle:{color:"rgb(var(--ms-text-color)/0.3)"}},axisTick:{show:!1},axisLabel:{show:!0,color:"rgb(var(--ms-text-color)/0.7)",formatter:function(o){return`${Math.floor(o)}:00`}},splitLine:{show:!1,lineStyle:{color:"rgb(var(--ms-text-color)/0.1)",type:"solid"}}},yAxis:{type:"category",nameLocation:"middle",nameGap:40,data:M,axisLine:{show:!1,lineStyle:{color:"rgb(var(--ms-text-color)/0.3)"}},axisTick:{show:!0},axisLabel:{show:!0,color:"rgb(var(--ms-text-color)/0.7)",formatter:function(o){return new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"})}},splitLine:{show:!0,lineStyle:{color:"rgb(var(--ms-text-color)/0.1)"}}},dataZoom:[{type:"slider",yAxisIndex:0,filterMode:"filter",start:50,end:100,height:20,bottom:40,show:!1,handleStyle:{color:"rgb(var(--ms-primary-color))"}},{type:"inside",yAxisIndex:0,filterMode:"filter"}],series:[{name:"Compliance",type:"scatter",symbolSize:10,data:v.map(o=>({name:o.alertId,value:[o.hour,o.day],responseTime:o.responseTime,responseTimeFormatted:o.responseTimeFormatted,slaTime:o.slaTime,slaTimeFormatted:o.slaTimeFormatted,compliance:o.compliance,day:o.day,time:o.time,alertType:o.alertType,event:o.event,created_at:o.created_at,closed_at:o.closed_at,itemStyle:{color:(e==null?void 0:e.length)==0?"#ccc":"#10b981"}})),itemStyle:{color:(e==null?void 0:e.length)==0?"#ccc":"#10b981"},emphasis:{scale:!0,scaleSize:2}},{name:"Not Compliance",type:"scatter",symbolSize:10,data:N.map(o=>({name:o.alertId,value:[o.hour,o.day],responseTime:o.responseTime,responseTimeFormatted:o.responseTimeFormatted,slaTime:o.slaTime,slaTimeFormatted:o.slaTimeFormatted,compliance:o.compliance,day:o.day,time:o.time,alertType:o.alertType,event:o.event,created_at:o.created_at,closed_at:o.closed_at,itemStyle:{color:(e==null?void 0:e.length)==0?"#ccc":"#ef4444"}})),itemStyle:{color:(e==null?void 0:e.length)==0?"#ccc":"#ef4444"},emphasis:{scale:!0,scaleSize:2}}]};return t.jsx("div",{style:{width:a,height:n},children:t.jsx(z,{option:C,style:{width:"100%",height:"100%"},opts:{renderer:"svg"}})})}const Se=(e={},a={})=>$({queryKey:[F.COUNT_STATISTICS,e],queryFn:()=>de(e),staleTime:5*60*1e3,retry:0,onError:n=>console.log(n),onSuccess:n=>console.log(n),...a}),Te=(e={},a={})=>$({queryKey:[F.TOTAL_ALERTS,e],queryFn:()=>me(e),staleTime:5*60*1e3,retry:0,onError:n=>console.log(n),onSuccess:n=>console.log(n),...a}),De=(e={},a={})=>$({queryKey:[F.TOTAL_ALERTS_TREND,e],queryFn:()=>fe(e),staleTime:5*60*1e3,retry:0,onError:n=>console.log(n),onSuccess:n=>console.log(n),...a}),je=(e={},a={})=>$({queryKey:[F.AGENT_PERFORMANCE,e],queryFn:()=>he(e),staleTime:5*60*1e3,retry:0,onError:n=>console.log(n),onSuccess:n=>console.log(n),...a}),Ae=(e={},a={})=>$({queryKey:[F.SLA_STATISTICS,e],queryFn:()=>ue(e),staleTime:5*60*1e3,retry:0,onError:n=>console.log(n),onSuccess:n=>console.log(n),...a}),Me=e=>{if(!e||!Array.isArray(e)||e.length===0)return{totalAgents:0,averagePerformance:0,highestPerformance:0,lowestPerformance:0,highestAgent:null,lowestAgent:null};const a=e.length,n=e.reduce((l,r)=>l+r.score,0),m=Math.round(n/a),f=e.reduce((l,r)=>r.score>l.score?r:l),d=e.reduce((l,r)=>r.score<l.score?r:l);return{totalAgents:a,averagePerformance:m,highestPerformance:f.score,lowestPerformance:d.score,highestAgent:f,lowestAgent:d}};function Pe(){var U,G,q,B;const[e,a]=V.useState({from:null,to:null}),[n,m]=P.useState([]),[f,d]=P.useState([]),l={2:{name:"Fall Alerts",color:"#ef4444"},5:{name:"Device Offline",color:"#f59e0b"}},{data:r,isLoading:y,isError:v,error:N}=Se({to_date:e.from||"2000-01-01",from_date:e.to||_().format("YYYY-MM-DD")}),M=((U=r==null?void 0:r.data)==null?void 0:U.device_uptime)??0,C=((G=r==null?void 0:r.data)==null?void 0:G.device_downtime)??0,o=M+C,j=o>0?Math.round(M/o*100):0,{data:s,isLoading:c,isError:b,isSuccess:p,error:x}=Te({to_date:e.from||"2000-01-01",from_date:e.to||_().format("YYYY-MM-DD")});P.useEffect(()=>{var A,D;const u=Array.isArray(s==null?void 0:s.data)&&((A=s==null?void 0:s.data)==null?void 0:A.length)>0?(D=s==null?void 0:s.data)==null?void 0:D.map(w=>{var Y,K;return{value:(w==null?void 0:w.count)??0,name:((Y=l[w==null?void 0:w._id])==null?void 0:Y.name)||"Unknown",itemStyle:{color:((K=l[w==null?void 0:w._id])==null?void 0:K.color)||"#9ca3af"}}}):[{value:0,name:"No Data",itemStyle:{color:"#9ca3af"}}];m(u)},[s,p]);const{data:h,isLoading:i,isError:g,error:L}=De({to_date:e.from||"2000-01-01",from_date:e.to||_().format("YYYY-MM-DD")}),{data:S,isLoading:W,isError:_e,isSuccess:Q,error:Ne}=je({to_date:e.from||"2000-01-01",from_date:e.to||_().format("YYYY-MM-DD")});P.useEffect(()=>{var A;const u=(A=S==null?void 0:S.data)==null?void 0:A.map(D=>{const w=(D.countLessThan2Min??0)+(D.countGreaterThan2Min??0),Y=w>0?(D.countLessThan2Min??0)/w*100:0;return{name:D.closed_by,score:Math.round(Y)}});d(u)},[S,Q]);const{data:T,isLoading:Ce,isError:$e,error:Fe}=Ae({to_date:e.from||"2000-01-01",from_date:e.to||_().format("YYYY-MM-DD")});function R(u){if(!u||u.length===0)return 0;const D=u.filter(w=>w.sla_status).length/u.length*100;return Math.round(D*100)/100}const X=Z("(max-width: 1366px)"),E=Me(f);return t.jsxs("div",{className:"mb-6",children:[" ",t.jsxs("div",{id:"customer_heading",className:"flex justify-between sm:flex-row flex-col gap-4 items-center mb-6",children:[t.jsx(Le,{}),t.jsxs("div",{className:"flex gap-2  items-center",children:[t.jsxs(J,{children:[t.jsx(ee,{asChild:!0,children:t.jsxs(H,{variant:"tertiary",children:[t.jsx(te,{}),e!=null&&e.from&&(e!=null&&e.to)?`${e.from} - ${e.to}`:"All Time"]})}),t.jsx(oe,{className:"overflow-hidden p-0",align:"end",children:t.jsx(se,{className:"w-full border-border",mode:"range",selected:e,onSelect:u=>{if(console.log(u),!(u!=null&&u.from)||!(u!=null&&u.to)){a({from:null,to:null});return}a({from:_(u.from).format("YYYY-MM-DD"),to:_(u.to).format("YYYY-MM-DD")})},captionLayout:"dropdown",fixedWeeks:!0,showOutsideDays:!0})})]}),t.jsx(H,{children:"Export"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:" items-center justify-between grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4 lg:auto-rows-fr",children:[t.jsx(k,{label:"Total Alerts",value:((q=s==null?void 0:s.data)==null?void 0:q.reduce((u,A)=>u+A.count,0))||0,icon:t.jsx(re,{size:20,color:"white"})}),t.jsx(k,{label:"Avg. Response Time",value:ae(((B=r==null?void 0:r.data)==null?void 0:B.avg_res_time)||0),icon:t.jsx(ne,{size:20,color:"white"})}),t.jsx(k,{label:"SLA Compliance",value:(T==null?void 0:T.data)&&R(T==null?void 0:T.data)||"0%",icon:t.jsx(le,{size:20,color:"white"})}),t.jsx(k,{label:"Device Uptime",value:Math.round(j)+"%",icon:t.jsx(ie,{size:20,color:"white"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:auto-rows-fr",children:[t.jsx("div",{id:"Total Alert Overview Graph",children:t.jsx(O,{title:t.jsx("h1",{className:"text-lg",children:"Total Alert Overview"}),headerPadding:"p-4 !text-lg border-none",children:t.jsx("div",{className:"p-4 !h-full flex items-center justify-center",children:t.jsx(ge,{data:n,centerLabel:" ",width:"100%",height:X?340:400})})})}),t.jsx("div",{id:"Alert Trends Graph",children:t.jsx(O,{title:t.jsx("h1",{className:"text-lg",children:"Total Alert Overview"}),headerPadding:"p-4 !text-lg border-none",children:t.jsx("div",{className:"p-4",children:t.jsx(pe,{data:h==null?void 0:h.data})})})}),t.jsx("div",{id:"Agent Performance Graph",children:t.jsx(O,{title:t.jsx("h1",{className:"text-lg",children:"Agent Performance"}),headerPadding:"p-4 !text-lg border-none",children:t.jsxs("div",{className:"p-4",children:[t.jsx(xe,{data:f,height:340}),t.jsxs("div",{className:"flex items-center gap-4 justify-center mt-4",children:[t.jsx(I,{title:"Total Agent",value:E.totalAgents}),t.jsx(I,{title:"Avg. Performance",value:E.averagePerformance+"%"}),t.jsx(I,{title:"Highest Performance",value:E.highestPerformance+"%"}),t.jsx(I,{title:"Lowest Performance",value:E.lowestPerformance+"%"})]})]})})}),t.jsx("div",{id:"SLA Compliance Report Graph",children:t.jsx(O,{title:t.jsx("h1",{className:"text-lg",children:"SLA Compliance Report"}),headerPadding:"p-4 !text-lg border-none",children:t.jsx(we,{width:"100%",height:400,data:T==null?void 0:T.data})})})]})]})]})}const Le=()=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col items-start gap-2 w-full",children:[t.jsx("h1",{className:"text-text sm:text-xl text-lg",children:"Reporting & Analytics"}),t.jsx("div",{className:"opacity-95",children:t.jsx(ce,{})})]})}),k=({label:e="",value:a="",icon:n})=>t.jsxs("div",{className:"bg-card p-4 flex items-center justify-between gap-3 rounded-md w-full",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm",children:e}),t.jsx("h1",{className:"text-lg font-semibold",children:a})]}),t.jsx("div",{className:"p-2 bg-primary w-fit rounded-md text-lg",children:n})]}),I=({title:e,value:a})=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex items-center gap-2 ",children:[t.jsxs("div",{className:"p-2 px-3 bg-primary rounded-lg text-white font-medium text-sm",children:[" ",a]}),t.jsxs("div",{className:"rounded-lg text-sm text-wrap",children:[" ",e]})]})});export{Pe as default};
//# sourceMappingURL=Analytics-BxX2T5S2.js.map
