import{r as t,j as e,E as F,B as J,R as rt,c as ot,a as ct,M as dt,b as ut,P as xt,T as q,p as ee,C as A,d as k,F as pt,G as je,w as mt,H as ht,I as Ce,J as ft,u as gt,e as X,k as yt,l as E,K as bt,N as Ne,D as vt,t as _e,O as jt}from"./index-CnZYSSOF.js";import{b as Nt,c as _t,d as wt,e as St,f as Ct,h as At,i as kt,j as W,k as Bt,g as Pt}from"./Dashboard-B7WRSiOu.js";import"./FileSaver.min-DflH9rwK.js";import{F as we}from"./index-BTjE_mJ-.js";import{I as It}from"./index-CEyDYqqd.js";import{B as Dt}from"./index-CzM_JQcZ.js";import"./CustomPlaceSelect-DxXa9THS.js";import{R as Mt}from"./ReportActionModal-CUK_YZkG.js";import{W as Lt}from"./WeeklyMonthlyPicker-CEnknXFq.js";import{M as Et}from"./index-QWeN0KMr.js";import{u as Z,A as Ft}from"./ActiveAlertsCards-D7CUb02J.js";import"./RoomMap3-BiL8PluH.js";import"./to-C-nZNVPk.js";import"./UseCustomContext-BhgaKMIb.js";import{g as Ot,a as zt}from"./elderlySupport-BelUapVX.js";import"./_baseGetTag-C_pVEggp.js";import{T as Tt}from"./index-Ce3Lk095.js";import"./leaflet-src-DDm5PHiA.js";import"./EnvironmentOutlined-CRzPJE55.js";import"./InfoCircleOutlined-BdroY21l.js";import"./slick-theme-yDYFl3t-.js";import"./index-ChU0R5mX.js";import"./AlertName-BQanjVhy.js";import"./ActionManu-BXN5r9gy.js";import"./index-nh0vOeBL.js";import"./LargeTextViewerModal-CneRYCDA.js";import"./AlertCloseModal-aLquSSxE.js";import"./Tour-BMYk1rJN.js";try{let l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new l.Error().stack;n&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[n]="b907c317-ffbf-4722-b644-1529040eaf88",l._sentryDebugIdIdentifier="sentry-dbid-b907c317-ffbf-4722-b644-1529040eaf88")}catch{}function Y({data:l=[],chartFor:n}){const[u,m]=t.useState({});return t.useEffect(()=>{if(l.length===0){m({graphic:{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}});return}const x=n==="age"?["20-29","30-39","40-49","50-59","60-69","70-79","80-89","90-99"]:l.map(d=>d._id),g=[{name:"Male",type:"bar",color:"#357AF6",data:x.map(d=>{const y=l.find(i=>i._id===d);return y?y.male_count:0})},{name:"Female",type:"bar",color:"#5CC8BE",data:x.map(d=>{const y=l.find(i=>i._id===d);return y?y.female_count:0})}],c=Math.max(...g.flatMap(d=>d.data)),o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!0,top:0,data:["Male","Female"]},grid:{left:n==="age"?"0%":"5%",right:"0%",bottom:"10%",top:"10%",containLabel:!0},series:g};n==="age"?(o.xAxis={type:"category",data:x},o.yAxis={type:"value",boundaryGap:[0,.01],min:0,max:c,interval:1,axisLabel:{formatter:d=>Math.floor(d)}}):n==="diseases"&&(o.yAxis={type:"category",data:x},o.xAxis={type:"value",boundaryGap:[0,.01],min:0,max:c,interval:1,axisLabel:{formatter:d=>Math.floor(d)}}),m(o)},[l.length]),e.jsx(F,{notMerge:!0,option:u,style:{width:"100%",height:"100%"}})}function te({data:l=[],chartFor:n}){const[u,m]=t.useState([]);t.useEffect(()=>{let g=l==null?void 0:l.map(c=>{if(n==="device"){const o={completed:"#08A1F7",pending:"#922BF2",not_started:"#FF3B11"},d=l.map(p=>o[p._id]),y={...r,color:d};x(y);const i={not_started:"Not Started",completed:"Completed",pending:"Pending"};return{value:c.count,name:i[c._id]||c._id}}else return{value:c.male_count+c.female_count,name:c._id==="male"?"Male":c._id==="fe-male"?"Female":null}});m(g)},[l]);const[r,x]=t.useState({title:{},tooltip:{trigger:"item"},legend:{show:!1},labelLine:{show:!1},color:["#4379EE","#5CC8BE","#243642","#BC7C7C"]});return t.useEffect(()=>{const g={...r};n=="gender"?g.series=[{type:"pie",radius:"50%",data:u,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]:n=="device"&&(g.series=[{type:"pie",radius:"50%",data:u,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]),x(g)},[n,u]),e.jsx(F,{notMerge:!0,option:r,style:{width:"340px",height:"340px"}})}function Rt({data:l=[]}){const n=l.filter(c=>c.type===1).reduce((c,o)=>c+o.count,0),u=l.filter(c=>c.type===2).reduce((c,o)=>c+o.count,0),m=l.filter(c=>c.type===3).reduce((c,o)=>c+o.count,0),r=[{value:n,name:"Info"},{value:u,name:"Warning"},{value:m,name:"Critical"}],x=r.reduce((c,o)=>c+o.value,0),g={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["#4379EE","#F1963A","#D90000"],series:[{name:"Activity",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,formatter:"{b}: {c} ({d}%)"},emphasis:{label:{show:!1,fontSize:18,fontWeight:"bold"}},data:l.length!==0?r:null}],graphic:{elements:[{type:"text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",left:"center",top:"45%",style:{text:x.toString(),textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"}}]}};return e.jsx(F,{option:g,style:{width:"340px",height:"340px"}})}function U({data:l=[],graphTitle:n}){const u=l.map(x=>x.property_name||x.elderly_name||"Unknown"),m=l.map(x=>x.total_orders||x.count),r={xAxis:{max:"dataMax"},tooltip:{},grid:{left:"0%",right:"0%",bottom:"10%",top:"5%",containLabel:!0},yAxis:{type:"category",data:u,inverse:!0,animationDuration:300,animationDurationUpdate:300},dataZoom:[{type:"inside",yAxisIndex:0,start:0,end:100}],series:[{name:n,type:"bar",data:m,itemStyle:{color:"#4379EE"},label:{show:!0,valueAnimation:!0},barWidth:m.length<5?30:"auto"}],label:{show:!0},legend:{show:!1},graphic:m.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(F,{notMerge:!0,option:r,style:{width:"100%",height:"100%"}})}const Ae=({data:l=[]})=>{const n=l.length>0,u={title:{},tooltip:{trigger:"item",textStyle:{color:"#333",fontSize:16,fontFamily:"Arial, sans-serif"},formatter:function(m){return`
            <div style="padding: 5px; text-align: left;">
              <div><strong>Activity:</strong> ${m.data[0]}</div>
              <div><strong>Count:</strong> ${m.data[1]}</div>
            </div>
          `}},grid:{left:"2%",right:"0%",bottom:"30%",top:"12%",containLabel:!0},xAxis:{type:"category",axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",name:"Count",nameLocation:"center",nameGap:40,scale:!0,splitLine:{show:!1}},dataZoom:n?[{type:"inside",start:0,end:100},{type:"slider",start:0,end:100}]:[],series:n?[{type:"scatter",symbolSize:function(m){return Math.min(Math.sqrt(m[1])*5,40)},data:l.map(m=>[m.property_name,m.count]),label:{show:!1},itemStyle:{color:"rgba(67, 121, 238, 0.8)"}}]:[]};return l.length===0?e.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[" ",e.jsxs("span",{className:"text-[#999999] font-semibold text-xl",children:[" ","No Data Available"]})," "]}):e.jsx(F,{option:u,style:{height:"370px",width:"100%"},opts:{renderer:"canvas"}})};function Ht({count:l,chartByAge:n=[],chartByGender:u=[],diseasesCountByGender:m=[],alertsCountByName:r=[],alertsCountByElderly:x=[]}){const{registerRef:g}=J(),c={usersCountM:t.useRef(null),mostAlertM:t.useRef(null),activityCountM:t.useRef(null),agesM:t.useRef(null),genderM:t.useRef(null),diseasesM:t.useRef(null),activityM:t.useRef(null)};return t.useEffect(()=>{Object.keys(c).forEach(o=>{c[o].current&&g("tour_step_"+o,c[o])})},[g]),e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsxs("div",{className:"flex gap-6 lg:flex-row flex-col h-fit",children:[e.jsxs("div",{className:"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full",children:[e.jsx("div",{id:"Reports",className:"w-full rounded-2xl flex flex-col gap-6",children:e.jsx("div",{id:"Cards",className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",ref:c.usersCountM,children:l==null?void 0:l.map((o,d)=>{let y=o.icon;return e.jsxs("div",{id:"Card",style:{backgroundColor:o==null?void 0:o.color},className:"cursor-pointer group flex w-full items-center p-4 py-6 text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",className:"w-[100px] h-[100px] bg-white/20 absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",className:"w-[100px] h-[100px] bg-white/10 absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{className:"bg-opacity-10 h-fit rounded-[8px] p-2 bg-black/20",children:y&&e.jsx(y,{color:"#fff",size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none",children:o.count||0}),e.jsx("span",{className:"text-[14px] font-medium text-white/70 leading-none",children:o.label})]})]},d)})})}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:c.agesM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Ages"})}),e.jsx(Y,{data:u,chartFor:"age"})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:c.diseasesM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Diseases"})}),e.jsx(Y,{data:m,chartFor:"diseases"})]})]}),e.jsxs("div",{className:"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",ref:c.genderM,children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Gender"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(te,{data:n,chartFor:"gender"})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Total"})]}),e.jsx("span",{className:"text-lg font-semibold",children:n.reduce((o,d)=>o+d.male_count+d.female_count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Male"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[n.map(o=>o._id==="male"&&o.male_count||0),n.length===0&&e.jsx(e.Fragment,{children:"0"})]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Female"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",n.map(o=>o._id==="female"&&o.male_count||0),n.length===0&&e.jsx(e.Fragment,{children:"0"})]})]})]})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",ref:c.activityM,children:[e.jsxs("div",{children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity"}),e.jsx("div",{id:"chartController",className:"flex gap-4"})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Rt,{data:r})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Info"})]}),e.jsx("span",{className:"text-lg font-semibold",children:r.filter(o=>o.type===1).reduce((o,d)=>o+d.count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#F1963A] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Warning"})]}),e.jsx("span",{className:"text-lg font-semibold",children:r.filter(o=>o.type===2).reduce((o,d)=>o+d.count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#D90000] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Critical"})]}),e.jsx("span",{className:"text-lg font-semibold",children:r.filter(o=>o.type===3).reduce((o,d)=>o+d.count,0)})]})]})]})]})]}),e.jsxs("div",{className:"w-full flex gap-6 xl:flex-row flex-col h-[500px] justify-between",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:c.mostAlertM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Most Alerts"})}),e.jsx(U,{data:x})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:c.activityCountM,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity Count"})}),e.jsx(Ae,{data:r})]})]})]})}function Vt({data:l=[]}){const n=l.map(r=>r._id),u=l.map(r=>r.total_orders),m={tooltip:{trigger:"axis"},grid:{left:"0%",right:"0%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:n},yAxis:{type:"value"},series:[{data:u,type:"line",symbol:"circle",symbolSize:10,itemStyle:{color:"#4379EE"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(67, 121, 238, 0.5)"},{offset:1,color:"rgba(255, 255, 255, 0) "}]}},lineStyle:{color:"#4379EE"}}],graphic:u.length===0?{type:"text",left:"center",top:"middle",style:{text:"No Data Available",fontSize:20,fontWeight:"bold",fill:"#999"}}:null};return e.jsx(F,{notMerge:!0,option:m,style:{width:"100%",height:"100%"}})}function Se({data:l=[],chartFor:n=""}){const u=l.reduce((c,o)=>c+o.total_orders,0),[m,r]=t.useState({}),x={completed:"Completed",pending:"In Progress",cancelled:"Cancelled",not_started:"Not Started"};t.useEffect(()=>{n==="totalSales"?r({completed:"#4379EE",pending:"#F1963A",cancelled:"#D90000"}):n==="totalInstallations"&&r({completed:"#36b610",pending:"#833af1",not_started:"#5d5d5d"})},[n]);const g={tooltip:{trigger:"item"},grid:{left:"0%",right:"0%",bottom:"0%",top:"0%",containLabel:!0},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1}},labelLine:{show:!0},data:l.map(c=>({value:c.total_orders,name:x[c.property_name]||"Unknown Status",itemStyle:{color:m[c.property_name]}}))}],graphic:{elements:[{type:"text",id:"center-total-text",left:"center",top:"53%",style:{text:"Total",textAlign:"center",fill:"#333",fontSize:16}},{type:"text",id:"center-value-text",left:"center",top:"45%",style:{text:u,textAlign:"center",fill:"#333",fontSize:22,fontWeight:"bold"},position:[0,50]}]}};return e.jsx(F,{notMerge:!0,option:g,style:{width:"340px",height:"340px"}})}const Wt=[{role:"monitoring_station",label:"Monitoring Station",color:"#EA5A92",icon:rt,rolesAllowed:["sales_agent","distributor","office"]},{role:"supports_agent",label:"Support Agent",color:"#17C3A5",icon:ot,rolesAllowed:["supports_agent","monitoring_station"]},{role:"nursing_home",label:"Nursing Home",color:"#5096F6",icon:ct,rolesAllowed:["sales_agent","distributor","office"]},{role:"distributor",label:"Distributor",color:"#FA8035",icon:It,rolesAllowed:[]},{role:"sales_agent",label:"Sales Agent",color:"#D188E1",icon:dt,rolesAllowed:["sales_agent","distributor","office"]},{role:"end_user",label:"End User",color:"#7DBBE2",icon:we,rolesAllowed:["sales_agent","distributor","office"]},{role:"installer",label:"Installer",color:"#7695FF",icon:we,rolesAllowed:["monitoring_station","office","sales_agent"]},{role:"elderly",label:"Elderly",color:"#FF885B",icon:ut,rolesAllowed:["monitoring_station"]},{role:"office",label:"Office",color:"#FF885B",icon:xt,rolesAllowed:[""]},{role:"device",label:"Device",color:"#FF885B",icon:Dt,rolesAllowed:[]}];function Ut({row:l}){const n=t.useContext(ee),[u,m]=t.useState(l==null?void 0:l.installation_status),[r,x]=t.useState(!1),[g,c]=t.useState(!1),o=y=>{m(y),y==="completed"?c(!0):(x(!0),je(l==null?void 0:l._id,{installation_status:y}).then(i=>{console.log(i),n.getInstallationList.getCompletedandToBeInstalled(),n.getInstallationList.getDeviceSalesCounts(),i&&m(y)}).catch(i=>{console.log(i),m(l==null?void 0:l.installation_status)}).finally(()=>{x(!1)}))},d=async()=>{x(!0),(l==null?void 0:l.products.filter(i=>(i==null?void 0:i.type)==="AI Monitoring")).length>0&&await mt({id:l==null?void 0:l.user_id}).then(i=>{var p;i&&ht({subscription_id:(p=i==null?void 0:i.data)==null?void 0:p.subscription_id,extend_day:"30"}).then(()=>{}).catch(j=>{console.log(j)})}).catch(i=>{console.log(i)}),await je(l==null?void 0:l._id,{installation_status:"completed"}).then(i=>{n.getList(),i&&m("completed")}).catch(i=>{console.log(i),m("completed")}).finally(()=>{x(!1)})};return t.useEffect(()=>{m(l==null?void 0:l.installation_status)},[l==null?void 0:l.installation_status]),e.jsxs("div",{className:"flex items-center space-x-2 mr-0 ",children:[e.jsx("span",{className:`w-3 h-3 rounded-full relative -right-2 ${u==="completed"?"bg-[#1EB564]":u==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs(A,{theme:{token:{colorText:"#707EAE",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(k,{value:u,variant:"borderless",onChange:o,loading:r,optionSelectedColor:"#8086AC",className:"w-fit !text-red-100",options:[{value:"completed",label:e.jsx("span",{children:"Complete"})},{value:"pending",label:e.jsx("span",{children:"Pending"})},{value:"not_started",label:e.jsx("span",{children:"Not Started"})}]}),e.jsx(pt,{modalOPen:g,setModalOpen:c,title:"",title2:"Are you sure you want to change the status to 'Completed'? Once confirmed, this action cannot be undone, and user subscription will start immediately from now.",okText:"Confirm",onOk:()=>d()})]})]})}const Yt=[{title:"Installation Status",render:l=>e.jsx(Ut,{row:l})},{title:"Report",render:l=>e.jsx("div",{className:"flex justify-center",children:e.jsx(Mt,{report:l})})},{title:"Customer Name",render:l=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:l==null?void 0:l.user_name})})},{title:"Customer Phone Number",render:l=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:l==null?void 0:l.user_phone})})},{title:"Customer Email",render:l=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:l==null?void 0:l.user_email})})},{title:"Location",render:l=>{var n,u,m,r,x,g;return e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:[(n=l.address)==null?void 0:n.line1,","," ",(u=l.address)!=null&&u.line2?((m=l.address)==null?void 0:m.line2)+", ":"",","," ",(r=l.address)==null?void 0:r.city,", ",(x=l.address)==null?void 0:x.state,","," ",l.address?l.address.postal_code:" ",", ",(g=l.address)==null?void 0:g.country]})})}},{title:"Product Name",render:l=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2",children:l.products.filter((n,u,m)=>{const r=n.type==="Seenyor Kit"&&m.findIndex(x=>x.type==="Seenyor Kit")===u;return!/^AI Sensor/.test(n.type)&&(n.type!=="Seenyor Kit"||r)}).map((n,u)=>{const m=n.type==="Seenyor Kit"?"blue":n.type==="Installation"?"orange":"default";return e.jsx(q,{color:m,children:n.type==="Seenyor Kit"?"Package":n.type},u)})})})},{title:"Product Price",render:l=>e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary",children:["$",l.products.filter(n=>["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)).reduce((n,u)=>n+u.price,0).toFixed(2)]})})},{title:"Addon Name",render:l=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2",children:l.products.filter(n=>!["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)).map((n,u)=>e.jsx(q,{children:n.type},u)).length===0?e.jsx("span",{children:"--"}):l.products.filter(n=>!["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)).map((n,u)=>e.jsx(q,{children:n.type},u))})})},{title:"Addon Price",render:l=>e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:l.products.map((n,u)=>["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)?null:e.jsxs("span",{children:["$",n.price.toFixed(2)]},u)).filter(Boolean).length===0?e.jsx("span",{children:"--"}):l.products.map((n,u)=>["Seenyor Kit","Installation","AI Monitoring"].includes(n.type)?null:e.jsxs("span",{children:["$",n.price.toFixed(2)]},u))})})},{title:"Total Price",render:l=>e.jsx("button",{children:e.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:["$",l.total]})})},{title:"Date of Sales",render:l=>{const n=new Date(l.created_at).toLocaleDateString("en-CA");return e.jsx("button",{children:e.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:n})})}},{title:"Payment Status",dataIndex:"payment_status",key:"payment_status",filters:[{text:"Completed",value:"completed"},{text:"Pending",value:"pending"},{text:"Cancelled",value:"cancelled"}],filterMultiple:!0,onFilter:(l,n)=>n.payment_status.includes(l),render:l=>{let n="";switch(l){case"completed":n="green";break;case"pending":n="orange";break;case"cancelled":n="red";break;default:n="black"}return e.jsx("span",{style:{backgroundColor:n,color:"white",padding:"4px 8px",borderRadius:"4px",fontWeight:500,textTransform:"capitalize"},children:l})}}];function Gt(){const[l,n]=t.useState(!1),[u,m]=t.useState(1),[r,x]=t.useState(0),[g,c]=t.useState([]);t.useState([]);const[o,d]=t.useState([]);function y(v){n(!0),ft(v).then(b=>{c(b.data),x(b.total)}).catch(b=>{console.log(b)}).finally(()=>{n(!1)})}const i=t.useCallback(()=>{Nt().then(v=>{d(v.data),console.log(v.data)}).catch(v=>{console.log(v)})},[u]),p=t.useCallback(()=>{y({installation_status:"completed",ne:!0,page:u})},[u]);t.useEffect(()=>{p()},[p]),t.useEffect(()=>{i()},[i]);const{registerRef:j}=J(),C={step1:t.useRef(null)};return t.useEffect(()=>{Object.keys(C).forEach(v=>{C[v].current&&j("tour_step_"+v,C[v])})},[j]),e.jsx("div",{className:"flex flex-col gap-6 pt-6",children:e.jsxs("div",{className:"w-full flex  gap-6 lg:flex-row flex-col",children:[e.jsxs("div",{id:"NewInstallation",className:"p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-full",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between mb-8",ref:C.step1,children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"To Be Installed"}),e.jsx("div",{id:"chartController",className:"flex gap-4"})]}),e.jsx(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(ee.Provider,{value:{getInstallationList:{getCompletedandToBeInstalled:p,getDeviceSalesCounts:i},total:r,page:u,SetPage:m},children:e.jsx(Ce,{loading:l,scroll:{x:750},columns:Yt,tableData:g})})})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[35%] w-full",children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Device Installed"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(te,{data:o,chartFor:"device"})})]}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","not_started"].map((v,b)=>{const a=o.find(P=>P._id===v)||{_id:v,count:0};return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:`w-[12px] h-[12px] ${a._id==="completed"?"bg-[#08A1F7]":a._id==="pending"?"bg-[#922BF2]":"bg-[#FF3B11]"} rounded-full`}),e.jsx("span",{className:"text-lg font-medium capitalize",children:a._id==="completed"?"Completed":a._id==="pending"?"Pending":"Not Started"})]}),e.jsx("span",{className:"text-lg font-semibold",children:a.count})]},b)})})]})]})})}function Kt(){const[l,n]=t.useState("Map View");t.useState(!1),t.useState([]),Z("activeAlert");const u=Z("recentlyClosedAlert"),[m,r]=t.useState([]),[x,g]=t.useState(1),[c,o]=t.useState(0),[d,y]=t.useState([]),[i,p]=t.useState([]),[j,C]=t.useState(0);Z("events");const[v,b]=t.useState(!0);t.useState(null);const[a,P]=t.useState(),[I,se]=t.useState("");t.useState(!1),gt();const D=t.useCallback(()=>{b(!0),Ot({to_date:X().subtract(2,"days").format("YYYY-MM-DD"),from_date:X().format("YYYY-MM-DD"),is_resolved:!0,page:x}).then(N=>{o(N.total),b(!1),r(N.data)}).catch(N=>{b(!1),console.log(N)})},[x]);t.useEffect(()=>{D()},[D]);const T=t.useCallback(()=>{zt({to_date:"2024-11-30",from_date:X().format("YYYY-MM-DD"),page:i}).then(N=>{C(N.total),N.data.length>0&&y(N.data)}).catch(N=>{console.log(N)})},[x]);t.useEffect(()=>{T()},[T]);const O=t.useCallback(()=>{if(I.trim()===""){P([]);return}yt({search:I}).then(N=>{P(N==null?void 0:N.data)}).catch(N=>{console.log(N)})},[I]);return t.useEffect(()=>{O()},[O]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-4 flex-col pt-8 pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full",children:e.jsx(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsxs("div",{className:"flex gap-6 w-full",children:[e.jsx("div",{className:"flex items-center justify-between gap-2 bg-indigo-600 w-full p-4 px-10 rounded-lg",children:[1,2,3].map((N,M)=>e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:"62"}),e.jsx("h1",{className:"text-base font-medium text-white/80",children:"Total house"})]},M))}),e.jsx("div",{className:"flex items-center justify-between gap-2 bg-[#706D54] w-full p-4  px-10  rounded-lg",children:[1,2,3].map((N,M)=>e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:"62"}),e.jsx("h1",{className:"text-base font-medium text-white/80",children:"Total house"})]},M))})]})})}),e.jsx("div",{className:"w-full",children:e.jsx(Ft,{refreshAlertList:D,isElderlyVisible:!0})}),e.jsx("div",{className:"w-full flex gap-4 md:flex-row flex-col",children:e.jsx("div",{className:"w-full  p-0 ",children:e.jsxs("div",{className:"bg-white  rounded-2xl  p-6 h-[750px]",children:[e.jsx("div",{className:"flex justify-between items-center mb-5",children:e.jsx("h1",{className:"text-2xl font-bold w-full",children:"Alerts View"})}),l==="Map View"&&e.jsx(Et,{})]})})}),e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Past Notifications"}),e.jsx("div",{children:e.jsx(A,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}}})})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(ee.Provider,{value:{total:c,page:1,SetPage:g,limit:6},children:e.jsx(Ce,{loading:v,pageSize:6,tableData:m,columns:u})})})]})]})})}const{RangePicker:Qt}=vt,$t=l=>{console.log("onOk: ",l)},z=l=>{console.log("search:",l)},qt=()=>{t.useState(!1),t.useState("Overview"),t.useState(""),t.useState(""),t.useState(!1),t.useState([]),t.useState({current:"1",size:"10"});const{registerRef:l}=J(),[n,u]=t.useState({page:1,limit:10}),[m,r]=t.useState(!1),[x,g]=t.useState(E.get("user")),[c,o]=t.useState(E.get("role")),[d,y]=t.useState(E.get("mainRole")),[i,p]=t.useState(null),[j,C]=t.useState(null),[v,b]=t.useState(null),[a,P]=t.useState("all"),[I,se]=t.useState(null),[D,T]=t.useState(null),[O,N]=t.useState(null),[M,le]=t.useState(null),[G,ae]=t.useState(null),[K,ne]=t.useState(null),[Q,Xt]=t.useState(null),[$,Zt]=t.useState(null),[ie,ke]=t.useState([]),[R,Be]=t.useState([]),[H,Pe]=t.useState(null),[V,Ie]=t.useState([]),[De,Me]=t.useState([]),[Le,Ee]=t.useState([]),[Fe,Oe]=t.useState([]),[re,ze]=t.useState([]),[oe,Te]=t.useState([]),[Jt,Re]=t.useState([]),[w,ce]=t.useState({}),[He,es]=t.useState({}),[de,Ve]=t.useState([]),[L,We]=t.useState([]),[ue,Ue]=t.useState([]),[xe,Ye]=t.useState([]),[pe,Ge]=t.useState([]),[Ke,Qe]=t.useState([]),$e=t.useCallback(()=>{_t().then(s=>{Ve(s.data)}).catch(s=>{console.log(s)})},[]),qe=t.useCallback(()=>{wt().then(s=>{We(s==null?void 0:s.data)}).catch(s=>{console.log(s)})},[]),Xe=t.useCallback(()=>{St().then(s=>{Ue(s.data)}).catch(s=>{console.log(s)})},[]),Ze=t.useCallback(()=>{Ct().then(s=>{Ye(s.data)}).catch(s=>{console.log(s)})},[]),Je=t.useCallback(()=>{At().then(s=>{const f=s.data.map(h=>{var _,B;return{property_name:(_=Ne(h))==null?void 0:_.title,count:h.count,type:(B=Ne(h))==null?void 0:B.status}});console.log(f),Ge(f)}).catch(s=>{console.log(s)})},[]);function et(){Pt().then(s=>{const h=Wt.map(_=>{var ve;const B=(ve=s.data)==null?void 0:ve.find(it=>it.role===_.role);return{..._,count:B?B.count:0}}).filter(_=>_.rolesAllowed.includes(x.role));Ie(h)}).catch(s=>{console.log(s)})}const me=t.useCallback((s,f)=>{kt({office_id:w.office_id,agent_id:s,payment_status:f,from_date:i,to_date:j}).then(h=>{console.log("sales Overview",h),Me(h.data)}).catch(h=>{console.log(h)})},[a,v,w.office_id,j]),he=t.useCallback((s,f)=>{W({...w,total_sales_by:"agent_name",city:s,payment_status:f,from_date:i,to_date:j}).then(h=>{Ee(h.data)}).catch(h=>{console.log(h)})},[D,I,w.office_id,j]),fe=t.useCallback((s,f)=>{W({...w,total_sales_by:"location",payment_status:f,agent_id:s,from_date:i,to_date:j}).then(h=>{Oe(h.data),console.log(h)}).catch(h=>{console.log(h)})},[M,O,w.office_id,j]),ge=t.useCallback(s=>{W({...w,total_sales_by:"payment_status",agent_id:s,from_date:i,to_date:j}).then(f=>{ze(f.data),console.log(f)}).catch(f=>{console.log(f)})},[G,w.office_id,j]),ye=t.useCallback(s=>{W({...w,total_sales_by:"installation_status",agent_id:s,from_date:i,to_date:j}).then(f=>{Te(f.data),console.log(f)}).catch(f=>{console.log(f)})},[K,w.office_id,j]),be=t.useCallback((s,f)=>{r(!0),Bt({...n,...w,agent_id:s,payment_status:f,from_date:i,to_date:j}).then(h=>{console.log(h),Re(h),r(!1)}).catch(h=>{console.log(h)})},[Q,$,w.office_id,j,n]);t.useEffect(()=>{me(a==="all"?null:a,v==="all"?null:v)},[me]),t.useEffect(()=>{he(D==="all"?null:D,I==="all"?null:I)},[he]),t.useEffect(()=>{fe(M==="all"?null:M,O==="all"?null:O)},[fe]),t.useEffect(()=>{ge(G==="all"?null:G)},[ge]),t.useEffect(()=>{ye(K==="all"?null:K)},[ye]),t.useEffect(()=>{be($==="all"?null:$,Q==="all"?null:Q)},[be]),t.useEffect(()=>{if(H)if(H==="all"){if(w.office_id){const s={...w};delete s.office_id,ce(s)}}else ce(s=>({...s,office_id:H})),ae("all"),ne("all"),le("all"),P("all")},[H]);function tt(s){console.log(s),p(s.start),C(s.end)}function st(s){p(s[0]),C(s[1])}function lt(){_e({role:"office"}).then(s=>{ke(s.data)}).catch(s=>{console.log(s)})}function at(){console.log("called agent get list!",He),_e({...w,role:"sales_agent"}).then(s=>{Be(s.data)}).catch(s=>{console.log(s)})}function nt(){jt({...w}).then(s=>{Qe(s.data)}).catch(s=>{console.log(s)})}const S={officeDropdown:t.useRef(null),datePicker:t.useRef(null),usersCount:t.useRef(null),totalSales:t.useRef(null),totalInstallations:t.useRef(null),salesOverview:t.useRef(null),salesByAgent:t.useRef(null),salesByLocation:t.useRef(null),mostAlert:t.useRef(null),activityCount:t.useRef(null),ages:t.useRef(null),gender:t.useRef(null),diseases:t.useRef(null)};return t.useEffect(()=>{Object.keys(S).forEach(s=>{S[s].current&&l("tour_step_"+s,S[s])})},[l]),t.useEffect(()=>{et(),lt(),(x.role==="nursing_home"||x.role==="monitoring_station")&&($e(),qe(),Xe(),Ze(),Je())},[]),t.useEffect(()=>{at(),nt()},[w]),e.jsxs("div",{className:"",children:[(x.role=="distributor"||x.role=="office"||x.role=="sales_agent")&&e.jsxs("div",{className:"pt-[29px] flex flex-col w-full gap-6 pb-10",children:[e.jsx("div",{id:"Distributor_Dash_Top",className:"flex justify-between w-full mb-5 flex-wrap gap-5",children:e.jsxs(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[x.role=="office"?e.jsx("div",{className:"p-2 px-4 rounded-lg text-[36px] font-bold  text-primary",children:x.office}):x.role=="sales_agent"?null:e.jsx("div",{ref:S.officeDropdown,children:e.jsx(k,{showSearch:!0,optionFilterProp:"label",onChange:s=>Pe(s.value),onSearch:z,defaultValue:"all",size:"large",className:"custom-select",labelInValue:!0,options:[{value:"all",label:e.jsxs(e.Fragment,{children:["All Offices"," ",e.jsx("span",{className:"highlighted-number",children:ie.length})]})},...ie.map(s=>({value:s._id,label:s.name}))]})}),e.jsxs("div",{id:"DatePickers",className:"flex gap-4 items-center",ref:S.datePicker,children:[e.jsx(Lt,{placeholder:"Weekly/Monthly",style:{width:"140px",borderRadius:"10px"},handleChnage:tt}),e.jsx(Qt,{showTime:!1,style:{width:"200px",borderRadius:"10px"},size:"large",placeholder:["Pick Data Range (Start)","End"],format:"YYYY-MM-DD",onChange:(s,f)=>{st(f)},onOk:$t})]})]})}),e.jsx("div",{id:"Reports",className:"w-full rounded-2xl bg-transparent flex flex-col gap-6",ref:S.usersCount,children:e.jsx("div",{id:"Cards",className:"grid gap-5 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:V==null?void 0:V.map((s,f)=>{let h=s.icon;return e.jsxs("div",{id:"Card",className:"cursor-pointer group flex w-full items-center p-4 py-6 bg-[#fff] text-white gap-3 rounded-[12px] relative overflow-hidden",children:[e.jsx("div",{id:"circle",style:{backgroundColor:s.color,opacity:"0.9"},className:"w-[100px] h-[100px] absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out"}),e.jsx("div",{id:"circle",style:{backgroundColor:s.color,opacity:"0.2"},className:"w-[100px] h-[100px] absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out"}),e.jsx("div",{style:{backgroundColor:`${s.color}15`},className:"h-fit rounded-[8px] p-2",children:h&&e.jsx(h,{style:{color:s==null?void 0:s.color},size:20})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-[26px] font-semibold leading-none text-text-primary",children:s.count}),e.jsx("span",{className:"text-[14px] font-medium text-text-primary/70 leading-none",children:s.label})]})]},f)})})}),e.jsxs("div",{id:"SalesOverview&Total",className:"w-full flex  gap-6 flex-col",children:[e.jsxs("div",{className:"w-full flex gap-6",children:[e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]",ref:S.totalSales,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Sales"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:d!=="sales_agent"?e.jsx(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(k,{showSearch:!0,optionFilterProp:"label",onChange:s=>ae(s.value),onSearch:z,defaultValue:"all",size:"large",style:{maxWidth:150,zIndex:"400"},labelInValue:!0,options:[{value:"all",label:"All Agents"},...R.map(s=>({value:s._id,label:s.name+" "+s.last_name}))]})}):null})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Se,{data:re,chartFor:"totalSales"})}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","cancelled"].map(s=>{const f=re.find(B=>B.property_name===s)||{property_name:s,total_orders:0};let h,_;switch(f.property_name){case"completed":h="#4379EE",_="Completed";break;case"pending":h="#F1963A",_="Pending";break;case"cancelled":h="#D90000",_="Cancelled";break;default:h="#000000",_="Unknown"}return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] rounded-full",style:{backgroundColor:h}}),e.jsx("span",{className:"text-lg font-medium",children:_})]}),e.jsx("span",{className:"text-lg font-semibold",children:f.total_orders})]},f.property_name)})})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]",ref:S.totalInstallations,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Total Installations"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:d!=="sales_agent"?e.jsx(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(k,{showSearch:!0,optionFilterProp:"label",onChange:s=>ne(s.value),onSearch:z,defaultValue:"all",size:"large",style:{maxWidth:150,zIndex:"400"},labelInValue:!0,options:[{value:"all",label:"All Agents"},...R.map(s=>({value:s._id,label:s.name+" "+s.last_name}))]})}):null})]}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(Se,{data:oe,chartFor:"totalInstallations"})}),e.jsx("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:["completed","pending","not_started"].map(s=>{const f=oe.find(B=>B.property_name===s)||{property_name:s,total_orders:0};let h,_;switch(f.property_name){case"completed":h="#36b610",_="Completed";break;case"pending":h="#833af1",_="In Progress";break;case"not_started":h="#5d5d5d",_="Not Started";break;default:h="#000000",_="Unknown"}return e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] rounded-full",style:{backgroundColor:h}}),e.jsx("span",{className:"text-lg font-medium",children:_})]}),e.jsx("span",{className:"text-lg font-semibold",children:f.total_orders})]},f.property_name)})})]})]}),e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white lg:w-[100%] w-full  h-[445px]",ref:S.salesOverview,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Sales Overview"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(k,{optionFilterProp:"label",onChange:s=>b(s.value),defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),d!=="sales_agent"?e.jsx(k,{showSearch:!0,optionFilterProp:"label",onChange:s=>P(s.value),onSearch:z,value:a,defaultValue:"all",size:"large",style:{maxWidth:150,zIndex:"400"},labelInValue:!0,options:[{value:"all",label:"All Agents"},...R.map(s=>({value:s._id,label:s.name+" "+s.last_name}))]}):null]})})]}),e.jsx(Vt,{data:De})]})]}),e.jsxs("div",{id:"SalesByLucation&Agents",className:"w-full flex gap-6 xl:flex-row flex-col",children:[x.role=="sales_agent"?null:e.jsxs("div",{className:" p-[25px] rounded-2xl  bg-white w-full h-[445px]",ref:S.salesByAgent,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:" Sales by Agent"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(k,{optionFilterProp:"label",onChange:s=>se(s.value),defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),e.jsx(k,{showSearch:!0,optionFilterProp:"label",onChange:s=>T(s.value),onSearch:z,defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Locations"},...Ke.map(s=>({value:s.city_name,label:s.city_name}))]})]})})]}),e.jsx(U,{data:Le,graphTitle:"Sales by Agent"})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl  bg-white w-full h-[445px]",ref:S.salesByLocation,children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Sales by Location"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsxs(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx(k,{optionFilterProp:"label",onChange:s=>N(s.value),defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Sales"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}),d!=="sales_agent"?e.jsx(k,{showSearch:!0,optionFilterProp:"label",onChange:s=>le(s.value),onSearch:z,defaultValue:"all",size:"large",labelInValue:!0,options:[{value:"all",label:"All Agents"},...R.map(s=>({value:s._id,label:s.name+" "+s.last_name}))]}):null]})})]}),e.jsx(U,{data:Fe,graphTitle:"Sales by Location"})]})]})]}),x.role=="monitoring_station"?e.jsx(Ht,{count:V,chartByAge:L,chartByGender:de,diseasesCountByGender:ue,alertsCountByName:pe,alertsCountByElderly:xe}):null,c=="installer"?e.jsx(Gt,{}):null,c=="monitoring_agency"?e.jsx(Kt,{}):null,x.role=="nursing_home"?e.jsxs("div",{className:"w-full flex flex-col gap-6 pt-6",children:[e.jsxs("div",{className:"w-full flex gap-6 xl:flex-row flex-col h-fit justify-between",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:S.mostAlert,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Most Alerts"})}),e.jsx(U,{data:xe})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px]",ref:S.activityCount,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Activity Count"})}),e.jsx(Ae,{data:pe})]})]}),e.jsxs("div",{className:"flex gap-6 lg:flex-row flex-col h-fit",children:[e.jsxs("div",{className:"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:S.ages,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Ages"})}),e.jsx(Y,{chartFor:"age",data:de})]}),e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow",ref:S.diseases,children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Diseases"})}),e.jsx(Y,{chartFor:"diseases",data:ue})]})]}),e.jsx("div",{className:"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full",children:e.jsxs("div",{className:"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between",ref:S.gender,children:[e.jsxs("div",{children:[e.jsx("div",{id:"ChartHeader",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Gender"})}),e.jsx("div",{className:"h-[260px] my-0 mx-auto flex items-center justify-center",children:e.jsx(te,{data:L,chartFor:"gender"})})]}),e.jsxs("div",{id:"ChartInfo",className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-text-primary rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Total"})]}),e.jsx("span",{className:"text-lg font-semibold",children:L.reduce((s,f)=>s+f.male_count+f.female_count,0)})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#4379EE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Male"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[L.map(s=>s._id==="male"&&s.male_count||0),L.length===0&&e.jsx(e.Fragment,{children:"0"})]})]}),e.jsxs("div",{id:"InfoItem",className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full"}),e.jsx("span",{className:"text-lg font-medium",children:"Female"})]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" ",L.map(s=>s._id==="female"&&s.male_count||0),L.length===0&&e.jsx(e.Fragment,{children:"0"})]})]})]})]})})]})]}):null]})},Bs=()=>{var v;t.useState({});const[l,n]=t.useState(!1),[u,m]=t.useState({}),[r,x]=t.useState({}),[g,c]=t.useState(()=>{const b=E.get("seenToursDash");return b||{}}),o=(v=E.get("user"))==null?void 0:v.role,d=E.get("user"),y=t.useCallback(b=>{x(a=>a!==b?b:a)},[]),i={fontSize:"14px",padding:"14px 18px",borderRadius:"8px"},p={fontSize:"14px",padding:"14px 18px",borderRadius:"8px"};t.useEffect(()=>{const b={distributor:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"As a distributor, you have a central role in managing offices, agents, and location-specific analytics. Explore the tools and features available to you and take control of your domain!"}),nextButtonProps:{children:"Let's Start",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Your Responsibilities"}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["As a Distributor, you manage offices, agents, and location analytics.",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Create and manage Offices, Managers, and Agents"}),e.jsx("li",{children:"Assign agents to offices"}),e.jsx("li",{children:"View and filter location-based analytics"}),e.jsx("li",{children:"Oversee daily operations"})]})]}),nextButtonProps:{children:"Start Tour",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Office Dropdown"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Use the office dropdown to select a specific office or view data for all offices at once."}),target:()=>{var a;return(a=r.tour_step_officeDropdown)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,variant:"solid",size:"middle",className:"tour_step_btn",color:"default"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var a;return(a=r.tour_step_datePicker)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var a;return(a=r.tour_step_usersCount)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var a;return(a=r.tour_step_totalSales)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var a;return(a=r.tour_step_totalInstallations)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var a;return(a=r.tour_step_salesOverview)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Agent"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"See the total sales made by each agent, allowing you to track individual performance and contributions."}),target:()=>{var a;return(a=r.tour_step_salesByAgent)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var a;return(a=r.tour_step_salesByLocation)==null?void 0:a.current},nextButtonProps:{children:"Finish",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}}],office:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"As an Office Manager, you'll be overseeing the performance of your support agents and managing operations within your office. Lets get started!"}),nextButtonProps:{children:"Let's Start",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Your Responsibilities"}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["As an Office Manager, your key tasks include:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Tracking the performance of support agents assigned to your office"}),e.jsx("li",{children:"Managing deals with end users"}),e.jsx("li",{children:"Coordinating the scheduling of installers for setup and service"})]})]}),nextButtonProps:{children:"Start Tour",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var a;return(a=r.tour_step_datePicker)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var a;return(a=r.tour_step_usersCount)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var a;return(a=r.tour_step_totalSales)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var a;return(a=r.tour_step_totalInstallations)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var a;return(a=r.tour_step_salesOverview)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Agent"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"See the total sales made by each agent, allowing you to track individual performance and contributions."}),target:()=>{var a;return(a=r.tour_step_salesByAgent)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var a;return(a=r.tour_step_salesByLocation)==null?void 0:a.current},nextButtonProps:{children:"Finish",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}}],sales_agent:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" ","Welcome, ",d==null?void 0:d.name," ",d==null?void 0:d.last_name,"!"]}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Welcome to your Sales Agent Dashboard! As a Sales Agent, you are responsible for registering Nursing Homes, Monitoring Stations, Support Agents, and Installers. Lets dive in and see what you can do!"}),nextButtonProps:{children:"Let's Start",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Your Responsibilities"}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["As a Sales Agent, your key tasks include:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Registering Nursing Homes, Monitoring Stations, Support Agents, and Installers"}),e.jsx("li",{children:"Registering end users through a sales-specific website"}),e.jsx("li",{children:"Viewing the end users you have signed up"})]})]}),nextButtonProps:{children:"Start Tour",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Date Range Filter"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Apply a custom date range filter to narrow down the data to a specific period for more focused analysis."}),target:()=>{var a;return(a=r.tour_step_datePicker)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var a;return(a=r.tour_step_usersCount)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Sales"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"View the total number of sales made, with a breakdown of their statuses (Completed, Pending, and Cancelled)."}),target:()=>{var a;return(a=r.tour_step_totalSales)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Total Installations"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Monitor installation statuses, including Completed, In Progress, and Not Started, to track installation progress."}),target:()=>{var a;return(a=r.tour_step_totalInstallations)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Visualize sales trends over time with the Sales Overview graph, helping you identify patterns and performance."}),target:()=>{var a;return(a=r.tour_step_salesOverview)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Sales by Location"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Review sales performance across different locations, helping you identify high-performing or underperforming areas."}),target:()=>{var a;return(a=r.tour_step_salesByLocation)==null?void 0:a.current},nextButtonProps:{children:"Finish",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}}],monitoring_station:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["Welcome to your Monitoring Company Dashboard! As a Monitoring Company, you manage Installer and Support Agent accounts, ensuring smooth operations for your customers. Lets take a look at your responsibilities:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Manage Installer accounts and oversee their setup of devices and profiles"}),e.jsx("li",{children:"Monitor and resolve alerts via the platform and app"}),e.jsx("li",{children:"Support elderly profiles assigned to your company"}),e.jsx("li",{children:"Ensure all installations are completed successfully at customer's homes"})]})]}),nextButtonProps:{children:"Let's Start",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" User Overview"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"Quickly check the number of key users: Nursing Stations, Sales Agents, Monitoring Stations and End Users."}),target:()=>{var a;return(a=r.tour_step_usersCountM)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Ages"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section shows the age distribution of individuals in the Nursing Home. It helps in understanding the demographics of your residents, displayed by age group and gender."}),target:()=>{var a;return(a=r.tour_step_agesM)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Gender"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Gender section provides a visual breakdown of male and female residents, giving you a clear understanding of the gender distribution in your Nursing Home."}),target:()=>{var a;return(a=r.tour_step_genderM)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Diseases"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section tracks the prevalence of various diseases such as Thyroid Disorders, Hearing Loss, Depression, and more. It helps you monitor the health trends of your residents."}),target:()=>{var a;return(a=r.tour_step_diseasesM)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Activity"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Activity section shows a summary of all system activities, including info, warning, and critical notifications. Here, you can monitor the status of any alerts or updates, ensuring your system is running smoothly."}),target:()=>{var a;return(a=r.tour_step_activityM)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Most Alerts"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section displays the most frequent alerts in the system, allowing you to track any ongoing issues or patterns. You can see the total alert count and the distribution of alerts across various categories."}),target:()=>{var a;return(a=r.tour_step_mostAlertM)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Activity Count"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Activity Count visualizes the actions performed over time. Each circle represents a different level of activity, allowing you to monitor trends and track performance across periods."}),target:()=>{var a;return(a=r.tour_step_activityCountM)==null?void 0:a.current},nextButtonProps:{children:"Finish",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}}],nursing_home:[{title:e.jsxs("h1",{className:"text-xl text-primary",children:[" Welcome, ",d==null?void 0:d.name,"!"]}),description:e.jsxs("p",{className:"text-base tracking-tight text-primary/80",children:["Welcome to your Nursing Home Owner Dashboard! As a Nursing Home Owner, you have full control over managing nurse accounts, overseeing billing and services, and interacting with end users. Lets take a look at your responsibilities:",e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Manage nurse accounts and edit their information"}),e.jsx("li",{children:"View and manage a list of Elderlies in your Nursing Home"}),e.jsx("li",{children:"Create and manage end-user accounts"}),e.jsx("li",{children:"End users interact solely with you for subscriptions and device-related services"})]})]}),nextButtonProps:{children:"Let's Start",style:i,variant:"solid",size:"middle",color:"default",className:"tour_step_btn"}},{title:e.jsx("h1",{className:"text-xl text-primary",children:" Most Alerts"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section displays the most frequent alerts in the system, allowing you to track any ongoing issues or patterns. You can see the total alert count and the distribution of alerts across various categories."}),target:()=>{var a;return(a=r.tour_step_mostAlert)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Activity Count"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Activity Count visualizes the actions performed over time. Each circle represents a different level of activity, allowing you to monitor trends and track performance across periods."}),target:()=>{var a;return(a=r.tour_step_activityCount)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Ages"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section shows the age distribution of individuals in the Nursing Home. It helps in understanding the demographics of your residents, displayed by age group and gender."}),target:()=>{var a;return(a=r.tour_step_ages)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Gender"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"The Gender section provides a visual breakdown of male and female residents, giving you a clear understanding of the gender distribution in your Nursing Home."}),target:()=>{var a;return(a=r.tour_step_gender)==null?void 0:a.current},nextButtonProps:{children:"Next",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}},{title:e.jsx("h1",{className:"text-xl text-primary",children:"Diseases"}),description:e.jsx("p",{className:"text-base tracking-tight text-primary/80",children:"This section tracks the prevalence of various diseases such as Thyroid Disorders, Hearing Loss, Depression, and more. It helps you monitor the health trends of your residents."}),target:()=>{var a;return(a=r.tour_step_diseases)==null?void 0:a.current},nextButtonProps:{children:"Finish",style:i,size:"middle",color:"default",variant:"solid",className:"tour_step_btn"},prevButtonProps:{style:p}}]};m(b[o]||[]),setTimeout(()=>{u.length>0&&!g[o]&&n(!0)},2e3)},[r]);const j=()=>u.length>0?u:[];function C(){n(!1);const b={...g,[o]:!0};c(b),E.set("seenToursDash",b)}return e.jsx(e.Fragment,{children:e.jsxs(bt,{onRefsUpdate:y,children:[e.jsx(qt,{}),e.jsx(A,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67",primaryColor:"#252F67"}},children:e.jsx(Tt,{open:l,onFinish:C,steps:j(),onClose:C})})]})})};export{Bs as default};
//# sourceMappingURL=index-nBJVzlPr.js.map
