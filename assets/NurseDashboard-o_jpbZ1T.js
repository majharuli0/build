import{r as o,j as e,d as H,B as S,bq as V,br as W,I as Y,a5 as D,a6 as R,aN as k,bs as O,bp as K}from"./index-DQy7c-QQ.js";import{a as q}from"./index-D5yKkHoY.js";import{u as E,A as G,W as U,M as J,a as M,r as _,e as Q}from"./ActiveAlertsCards-D1KT_qY8.js";import{g as X}from"./elderlySupport-CnK57CVs.js";import{g as v}from"./helper-BBch2RZo.js";import{M as Z,u as z,P as ee,a as te,L as le,m as x}from"./proxy-vNbqVe0G.js";import{W as re}from"./WeeklyMonthlyPicker-DbHgGDkD.js";import{C as ae}from"./CreateAndEditModal-uVDoftts.js";import{S as $}from"./index-CZlSF4p-.js";import{D as oe}from"./index-DahbhpYv.js";import{R as se}from"./AimOutlined-BYFdXBni.js";import{R as ne}from"./HomeOutlined-BaKS-L7T.js";import"./index-DHtzzFS9.js";import"./line-D9bFCmM1.js";import"./SwapRightOutlined-BA0wviLa.js";import"./weekOfYear-CBuXdiWG.js";import"./AlertName-DqI-NVpw.js";import"./ActionManu-CWe6ns7J.js";import"./index-CrMkKcXz.js";import"./SuccessModal-9xXBwm8d.js";import"./index-C1cvzJY4.js";import"./UseCustomContext-Bv9JlKpe.js";import"./LargeTextViewerModal-4UG2n6Dl.js";import"./slick-theme-CPAdxIey.js";import"./index-DULcWRwp.js";import"./AlertCloseModal-J5uCB7AS.js";import"./leaflet-src-BImD4Ruj.js";/* empty css                */import"./InfoCircleOutlined-ZEhCMUaZ.js";import"./index-Clzs1LD3.js";import"./weekday-Dp8kpFJs.js";class ie extends o.Component{getSnapshotBeforeUpdate(i){const l=this.props.childRef.current;if(l&&i.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=l.offsetHeight||0,n.width=l.offsetWidth||0,n.top=l.offsetTop,n.left=l.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function me({children:t,isPresent:i}){const l=o.useId(),n=o.useRef(null),f=o.useRef({width:0,height:0,top:0,left:0}),{nonce:p}=o.useContext(Z);return o.useInsertionEffect(()=>{const{width:h,height:s,top:c,left:u}=f.current;if(i||!n.current||!h||!s)return;n.current.dataset.motionPopId=l;const r=document.createElement("style");return p&&(r.nonce=p),document.head.appendChild(r),r.sheet&&r.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${s}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(r)}},[i]),e.jsx(ie,{isPresent:i,childRef:n,sizeRef:f,children:o.cloneElement(t,{ref:n})})}const ce=({children:t,initial:i,isPresent:l,onExitComplete:n,custom:f,presenceAffectsLayout:p,mode:h})=>{const s=z(ue),c=o.useId(),u=o.useCallback(m=>{s.set(m,!0);for(const a of s.values())if(!a)return;n&&n()},[s,n]),r=o.useMemo(()=>({id:c,initial:i,isPresent:l,custom:f,onExitComplete:u,register:m=>(s.set(m,!1),()=>s.delete(m))}),p?[Math.random(),u]:[l,u]);return o.useMemo(()=>{s.forEach((m,a)=>s.set(a,!1))},[l]),o.useEffect(()=>{!l&&!s.size&&n&&n()},[l]),h==="popLayout"&&(t=e.jsx(me,{isPresent:l,children:t})),e.jsx(ee.Provider,{value:r,children:t})};function ue(){return new Map}const w=t=>t.key||"";function I(t){const i=[];return o.Children.forEach(t,l=>{o.isValidElement(l)&&i.push(l)}),i}const de=({children:t,exitBeforeEnter:i,custom:l,initial:n=!0,onExitComplete:f,presenceAffectsLayout:p=!0,mode:h="sync"})=>{const s=o.useMemo(()=>I(t),[t]),c=s.map(w),u=o.useRef(!0),r=o.useRef(s),m=z(()=>new Map),[a,g]=o.useState(s),[b,F]=o.useState(s);te(()=>{u.current=!1,r.current=s;for(let N=0;N<b.length;N++){const d=w(b[N]);c.includes(d)?m.delete(d):m.get(d)!==!0&&m.set(d,!1)}},[b,c.length,c.join("-")]);const C=[];if(s!==a){let N=[...s];for(let d=0;d<b.length;d++){const j=b[d],A=w(j);c.includes(A)||(N.splice(d,0,j),C.push(j))}h==="wait"&&C.length&&(N=C),F(I(N)),g(s);return}const{forceRender:y}=o.useContext(le);return e.jsx(e.Fragment,{children:b.map(N=>{const d=w(N),j=s===b||c.includes(d),A=()=>{if(m.has(d))m.set(d,!0);else return;let P=!0;m.forEach(T=>{T||(P=!1)}),P&&(y==null||y(),F(r.current),f&&f())};return e.jsx(ce,{isPresent:j,initial:!u.current||n?void 0:!1,custom:j?void 0:l,presenceAffectsLayout:p,mode:h,onExitComplete:j?void 0:A,children:N},d)})})};function fe(){var s,c,u;const[t,i]=o.useState(null),[l,n]=o.useState({textColor:"text-white",bodyColor:"text-white",txtc:"#fff",bgc:"#fff"}),[f,p]=o.useState([]),h=o.useCallback(()=>{X({to_date:"2024-11-30",from_date:H().format("YYYY-MM-DD"),is_resolved:!1}).then(r=>{r.data.length>0&&p(r.data)}).catch(r=>{console.log(r)})},[]);return o.useEffect(()=>{h()},[h]),o.useEffect(()=>{t&&n({textColor:t.alertStatus==="normal"?"text-primary":"text-white",bodyColor:t.alertStatus==="normal"?"text-primary":"text-white",txtc:t.alertStatus==="normal"?"#fff":"#000",bgc:t.alertStatus==="normal"?"#fff":"#000"})},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{id:"NurseRoomView",className:"w-full h-full relative",children:[e.jsx("div",{className:"w-full h-full grid grid-cols-10  overflow-auto",children:f==null?void 0:f.map((r,m)=>{var a,g,b;return e.jsx(x.div,{layoutId:r.roomNumber,onClick:()=>i(r),className:`text-white text-base ${((a=v(r))==null?void 0:a.label)==="Critical"?"bg-[#FF1D1D]":((g=v(r))==null?void 0:g.label)==="Warning"?"bg-[#FF9831]":((b=v(r))==null?void 0:b.label)==="Info"?"bg-[#6471FF]":"bg-[#F4F4F6] !text-primary"}  rounded-lg cursor-pointer flex justify-center m-2 items-center font-semibold min-w-[55px] min-h-[65px] h-fit `,children:e.jsx(x.h5,{children:r==null?void 0:r.room_name})},m)})}),e.jsx(de,{children:t&&e.jsx(x.div,{className:"absolute inset-0 flex justify-center items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(x.div,{className:"bg-black bg-opacity-50 w-full h-full flex justify-center items-center",onClick:()=>i(null),children:e.jsxs(x.div,{className:`${((s=v(t))==null?void 0:s.label)==="Critical"?"bg-[#FF1D1D]":((c=v(t))==null?void 0:c.label)==="Warning"?"bg-[#FF9831]":((u=v(t))==null?void 0:u.label)==="Info"?"bg-[#6471FF]":"bg-[#F4F4F6]"} p-4 rounded-xl w-full h-[80%]`,style:{margin:"50px"},onClick:r=>r.stopPropagation(),layoutId:t==null?void 0:t._id,children:[e.jsxs(x.div,{className:"flex justify-between items-start",children:[" ",e.jsxs(x.div,{className:"rounded-xl flex flex-col items-start justify-start",children:[e.jsx(x.h2,{className:`leading-none font-semibold ${l.bodyColor} opacity-70`,children:"Room Number"}),e.jsx(x.h5,{className:`text-4xl font-bold leading-none ${l.textColor}`,children:t==null?void 0:t.room_name})]}),e.jsx(x.button,{className:"p-2 bg-black/5  hover:bg-black/10 rounded-full",onClick:()=>i(null),children:e.jsx(q,{size:24,className:l.textColor})})]}),e.jsxs(x.div,{className:"flex gap-4 h-[84%] items-center mt-2",children:[e.jsx(x.div,{className:"h-full w-[35%] rounded-xl pt-2",children:e.jsxs("div",{id:"elderly-profile",className:"flex flex-col gap-2 items-center",children:[e.jsx("div",{id:"image",className:"relative rounded-full h-[80px] w-[80px]",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.alertStatus!=="normal"&&e.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full ${t.alertStatus==="critical"?"bg-red-50":t.alertStatus==="warning"?"bg-orange-50":t.alertStatus==="normal"?"bg-none":"bg-blue-50"} opacity-75`}),e.jsx("span",{className:`relative rounded-full h-[80px] w-[80px] ${t.alertStatus==="critical"?"bg-red-500 border-red-500":t.alertStatus==="warning"?"bg-orange-500 border-orange-500":t.alertStatus==="normal"?"bg-green-500 border-green-500 !border-0":"bg-blue-500 border-blue-500"} flex items-center justify-center overflow-hidden border-0`,children:e.jsx("img",{className:"w-full h-full object-cover overflow-hidden",src:"https://www.shutterstock.com/image-photo/elderly-hispanic-man-grey-hair-260nw-2511514837.jpg",alt:""})})]})}),e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("h2",{className:`text-xl font-bold ${l.textColor} text-center`,children:"Elderly Name"}),e.jsxs("h2",{className:`text-base font-medium ${l.textColor} opacity-80 text-center`,children:["Age: ",e.jsx("span",{children:"75"})]})]}),e.jsx(S,{theme:{components:{Button:{defaultBg:"#ffffff !important",defaultActiveBg:"#fff",defaultHoverBg:"#fff !important"}}},children:e.jsxs(V.Button,{style:{width:"100%"},className:"w-full",menu:{items:[{label:"Call Hospital",key:"1"},{label:"Call Police",key:"2"}],onClick:()=>{console.log("clicked")}},size:"large",children:[e.jsx(W,{}),"Call 911"]})}),e.jsxs("div",{id:"liveHeartAndBreathRate",className:"flex gap-2 mt-4 w-full py-4",children:[e.jsxs("div",{id:"heartRate",className:"flex flex-col items-start justify-start w-full",children:[e.jsxs("h2",{className:`text-[27px] font-bold leading-none ${l.textColor} `,children:["67 ",e.jsx("span",{className:"text-sm",children:"bpm"})]}),e.jsx("h2",{className:`text-sm font-medium ${l.textColor} opacity-80`,children:"Heart Rate"})]}),e.jsxs("div",{id:"breathRate",className:"flex flex-col items-start justify-start w-full",children:[e.jsxs("h2",{className:`text-[27px] font-bold leading-none ${l.textColor} `,children:["25 ",e.jsx("span",{className:"text-sm",children:"bpm"})]}),e.jsx("h2",{className:`text-sm font-medium ${l.textColor} opacity-80`,children:"Breath Rate"})]})]})]})}),e.jsx(x.div,{className:"h-full w-[65%] bg-white rounded-xl flex flex-col items-center justify-center",children:"room map"})]})]})})})})]})})}const B=[{roomNumber:"101",alertStatus:"normal"},{roomNumber:"102",alertStatus:"normal"},{roomNumber:"103",alertStatus:"normal"},{roomNumber:"104",alertStatus:"normal"},{roomNumber:"105",alertStatus:"normal"},{roomNumber:"106",alertStatus:"normal"},{roomNumber:"107",alertStatus:"normal"},{roomNumber:"108",alertStatus:"normal"},{roomNumber:"109",alertStatus:"normal"},{roomNumber:"110",alertStatus:"normal"},{roomNumber:"111",alertStatus:"normal"},{roomNumber:"112",alertStatus:"normal"},{roomNumber:"113",alertStatus:"normal"},{roomNumber:"114",alertStatus:"normal"},{roomNumber:"115",alertStatus:"normal"},{roomNumber:"116",alertStatus:"normal"},{roomNumber:"117",alertStatus:"normal"},{roomNumber:"118",alertStatus:"normal"},{roomNumber:"119",alertStatus:"normal"},{roomNumber:"120",alertStatus:"normal"},{roomNumber:"121",alertStatus:"normal"},{roomNumber:"122",alertStatus:"normal"},{roomNumber:"123",alertStatus:"normal"},{roomNumber:"124",alertStatus:"normal"},{roomNumber:"125",alertStatus:"normal"},{roomNumber:"126",alertStatus:"normal"},{roomNumber:"127",alertStatus:"normal"},{roomNumber:"128",alertStatus:"normal"},{roomNumber:"129",alertStatus:"normal"},{roomNumber:"130",alertStatus:"normal"},{roomNumber:"131",alertStatus:"normal"},{roomNumber:"132",alertStatus:"normal"},{roomNumber:"133",alertStatus:"normal"},{roomNumber:"134",alertStatus:"normal"},{roomNumber:"135",alertStatus:"normal"},{roomNumber:"136",alertStatus:"normal"},{roomNumber:"137",alertStatus:"normal"},{roomNumber:"138",alertStatus:"normal"},{roomNumber:"139",alertStatus:"normal"},{roomNumber:"140",alertStatus:"normal"},{roomNumber:"141",alertStatus:"normal"},{roomNumber:"142",alertStatus:"normal"},{roomNumber:"143",alertStatus:"normal"},{roomNumber:"144",alertStatus:"normal"},{roomNumber:"145",alertStatus:"normal"},{roomNumber:"146",alertStatus:"normal"},{roomNumber:"147",alertStatus:"normal"},{roomNumber:"148",alertStatus:"normal"},{roomNumber:"149",alertStatus:"normal"},{roomNumber:"150",alertStatus:"normal"},{roomNumber:"151",alertStatus:"normal"},{roomNumber:"152",alertStatus:"normal"},{roomNumber:"153",alertStatus:"normal"},{roomNumber:"154",alertStatus:"normal"},{roomNumber:"155",alertStatus:"normal"},{roomNumber:"156",alertStatus:"normal"},{roomNumber:"157",alertStatus:"normal"},{roomNumber:"158",alertStatus:"normal"},{roomNumber:"159",alertStatus:"normal"},{roomNumber:"160",alertStatus:"normal"},{roomNumber:"161",alertStatus:"normal"},{roomNumber:"162",alertStatus:"normal"},{roomNumber:"163",alertStatus:"normal"},{roomNumber:"164",alertStatus:"normal"},{roomNumber:"165",alertStatus:"normal"},{roomNumber:"166",alertStatus:"normal"},{roomNumber:"167",alertStatus:"normal"},{roomNumber:"168",alertStatus:"normal"},{roomNumber:"169",alertStatus:"normal"},{roomNumber:"170",alertStatus:"normal"}];for(let t=0;t<8;t++){const i=Math.floor(Math.random()*B.length),l=["critical","warning","problem"],n=l[Math.floor(Math.random()*l.length)];B[i].alertStatus=n}const{RangePicker:xe}=oe;function Ke(){var u,r,m;o.useState("Map View");const[t,i]=o.useState(!1),[l,n]=o.useState([]),f=E("activeAlert"),p=E("recentlyClosedAlert"),h=E("events");function s(a){console.log(a)}const c=(a,g)=>{n(a?[g._id]:[])};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 flex-col pt-8 pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full",children:e.jsxs(S,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:[e.jsx("div",{children:e.jsx(Y,{className:"rounded-[10px]",size:"large",placeholder:"Search Anything",style:{height:"44px"}})}),e.jsxs("div",{className:"flex gap-4 mb-2",children:[e.jsx(re,{style:{borderRadius:"10px"},handleChange:a=>console.log(a)}),e.jsx(xe,{showTime:!1,style:{width:"200px",borderRadius:"10px"},size:"large",placeholder:["Pick Data Range (Start)","End"],format:"YYYY-MM-DD",onChange:(a,g)=>{s(g)}}),e.jsx(D,{disabled:!1,onClick:()=>{},type:"text",children:"Download Report"})]})]})}),e.jsx("div",{className:"w-full",children:e.jsx(G,{})}),e.jsxs("div",{className:"w-full flex gap-4 md:flex-row flex-col",children:[e.jsx("div",{className:"w-full  p-0 ",children:e.jsxs("div",{className:"bg-white  rounded-2xl  p-6 h-[600px] flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-center mb-5",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Room View"})}),e.jsx("div",{className:"w-full h-full overflow-y-auto rounded-xl",children:e.jsx(fe,{})})]})}),e.jsxs("div",{className:"bg-white w-full md:w-[48%] rounded-2xl p-6 h-[600px] overflow-hidden",children:[e.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Alerts Overview"}),e.jsx("div",{id:"chartController",className:"flex gap-4",children:e.jsx(S,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsx(U,{handleChange:a=>console.log(a)})})})]}),e.jsx("div",{className:"w-full h-full",children:e.jsx(J,{})})]})]}),e.jsxs("div",{id:"Active_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Active_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Active Alerts"}),e.jsx("div",{children:e.jsx(S,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}},children:e.jsx($,{options:L,onChange:a=>console.log(a)})})})]}),e.jsx("div",{id:"Active_Alerts_Table",className:"w-full",children:e.jsx(R.Provider,{value:{total:(u=M)==null?void 0:u.length,page:1,limit:6,SetPage:()=>{}},children:e.jsx(k,{pageSize:6,tableData:M,columns:f})})})]}),e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Recently Closed Alerts"}),e.jsx("div",{children:e.jsx(S,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}},children:e.jsx($,{options:L,onChange:a=>console.log(a)})})})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(R.Provider,{value:{total:(r=_)==null?void 0:r.length,page:1,limit:6,SetPage:()=>{}},children:e.jsx(k,{pageSize:6,tableData:_,columns:p})})})]}),e.jsxs("div",{id:"Events",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Events_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Events"}),e.jsx("div",{children:e.jsxs(D,{onClick:()=>i(!0),className:" hidden lg:flex min-w-[80px] gap-2",children:[e.jsx(O,{})," Add New Event"]})})]}),e.jsx("div",{id:"Events_Table",className:"w-full",children:e.jsx(R.Provider,{value:{total:(m=M)==null?void 0:m.length,page:1,limit:6,SetPage:()=>{}},children:e.jsx(k,{pageSize:6,tableData:Q,columns:h,expandable:{expandedRowRender:a=>e.jsx("div",{style:{margin:"0"},className:"flex gap-14 w-full items-center justify-start px-2",children:e.jsxs("div",{className:"flex w-[50vw] items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-[16px] font-semibold",children:a.hospital.name}),e.jsxs("p",{className:"text-base",children:["Phone Number:"," ",a.hospital.phone?a.hospital.phone:"Not Available"]})]}),e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx("a",{href:`https://www.google.com/maps?q=${a.hospital.latitude},${a.hospital.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium !text-blue-500",children:"View on Google Maps"}),e.jsx(K,{size:18,className:"text-blue-500"})]})]})}),rowExpandable:a=>a.elderlyName!==null,expandedRowKeys:l,onExpand:c}})})})]})]}),e.jsx(ae,{modalOpen:t,setModalOpen:i,type:"event"})]})}const qe=[{label:" Map View",value:"Map View",icon:e.jsx(se,{})},{label:"Room View",value:"Room View",icon:e.jsx(ne,{})}],L=[{label:"All Alerts",value:"All Alerts"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Informational",value:"Informational"}];export{L as activeAlertSegmentOptions,qe as alertViewSegmentOptions,Ke as default};
