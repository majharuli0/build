const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OverviewTab-CllJIvJF.js","assets/index-gXk-EDDa.js","assets/index-tEhxhOcM.css","assets/CustomMultiSelector-BYZPFf5s.js","assets/HomeOutlined-CT2Kmx8r.js","assets/InfoCircleOutlined-Cw1Vjh10.js","assets/Popup-DHtFnjT0.js","assets/HealthConditionModal-DYHZcfPc.js","assets/TimelineGraph-BeIOJl5E.js","assets/SkeletonSleepingTimeline-xGJPlIzD.js","assets/get-up-wt28XWCu.js","assets/ReportsTab-B2zd78PV.js","assets/DurationStatistic-CH3zE-84.js","assets/mockData-tUN4m471.js","assets/barChart-hf3duAol.js","assets/Template-C_BLqtRP.js","assets/WeeklyMonthlyPicker-_NoXYc_T.js","assets/Template-D_YXFNod.css","assets/utiles-CfuyqC2X.js","assets/DurationDistribution-BTI4u9mi.js","assets/EfficiencyStatistic-Bzdz7PU3.js","assets/DeepSleepPercentageDistribution-DguUFKDy.js","assets/DeepSleepPercentageStatistic-OLiFJdkL.js","assets/EfficiencyDistribution-D5qlr8hu.js","assets/ApneaIndexStatistic-0d5AU99R.js","assets/NumberOfBedExitStatistic-7razvx0K.js","assets/DistributionOfBedExitTimes-CfWs-5hN.js","assets/scatterChart-Cu1FbTBP.js","assets/TimeToFallAsleepStatistic-DgS7MXqi.js","assets/DistributionOfTimeToFallAsleep-BQTD0Ohk.js","assets/DistributionOfDailyRoutine-2qa3rLsF.js","assets/RespiratoryRate-EiMftvyE.js","assets/SkeletonRateChart--jQY8NEB.js","assets/index-CQuer322.js","assets/HeartRate-Dk5UWg0D.js","assets/SkeletonBarChart-BTxYJsh9.js","assets/HeartRateDistribution-yR2N1JWe.js","assets/BreathRateDistribution-DIADYEYP.js","assets/index-CeFzzHFR.js","assets/Cascader-B4TNT0bj.js","assets/Collapse-BSLSlFSM.js","assets/index-DJTwSLwN.js","assets/SleepTab-BnC4Uyj2.js","assets/HealthTab-BSW6MQSy.js","assets/EmergencyContactsTab-CXofkixr.js","assets/CreateAndEditModal-BcrgXl1_.js","assets/DevicesTab-Bw6qv-Bj.js","assets/DataAnalyzeTab-CYBbJmuo.js","assets/TrendTab-BZmluPyU.js","assets/UpOutlined-mCTzBmxW.js","assets/ActivityTab-BFu48YIV.js","assets/LiveMapTab-CFYLor27.js","assets/CommunicationTab--i50xS9j.js","assets/HealthDataTab-BqOicqOb.js","assets/AlertsHistoryTab-BvO-YuuJ.js"])))=>i.map(i=>d[i]);
import{j as o,cA as ee,r as e,cW as te,cX as s,S as oe,Q as ae,u as se,a1 as ne,y as u,cY as re,h as le,cZ as ie,aO as ce,ci as de,bM as _e,C as T,c_ as S}from"./index-gXk-EDDa.js";import{R as ue,a as pe}from"./HomeOutlined-CT2Kmx8r.js";import{R as fe,a as ye,b as me,c as be,d as ve,e as Ee,f as he}from"./PullRequestOutlined-CQi3YyMu.js";try{let l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},y=new l.Error().stack;y&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[y]="e0a02525-9f45-4dab-8e81-9eea76e33733",l._sentryDebugIdIdentifier="sentry-dbid-e0a02525-9f45-4dab-8e81-9eea76e33733")}catch{}function Re(){return o.jsx("div",{className:"h-full w-full mt-6",children:o.jsx(ee,{})})}const xe=e.lazy(()=>s(()=>import("./OverviewTab-CllJIvJF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),ge=e.lazy(()=>s(()=>import("./ReportsTab-B2zd78PV.js"),__vite__mapDeps([11,1,2,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),Ie=e.lazy(()=>s(()=>import("./SleepTab-BnC4Uyj2.js"),__vite__mapDeps([42,1,2,38,39]))),Le=e.lazy(()=>s(()=>import("./HealthTab-BSW6MQSy.js"),__vite__mapDeps([43,1,2,33]))),De=e.lazy(()=>s(()=>import("./EmergencyContactsTab-CXofkixr.js"),__vite__mapDeps([44,1,2,45,3,4,5,6]))),Te=e.lazy(()=>s(()=>import("./DevicesTab-Bw6qv-Bj.js"),__vite__mapDeps([46,1,2])));e.lazy(()=>s(()=>import("./DataAnalyzeTab-CYBbJmuo.js"),__vite__mapDeps([47,1,2,40,41])));e.lazy(()=>s(()=>import("./TrendTab-BZmluPyU.js"),__vite__mapDeps([48,1,2,49])));const Se=e.lazy(()=>s(()=>import("./ActivityTab-BFu48YIV.js"),__vite__mapDeps([50,1,2,10]))),je=e.lazy(()=>s(()=>import("./LiveMapTab-CFYLor27.js"),__vite__mapDeps([51,1,2])));e.lazy(()=>s(()=>import("./CommunicationTab--i50xS9j.js"),__vite__mapDeps([52,1,2])));const Pe=e.lazy(()=>s(()=>import("./HealthDataTab-BqOicqOb.js"),__vite__mapDeps([53,1,2,3,4,5,6,7]))),ze=e.lazy(()=>s(()=>import("./AlertsHistoryTab-BvO-YuuJ.js"),__vite__mapDeps([54,1,2]))),j=[{label:"Overview",key:"overview",icon:o.jsx(ue,{}),component:o.jsx(xe,{})},{label:"Sleep",key:"sleep",icon:o.jsx(fe,{}),component:o.jsx(Ie,{})},{label:"Wellness Insights",key:"health",icon:o.jsx(ye,{}),component:o.jsx(Le,{})},{label:"Activity",key:"activity",icon:o.jsx(me,{}),component:o.jsx(Se,{})},{label:"Live Map",key:"liveMap",icon:o.jsx(pe,{}),component:o.jsx(je,{})},{label:"Personal Records",key:"healthData",icon:o.jsx(be,{}),component:o.jsx(Pe,{})},{label:"Trusted Contacts",key:"emergencyContacts",icon:o.jsx(ve,{}),component:o.jsx(De,{})},{label:"Activity History",key:"alertHistory",icon:o.jsx(Ee,{}),component:o.jsx(ze,{})},{label:"Devices",key:"devices",icon:o.jsx(he,{}),component:o.jsx(Te,{})},{label:"Reports",key:"reports",icon:o.jsx(te,{}),component:o.jsx(ge,{})}];e.lazy(()=>s(()=>import("./OverviewTab-CllJIvJF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])));e.lazy(()=>s(()=>import("./ReportsTab-B2zd78PV.js"),__vite__mapDeps([11,1,2,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41])));e.lazy(()=>s(()=>import("./SleepTab-BnC4Uyj2.js"),__vite__mapDeps([42,1,2,38,39])));e.lazy(()=>s(()=>import("./HealthTab-BSW6MQSy.js"),__vite__mapDeps([43,1,2,33])));e.lazy(()=>s(()=>import("./EmergencyContactsTab-CXofkixr.js"),__vite__mapDeps([44,1,2,45,3,4,5,6])));e.lazy(()=>s(()=>import("./DevicesTab-Bw6qv-Bj.js"),__vite__mapDeps([46,1,2])));e.lazy(()=>s(()=>import("./DataAnalyzeTab-CYBbJmuo.js"),__vite__mapDeps([47,1,2,40,41])));e.lazy(()=>s(()=>import("./TrendTab-BZmluPyU.js"),__vite__mapDeps([48,1,2,49])));e.lazy(()=>s(()=>import("./ActivityTab-BFu48YIV.js"),__vite__mapDeps([50,1,2,10])));e.lazy(()=>s(()=>import("./LiveMapTab-CFYLor27.js"),__vite__mapDeps([51,1,2])));e.lazy(()=>s(()=>import("./CommunicationTab--i50xS9j.js"),__vite__mapDeps([52,1,2])));e.lazy(()=>s(()=>import("./HealthDataTab-BqOicqOb.js"),__vite__mapDeps([53,1,2,3,4,5,6,7])));e.lazy(()=>s(()=>import("./AlertsHistoryTab-BvO-YuuJ.js"),__vite__mapDeps([54,1,2])));function Ue(){const{dailyRepDate:l,setModalDataList:y}=e.useContext(oe),[E,P]=e.useState({}),[z,A]=e.useState([]),[Ae,Oe]=e.useState("small"),_=ae(),O=se(),f=ne(),[ke,we]=e.useState(!1),k=e.useMemo(()=>j,[]),[Ve,w]=e.useState({}),[Me,Ce]=e.useState(()=>{const t=u.get("seenTours");return t||{}}),V=e.useMemo(()=>new URLSearchParams(_.search),[_.search]).get("tab")||"overview",[i,h]=e.useState(V),[$e,Ne]=e.useState({}),[M,p]=e.useState(!0),[C,F]=e.useState({});e.useRef(null);const $=e.useCallback(t=>{w(a=>a!==t?t:a);const n={};Object.keys(t).forEach(a=>{if(a.startsWith("tab_")&&t[a].current){const d=a.split("_")[1];n[d]=!0}}),F(a=>{const d={...a,...n};return JSON.stringify(d)!==JSON.stringify(a)?d:a})},[]);e.useRef(_.pathname),e.useLayoutEffect(()=>{u.set("activeElderlyTab",i),O(`${_.pathname}?tab=${i}`,{replace:!0})},[i]),e.useEffect(()=>{const n=new URLSearchParams(_.search).get("tab");n&&n!==i&&h(n)},[_.search]);const R=e.useCallback(()=>{document.querySelectorAll(".echarts").forEach(n=>{n&&n.echartsInstance&&n.echartsInstance.resize()})},[]);e.useLayoutEffect(()=>{const t=()=>R();return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[R]);const m=e.useCallback(()=>{re({id:f.id}).then(t=>{var a,d,g,I,L,D;const n={...t==null?void 0:t.data,deviceId:((d=(a=t==null?void 0:t.data)==null?void 0:a.rooms)==null?void 0:d.length)>0?t.data.rooms.filter(r=>r.device_no).map(r=>r.device_no).join(","):"",bedRoomIds:((I=(g=t==null?void 0:t.data)==null?void 0:g.rooms)==null?void 0:I.length)>0?t.data.rooms.filter(r=>r.device_no&&r.room_type==2).map(r=>r.device_no).join(","):""};P(n),u.set("elderly_details",n),N({uids:((D=(L=t==null?void 0:t.data)==null?void 0:L.rooms)==null?void 0:D.length)>0?t.data.rooms.filter(r=>r.device_no&&r.room_type==2).map(r=>r.device_no).join(","):"",to_date:le().subtract(1,"day").format("YYYY-MM-DD")})}).catch(t=>{console.log("error ==================>",t),p(!1)})},[l,f.id]);e.useEffect(()=>{u.set("elderly_details",[]),u.set("sleepData",[]),p(!0),m()},[m]);function N({uids:t,to_date:n}){p(!0),ie({uids:t,elderly_id:f.id,to_date:l||n}).then(a=>{A(a==null?void 0:a.data),u.set("sleepData",a==null?void 0:a.data),p(!1)}).catch(a=>{console.log("error ==================>",a),p(!1)})}const c=e.useRef(null),[x,b]=e.useState(!1),[H,W]=e.useState(0),[q,U]=e.useState(0),[X,B]=e.useState(!1),[Y,J]=e.useState(!0),K=t=>{t.button===0&&(b(!0),W(t.pageX-c.current.offsetLeft),U(c.current.scrollLeft))},Q=t=>{if(!x)return;t.preventDefault();const a=(t.pageX-c.current.offsetLeft-H)*.8;c.current.scrollLeft=q-a,requestAnimationFrame(v)},Z=()=>b(!1),G=()=>b(!1),v=()=>{if(!c.current)return;const{scrollLeft:t,scrollWidth:n,clientWidth:a}=c.current;B(t>0),J(t+a<n)};return e.useEffect(()=>{v()},[j]),e.useEffect(()=>{},[C[i],i]),o.jsx("div",{id:"elderly-profile-tabs",className:"rounded-2xl mt-8 relative",children:o.jsx(ce,{onRefsUpdate:$,children:o.jsx(de,{deviceId:E.deviceId,children:o.jsxs(_e.Provider,{value:{sleepData:z,sleepDataLoading:M,elderlyDetails:E,getElderlyDetails:m},children:[o.jsxs(T,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67"}},children:[X&&o.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"30px",background:"linear-gradient(to right, white, rgba(255,255,255,0))",zIndex:1,pointerEvents:"none",borderRadius:"14px",height:"60px"}}),Y&&o.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"30px",background:"linear-gradient(to left, white, rgba(255,255,255,0))",zIndex:1,pointerEvents:"none",borderRadius:"14px",height:"60px"}}),o.jsx(S,{activeKey:i,onChange:h,size:"large",className:"mb-4",tabBarStyle:{borderBottom:"none"},destroyInactiveTabPane:!0,renderTabBar:(t,n)=>o.jsxs("div",{className:"tabs-drag-container",ref:c,onMouseDown:K,onMouseMove:Q,onMouseUp:Z,onMouseLeave:G,onScroll:v,style:{overflowX:"auto",borderRadius:"14px",whiteSpace:"nowrap",cursor:x?"grabbing":"grab",display:"flex",scrollbarWidth:"none",msOverflowStyle:"none",userSelect:"none"},children:[o.jsx("style",{children:`
              .tabs-drag-container::-webkit-scrollbar {
                display: none;
              }
            `}),o.jsx(n,{...t})]}),children:k.map(t=>o.jsx(S.TabPane,{tab:o.jsxs("span",{className:"flex items-center gap-2 !border-none",children:[t.icon,t.label]}),children:o.jsx(e.Suspense,{fallback:o.jsx(Re,{}),children:i===t.key?t.component:null})},t.key))})]}),o.jsx(T,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#252F67",colorLinkActive:"#252F67",colorLinkHover:"#252F67",colorLink:"#252F67",primaryColor:"#252F67"}}})]})})})},f.id)}export{Ue as default};
//# sourceMappingURL=ElderlyProfile-C3UTlOXM.js.map
