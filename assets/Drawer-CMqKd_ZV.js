import{r as a,es as Re,eV as Ee,dY as K,s as A,fE as se,cz as Ne,cB as ce,dI as de,cA as u,cw as fe,eG as ie,ex as ve,eF as Se}from"./index-CUtwfRLE.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d15d56f1-03fb-4e3c-a19e-230c7bbb7d8a",e._sentryDebugIdIdentifier="sentry-dbid-d15d56f1-03fb-4e3c-a19e-230c7bbb7d8a")}catch{}var me=a.createContext(null),Ce=a.createContext({}),De=["prefixCls","className","containerRef"],Me=function(n){var f=n.prefixCls,y=n.className,v=n.containerRef,s=Re(n,De),i=a.useContext(Ce),d=i.panel,k=Ee(d,v);return a.createElement("div",K({className:A("".concat(f,"-content"),y),role:"dialog",ref:k},se(n,{aria:!0}),{"aria-modal":"true"},s))};function ye(e){return typeof e=="string"&&String(Number(e))===e?(Ne(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var he={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Pe(e,n){var f,y,v,s=e.prefixCls,i=e.open,d=e.placement,k=e.inline,N=e.push,L=e.forceRender,B=e.autoFocus,F=e.keyboard,c=e.classNames,$=e.rootClassName,p=e.rootStyle,S=e.zIndex,V=e.className,T=e.id,z=e.style,h=e.motion,Y=e.width,j=e.height,W=e.children,X=e.mask,G=e.maskClosable,q=e.maskMotion,J=e.maskClassName,H=e.maskStyle,D=e.afterOpenChange,w=e.onClose,M=e.onMouseEnter,Q=e.onMouseOver,Z=e.onMouseLeave,U=e.onClick,ee=e.onKeyDown,ae=e.onKeyUp,r=e.styles,P=e.drawerRender,m=a.useRef(),O=a.useRef(),_=a.useRef();a.useImperativeHandle(n,function(){return m.current});var ne=function(l){var x=l.keyCode,R=l.shiftKey;switch(x){case ie.TAB:{if(x===ie.TAB){if(!R&&document.activeElement===_.current){var E;(E=O.current)===null||E===void 0||E.focus({preventScroll:!0})}else if(R&&document.activeElement===O.current){var le;(le=_.current)===null||le===void 0||le.focus({preventScroll:!0})}}break}case ie.ESC:{w&&F&&(l.stopPropagation(),w(l));break}}};a.useEffect(function(){if(i&&B){var t;(t=m.current)===null||t===void 0||t.focus({preventScroll:!0})}},[i]);var te=a.useState(!1),oe=ce(te,2),I=oe[0],g=oe[1],o=a.useContext(me),re;typeof N=="boolean"?re=N?{}:{distance:0}:re=N||{};var C=(f=(y=(v=re)===null||v===void 0?void 0:v.distance)!==null&&y!==void 0?y:o==null?void 0:o.pushDistance)!==null&&f!==void 0?f:180,be=a.useMemo(function(){return{pushDistance:C,push:function(){g(!0)},pull:function(){g(!1)}}},[C]);a.useEffect(function(){if(i){var t;o==null||(t=o.push)===null||t===void 0||t.call(o)}else{var l;o==null||(l=o.pull)===null||l===void 0||l.call(o)}},[i]),a.useEffect(function(){return function(){var t;o==null||(t=o.pull)===null||t===void 0||t.call(o)}},[]);var ke=X&&a.createElement(de,K({key:"mask"},q,{visible:i}),function(t,l){var x=t.className,R=t.style;return a.createElement("div",{className:A("".concat(s,"-mask"),x,c==null?void 0:c.mask,J),style:u(u(u({},R),H),r==null?void 0:r.mask),onClick:G&&i?w:void 0,ref:l})}),we=typeof h=="function"?h(d):h,b={};if(I&&C)switch(d){case"top":b.transform="translateY(".concat(C,"px)");break;case"bottom":b.transform="translateY(".concat(-C,"px)");break;case"left":b.transform="translateX(".concat(C,"px)");break;default:b.transform="translateX(".concat(-C,"px)");break}d==="left"||d==="right"?b.width=ye(Y):b.height=ye(j);var ge={onMouseEnter:M,onMouseOver:Q,onMouseLeave:Z,onClick:U,onKeyDown:ee,onKeyUp:ae},xe=a.createElement(de,K({key:"panel"},we,{visible:i,forceRender:L,onVisibleChanged:function(l){D==null||D(l)},removeOnLeave:!1,leavedClassName:"".concat(s,"-content-wrapper-hidden")}),function(t,l){var x=t.className,R=t.style,E=a.createElement(Me,K({id:T,containerRef:l,prefixCls:s,className:A(V,c==null?void 0:c.content),style:u(u({},z),r==null?void 0:r.content)},se(e,{aria:!0}),ge),W);return a.createElement("div",K({className:A("".concat(s,"-content-wrapper"),c==null?void 0:c.wrapper,x),style:u(u(u({},b),R),r==null?void 0:r.wrapper)},se(e,{data:!0})),P?P(E):E)}),ue=u({},p);return S&&(ue.zIndex=S),a.createElement(me.Provider,{value:be},a.createElement("div",{className:A(s,"".concat(s,"-").concat(d),$,fe(fe({},"".concat(s,"-open"),i),"".concat(s,"-inline"),k)),style:ue,tabIndex:-1,ref:m,onKeyDown:ne},ke,a.createElement("div",{tabIndex:0,ref:O,style:he,"aria-hidden":"true","data-sentinel":"start"}),xe,a.createElement("div",{tabIndex:0,ref:_,style:he,"aria-hidden":"true","data-sentinel":"end"})))}var Oe=a.forwardRef(Pe),Ie=function(n){var f=n.open,y=f===void 0?!1:f,v=n.prefixCls,s=v===void 0?"rc-drawer":v,i=n.placement,d=i===void 0?"right":i,k=n.autoFocus,N=k===void 0?!0:k,L=n.keyboard,B=L===void 0?!0:L,F=n.width,c=F===void 0?378:F,$=n.mask,p=$===void 0?!0:$,S=n.maskClosable,V=S===void 0?!0:S,T=n.getContainer,z=n.forceRender,h=n.afterOpenChange,Y=n.destroyOnClose,j=n.onMouseEnter,W=n.onMouseOver,X=n.onMouseLeave,G=n.onClick,q=n.onKeyDown,J=n.onKeyUp,H=n.panelRef,D=a.useState(!1),w=ce(D,2),M=w[0],Q=w[1],Z=a.useState(!1),U=ce(Z,2),ee=U[0],ae=U[1];ve(function(){ae(!0)},[]);var r=ee?y:!1,P=a.useRef(),m=a.useRef();ve(function(){r&&(m.current=document.activeElement)},[r]);var O=function(I){var g;if(Q(I),h==null||h(I),!I&&m.current&&!((g=P.current)!==null&&g!==void 0&&g.contains(m.current))){var o;(o=m.current)===null||o===void 0||o.focus({preventScroll:!0})}},_=a.useMemo(function(){return{panel:H}},[H]);if(!z&&!M&&!r&&Y)return null;var ne={onMouseEnter:j,onMouseOver:W,onMouseLeave:X,onClick:G,onKeyDown:q,onKeyUp:J},te=u(u({},n),{},{open:r,prefixCls:s,placement:d,autoFocus:N,keyboard:B,width:c,mask:p,maskClosable:V,inline:T===!1,afterOpenChange:O,ref:P},ne);return a.createElement(Ce.Provider,{value:_},a.createElement(Se,{open:r||z||M,autoDestroy:!1,getContainer:T,autoLock:p&&(r||M)},a.createElement(Oe,te)))};export{Ie as D};
//# sourceMappingURL=Drawer-CMqKd_ZV.js.map
