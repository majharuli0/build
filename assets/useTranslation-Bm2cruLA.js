import{r as l,gM as A,gN as M,gO as k}from"./index-CdIyhPfI.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f85774a4-f759-4713-9722-30a508ffbe5e",e._sentryDebugIdIdentifier="sentry-dbid-f85774a4-f759-4713-9722-30a508ffbe5e")}catch{}const F=(e,n,s,i)=>{var t,f,y,u;const o=[s,{code:n,...i||{}}];if((f=(t=e==null?void 0:e.services)==null?void 0:t.logger)!=null&&f.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);g(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(u=(y=e==null?void 0:e.services)==null?void 0:y.logger)!=null&&u.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},I={},T=(e,n,s,i)=>{g(s)&&I[s]||(g(s)&&(I[s]=new Date),F(e,n,s,i))},L=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},w=(e,n,s)=>{e.loadNamespaces(n,L(e,s))},E=(e,n,s,i)=>{if(g(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return w(e,s,i);s.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(n,L(e,i))},P=(e,n,s={})=>!n.languages||!n.languages.length?(T(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:s.lng,precheck:(i,o)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}),g=e=>typeof e=="string",U=e=>typeof e=="object"&&e!==null,j=l.createContext();class D{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const G=(e,n)=>g(n)?n:U(n)&&g(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,W={t:G,ready:!1},X=()=>()=>{},$=(e,n={})=>{var N,C;const{i18n:s}=n,{i18n:i,defaultNS:o}=l.useContext(j)||{},t=s||i||A();t&&!t.reportNamespaces&&(t.reportNamespaces=new D),t||T(t,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const f=l.useMemo(()=>{var a;return{...M(),...(a=t==null?void 0:t.options)==null?void 0:a.react,...n}},[t,n]),{useSuspense:y,keyPrefix:u}=f,c=l.useMemo(()=>{var r;const a=o||((r=t==null?void 0:t.options)==null?void 0:r.defaultNS);return g(a)?[a]:a||["translation"]},[e,o,t]);(C=(N=t==null?void 0:t.reportNamespaces)==null?void 0:N.addUsedNamespaces)==null||C.call(N,c);const O=l.useCallback(a=>{if(!t)return X;const{bindI18n:r,bindI18nStore:d}=f;return r&&t.on(r,a),d&&t.store.on(d,a),()=>{r&&r.split(" ").forEach(m=>t.off(m,a)),d&&d.split(" ").forEach(m=>t.store.off(m,a))}},[t,f]),x=l.useRef(),S=l.useCallback(()=>{if(!t)return W;const a=!!(t.isInitialized||t.initializedStoreOnce)&&c.every(z=>P(z,t,f)),r=t.getFixedT(n.lng||t.language,f.nsMode==="fallback"?c:c[0],u),d=x.current;if(d&&d.ready===a&&d.lng===(n.lng||t.language)&&d.keyPrefix===u)return d;const m={t:r,ready:a,lng:n.lng||t.language,keyPrefix:u};return x.current=m,m},[t,c,u,f,n.lng]),[R,_]=l.useState(0),{t:p,ready:h}=k.useSyncExternalStore(O,S,S);l.useEffect(()=>{if(t&&!h&&!y){const a=()=>_(r=>r+1);n.lng?E(t,n.lng,c,a):w(t,c,a)}},[t,n.lng,c,h,y,R]);const b=t||{},v=l.useMemo(()=>{const a=[p,b,h];return a.t=p,a.i18n=b,a.ready=h,a},[p,b,h]);if(t&&y&&!h)throw new Promise(a=>{const r=()=>a();n.lng?E(t,n.lng,c,r):w(t,c,r)});return v};export{$ as u};
//# sourceMappingURL=useTranslation-Bm2cruLA.js.map
