import{u as h,r,j as s,bp as f,B as j,a0 as v,a3 as y,a6 as b,aN as E}from"./index-xg-tzkqX.js";import{E as N}from"./Elderly-CUwGCxQf.js";import"./mock-Ca00xd0b.js";import{a as A}from"./elderly-D3ANXEtV.js";function C(o){const c=h(),a=e=>{window.scrollTo(0,0),c(`/supporter/elderlies/elderly-profile/${e==null?void 0:e._id}`)},d={support_agent:["elderlyName","activeAlert","allergies","diseases","medications","viewOnMap"],nurse:["elderlyName","activeAlert","allergies","diseases","medications","viewOnMap"],end_user:["elderlyName","activeAlert","allergies","diseases","medications","viewOnMap"]},m={elderlyName:{title:"Elderly Name",render:e=>s.jsx(N,{onClick:()=>a(e),data:e})},roomName:{title:"Room Name",dataIndex:"roomName",render:e=>s.jsx("span",{children:e})},activeAlert:{title:"Active Alert",dataIndex:"unresolved_alarm_count",render:e=>s.jsx("span",{children:e})},address:{title:"Address",width:"230px",render:e=>s.jsx("span",{className:"!w-[230px] text-nowrap",children:e.address})},allergies:{title:"Allergies",render:e=>{var t;return s.jsx("span",{children:(t=e.comments)==null?void 0:t.filter(l=>l.category==="Allergy").map(l=>l.comment).join(", ")})}},diseases:{title:"Diseases",render:e=>{var t;return s.jsx("span",{children:(t=e.diseases)==null?void 0:t.map(l=>l).join(", ")})}},medications:{title:"Medications",render:e=>{var t;return s.jsx("span",{children:(t=e.medications)==null?void 0:t.map(l=>l.name).join(", ")})}},viewOnMap:{title:"View On Map",render:e=>s.jsx("span",{className:"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:`https://www.google.com/maps?q=${e.latitude},${e.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium !text-blue-500",children:"View on Map"}),s.jsx(f,{size:18,className:"text-blue-500"})]})})}},[n,u]=r.useState([]);return r.useEffect(()=>{console.log("Current role:"),console.log("Available roles:",Object.keys(d));{const e=d.support_agent.map(t=>m[t]);u(e)}},[]),n}function L(){var p;const[o,c]=r.useState(""),[a,d]=r.useState([]),[m,n]=r.useState(!1),u=C(),[e,t]=r.useState({}),l=r.useCallback(()=>{n(!0),A({...e,name:o}).then(i=>{d(i),n(!1)}).catch(i=>{console.log(i),n(!1)})},[e,o]);r.useEffect(()=>{l()},[l]);function g(i){switch(i){case"diseases":return t({diseases:!0});case"comments":return t({comments:!0});case"medications":return t({medications:!0});default:return t({})}}return s.jsx(s.Fragment,{children:s.jsxs("div",{id:"Elderlies",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6 mt-8",children:[s.jsxs("div",{id:"Elderlies_Header",className:"w-full flex justify-between",children:[s.jsx("h1",{className:"text-[24px] font-bold",children:"Elderlies"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(j,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:s.jsx(v,{size:"large",options:x,defaultValue:x[0].value,onChange:i=>g(i)})}),s.jsx(y,{search:o,setSearch:c,placeholder:"Search Elderlies"})]})]}),s.jsx(b.Provider,{value:{total:(p=a==null?void 0:a.data)==null?void 0:p.length,page:1,SetPage:()=>{}},children:s.jsx(E,{loading:m,columns:u,tableData:a==null?void 0:a.data})})]})})}const T=["All Elderlies","With Alerts","With Diseases","With Allergies","Taking Medications"],x=[{label:"All Elderlies",value:"all"},{label:"With Diseases",value:"diseases"},{label:"With Comments",value:"comments"},{label:"Taking Medications",value:"medications"}];export{L as default,T as elderlyListSegmentOptions,x as elderlyListSelectOptions};
