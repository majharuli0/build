import{r as l,gA as A,gB as k,gC as F}from"./index-CQ9tqHR6.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d7ed7f07-a423-45f2-9644-724da8c142a5",e._sentryDebugIdIdentifier="sentry-dbid-d7ed7f07-a423-45f2-9644-724da8c142a5")}catch{}const M=(e,n,s,i)=>{var t,u,y,f;const o=[s,{code:n,...i||{}}];if((u=(t=e==null?void 0:e.services)==null?void 0:t.logger)!=null&&u.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);g(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(y=e==null?void 0:e.services)==null?void 0:y.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},I={},T=(e,n,s,i)=>{g(s)&&I[s]||(g(s)&&(I[s]=new Date),M(e,n,s,i))},L=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},w=(e,n,s)=>{e.loadNamespaces(n,L(e,s))},E=(e,n,s,i)=>{if(g(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return w(e,s,i);s.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(n,L(e,i))},P=(e,n,s={})=>!n.languages||!n.languages.length?(T(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:s.lng,precheck:(i,o)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}),g=e=>typeof e=="string",U=e=>typeof e=="object"&&e!==null,j=l.createContext();class D{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const G=(e,n)=>g(n)?n:U(n)&&g(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,B={t:G,ready:!1},W=()=>()=>{},Y=(e,n={})=>{var p,S;const{i18n:s}=n,{i18n:i,defaultNS:o}=l.useContext(j)||{},t=s||i||A();t&&!t.reportNamespaces&&(t.reportNamespaces=new D),t||T(t,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=l.useMemo(()=>{var a;return{...k(),...(a=t==null?void 0:t.options)==null?void 0:a.react,...n}},[t,n]),{useSuspense:y,keyPrefix:f}=u,c=l.useMemo(()=>{var r;const a=o||((r=t==null?void 0:t.options)==null?void 0:r.defaultNS);return g(a)?[a]:a||["translation"]},[e,o,t]);(S=(p=t==null?void 0:t.reportNamespaces)==null?void 0:p.addUsedNamespaces)==null||S.call(p,c);const O=l.useCallback(a=>{if(!t)return W;const{bindI18n:r,bindI18nStore:d}=u;return r&&t.on(r,a),d&&t.store.on(d,a),()=>{r&&r.split(" ").forEach(m=>t.off(m,a)),d&&d.split(" ").forEach(m=>t.store.off(m,a))}},[t,u]),x=l.useRef(),C=l.useCallback(()=>{if(!t)return B;const a=!!(t.isInitialized||t.initializedStoreOnce)&&c.every(z=>P(z,t,u)),r=t.getFixedT(n.lng||t.language,u.nsMode==="fallback"?c:c[0],f),d=x.current;if(d&&d.ready===a&&d.lng===(n.lng||t.language)&&d.keyPrefix===f)return d;const m={t:r,ready:a,lng:n.lng||t.language,keyPrefix:f};return x.current=m,m},[t,c,f,u,n.lng]),[R,_]=l.useState(0),{t:N,ready:h}=F.useSyncExternalStore(O,C,C);l.useEffect(()=>{if(t&&!h&&!y){const a=()=>_(r=>r+1);n.lng?E(t,n.lng,c,a):w(t,c,a)}},[t,n.lng,c,h,y,R]);const b=t||{},v=l.useMemo(()=>{const a=[N,b,h];return a.t=N,a.i18n=b,a.ready=h,a},[N,b,h]);if(t&&y&&!h)throw new Promise(a=>{const r=()=>a();n.lng?E(t,n.lng,c,r):w(t,c,r)});return v};export{Y as u};
//# sourceMappingURL=useTranslation-BQVSLJlX.js.map
