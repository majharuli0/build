import{r as m,a1 as h,j as t,fy as N}from"./index-D8PVS7w1.js";import S from"./TimelineGraph-CTTQD7ep.js";import{T as _}from"./Template-CLaNCJKt.js";import{g as T}from"./index-CN7eBcWU.js";import{C as j}from"./UseCustomContext-BS80p4Y7.js";import{l as f}from"./helper-1K05DbU_.js";import"./index-DBMnPjsf.js";import"./WeeklyMonthlyPicker-BkSn2-PD.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="30381c04-0b09-4cfa-a234-adec0dfe7d4b",e._sentryDebugIdIdentifier="sentry-dbid-30381c04-0b09-4cfa-a234-adec0dfe7d4b")}catch{}function B(){const{sleepData:e,elderlyDetails:n}=m.useContext(j),[o,v]=m.useState([]),{sleepEventsType:y,sleepEventsColor:g}=m.useContext(h),b={title:"Sleep Timeline Summary",pickerTypes:["day","range"],chartType:"multibar",dataType:"duration",color:"#FF725E",icon:t.jsx(T,{}),apisProps:{endpoint:N,query:{uids:n==null?void 0:n.deviceId}}};return m.useEffect(()=>{var u;if(!e)return;const i=(u=e==null?void 0:e.statistical_data)==null?void 0:u.reduce((s,a)=>{const p=new Date(a.start_time),l=(new Date(a.end_time)-p)/(1e3*60),r=y[a.status];return s[r]||(s[r]={duration:0,color:g[r]}),s[r].duration+=l,s},{}),d=Object.entries(i||{}).map(([s,{duration:a,color:p}])=>{const c=Math.floor(a/60),l=Math.floor(a%60);return{name:s,duration:`${c}hr ${l}m`,color:p}});v([...d])},[e]),t.jsx(t.Fragment,{children:t.jsxs(_,{title:"Sleep Timeline",color:"#FF725E",icon:t.jsx(T,{}),isDataAnalysis:!1,headerClassName:"!text-2xl",summaryProps:b,children:[t.jsx(S,{statisticalData:e==null?void 0:e.statistical_data,enterBedTime:f(e==null?void 0:e.get_bed_idx),getupAfterTime:f(e==null?void 0:e.leave_bed_idx),noDataText:"No Data Detected for Today"}),t.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-center",children:[o.map((i,d)=>t.jsx(x,{time:i.duration,ItemName:i.name,color:i.color},d)),e&&(e==null?void 0:e.leave_bed_count)&&t.jsx(x,{time:(e==null?void 0:e.leave_bed_count)+"x",ItemName:"Leave bed after sleep",color:"#FF725E"})]})]})})}const x=({time:e,ItemName:n,color:o})=>t.jsxs("div",{className:"flex p-[4px] pr-4 items-center gap-2 rounded-xl  ",style:{backgroundColor:o},children:[t.jsx("span",{className:"text-[17px] p-2 py-1 font-bold bg-white rounded-[9px] text-primary",children:e}),t.jsx("span",{className:"text-[15px] font-medium text-white leading-[1.2]",children:n})]}),P=[{startTime:"2024-11-03 03:06:55",endTime:"2024-11-03 03:30:25",status:"3"},{startTime:"2024-11-03 03:30:25",endTime:"2024-11-03 03:35:22",status:"2"},{startTime:"2024-11-03 03:35:22",endTime:"2024-11-03 04:09:06",status:"1"},{startTime:"2024-11-03 04:09:06",endTime:"2024-11-03 04:39:51",status:"0"},{startTime:"2024-11-03 04:39:51",endTime:"2024-11-03 05:02:40",status:"1"},{startTime:"2024-11-03 05:02:40",endTime:"2024-11-03 05:12:35",status:"0"},{startTime:"2024-11-03 05:12:35",endTime:"2024-11-03 05:44:20",status:"1"},{startTime:"2024-11-03 05:44:20",endTime:"2024-11-03 05:54:15",status:"0"},{startTime:"2024-11-03 05:54:15",endTime:"2024-11-03 06:19:03",status:"1"},{startTime:"2024-11-03 06:19:03",endTime:"2024-11-03 06:29:58",status:"0"},{startTime:"2024-11-03 06:29:58",endTime:"2024-11-03 07:59:15",status:"1"}],$=[{ts:"2024-11-03 03:35:22",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 03:39:21",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 03:43:18",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 03:45:17",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 03:47:16",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 05:50:17",eventName:"High Breathing",eventType:11},{ts:"2024-11-03 06:58:44",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 07:02:42",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 07:04:41",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 07:49:19",eventName:"Sleep Apnea",eventType:13},{ts:"2024-11-03 07:58:15",eventName:"Sleep Apnea",eventType:13}];export{$ as alarmEvents,B as default,P as statisticalData};
//# sourceMappingURL=SleepingTimeline-DUGEb_hj.js.map
