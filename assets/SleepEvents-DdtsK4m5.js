import{r as a,S as v,b_ as g,j as n,ja as b,i9 as m,jN as _}from"./index-CVP7NtX0.js";import E from"./TimelineBar-DmLAyaBi.js";import{T as h}from"./Template-Dz8pR0yT.js";import{S as T}from"./SkeletonSleepingTimeline-B1o1OJV8.js";import"./WeeklyMonthlyPicker-CyrtU4Ju.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="b6753771-f25e-40e5-941e-5f543a5a6e08",t._sentryDebugIdIdentifier="sentry-dbid-b6753771-f25e-40e5-941e-5f543a5a6e08")}catch{}const j=({count:t,eventName:s,color:e})=>n.jsxs("div",{className:"flex p-[4px] pr-4 items-center gap-2 rounded-xl",style:{backgroundColor:e},children:[n.jsx("span",{className:"text-[17px] p-2 py-1 font-bold bg-white rounded-[9px] text-primary",children:t}),n.jsx("span",{className:"text-[15px] font-medium text-white leading-[1.2]",children:s})]});function F(){const{sleepEventsType:t,sleepEventsColor:s}=a.useContext(v),{sleepData:e,elderlyDetails:i,sleepDataLoading:p}=a.useContext(g),[u,c]=a.useState([]),f={title:"Sleep Events Summary",pickerTypes:["day","range"],chartType:"multibar_sleep_events",dataType:"time",color:"#FF725E",apisProps:{endpoint:b,query:{uids:i==null?void 0:i.bedRoomIds}}};return a.useEffect(()=>{if(e!=null&&e.alarm_events){const o=e==null?void 0:e.alarm_events.reduce((r,x)=>{const l=t[x.event_type],d=r.find(y=>y.event_name===l);return d?d.count+=1:r.push({event_name:l,count:1,color:s[l]}),r},[]);c(o)}},[e,t,s]),n.jsx(h,{title:"Sleep Events",color:"#FF725E",icon:n.jsx(_,{}),isDataAnalysis:!1,headerClassName:"!text-2xl",summaryProps:f,children:p?n.jsx(T,{}):n.jsxs(n.Fragment,{children:[n.jsx(E,{alarmEvents:e==null?void 0:e.alarm_events,enterBedTime:m(e==null?void 0:e.get_bed_idx),getupAfterTime:m(e==null?void 0:e.leave_bed_idx),noDataText:"No Data Detected for Today"}),n.jsx("div",{className:"flex flex-wrap gap-4 items-center justify-center",children:u.map((o,r)=>n.jsx(j,{count:o.count,eventName:o.event_name,color:o.color},r))})]})})}export{F as default};
//# sourceMappingURL=SleepEvents-DdtsK4m5.js.map
