import{bg as D,r as l,q as W,a$ as Y,f as J,m as U,k as Z,h as z,K as ee,ae as te,o as re,b2 as oe,x as ne,R as se,t as ie,bh as le}from"./index-B9uzjFUT.js";import{C as ce}from"./index-Dsm6Wt6w.js";function O(e){return!e||e<0?0:e>100?100:e}function M(e){let{success:t,successPercent:r}=e,o=r;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const ae=e=>{let{percent:t,success:r,successPercent:o}=e;const n=O(M({success:r,successPercent:o}));return[n,O(O(t)-n)]},ue=e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:o}=t;return[o||D.green,r||null]},_=(e,t,r)=>{var o,n,c,a;let s=-1,i=-1;if(t==="step"){const p=r.steps,d=r.strokeWidth;typeof e=="string"||typeof e>"u"?(s=e==="small"?2:14,i=d??8):typeof e=="number"?[s,i]=[e,e]:[s=14,i=8]=Array.isArray(e)?e:[e.width,e.height],s*=p}else if(t==="line"){const p=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?i=p||(e==="small"?6:8):typeof e=="number"?[s,i]=[e,e]:[s=-1,i=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[s,i]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[s,i]=[e,e]:Array.isArray(e)&&(s=(n=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&n!==void 0?n:120,i=(a=(c=e[0])!==null&&c!==void 0?c:e[1])!==null&&a!==void 0?a:120));return[s,i]},de=3,ge=e=>de/e*100,pe=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:o="round",gapPosition:n,gapDegree:c,width:a=120,type:s,children:i,success:p,size:d=a,steps:m}=e,[f,y]=_(d,"circle");let{strokeWidth:C}=e;C===void 0&&(C=Math.max(ge(f),6));const S={width:f,height:y,fontSize:f*.15+6},g=l.useMemo(()=>{if(c||c===0)return c;if(s==="dashboard")return 75},[c,s]),$=ae(e),h=n||s==="dashboard"&&"bottom"||void 0,A=Object.prototype.toString.call(e.strokeColor)==="[object Object]",I=ue({success:p,strokeColor:e.strokeColor}),x=W(`${t}-inner`,{[`${t}-circle-gradient`]:A}),b=l.createElement(ce,{steps:m,percent:m?$[1]:$,strokeWidth:C,trailWidth:C,strokeColor:m?I[1]:I,strokeLinecap:o,trailColor:r,prefixCls:t,gapDegree:g,gapPosition:h}),j=f<=20,w=l.createElement("div",{className:x,style:S},b,!j&&i);return j?l.createElement(Y,{title:i},w):w},R="--progress-line-stroke-color",F="--progress-percent",B=e=>{const t=e?"100%":"-100%";return new ee(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},fe=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},Z(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${R})`]},height:"100%",width:`calc(1 / var(${F}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${z(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:B(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:B(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},me=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},$e=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},ye=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},he=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),be=J("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=U(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[fe(r),me(r),$e(r),ye(r)]},he);var Ce=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};const Se=e=>{let t=[];return Object.keys(e).forEach(r=>{const o=parseFloat(r.replace(/%/g,""));isNaN(o)||t.push({key:o,value:e[r]})}),t=t.sort((r,o)=>r.key-o.key),t.map(r=>{let{key:o,value:n}=r;return`${n} ${o}%`}).join(", ")},ve=(e,t)=>{const{from:r=D.blue,to:o=D.blue,direction:n=t==="rtl"?"to left":"to right"}=e,c=Ce(e,["from","to","direction"]);if(Object.keys(c).length!==0){const s=Se(c),i=`linear-gradient(${n}, ${s})`;return{background:i,[R]:i}}const a=`linear-gradient(${n}, ${r}, ${o})`;return{background:a,[R]:a}},xe=e=>{const{prefixCls:t,direction:r,percent:o,size:n,strokeWidth:c,strokeColor:a,strokeLinecap:s="round",children:i,trailColor:p=null,percentPosition:d,success:m}=e,{align:f,type:y}=d,C=a&&typeof a!="string"?ve(a,r):{[R]:a,background:a},S=s==="square"||s==="butt"?0:void 0,g=n??[-1,c||(n==="small"?6:8)],[$,h]=_(g,"line",{strokeWidth:c}),A={backgroundColor:p||void 0,borderRadius:S},I=Object.assign(Object.assign({width:`${O(o)}%`,height:h,borderRadius:S},C),{[F]:O(o)/100}),x=M(e),b={width:`${O(x)}%`,height:h,borderRadius:S,backgroundColor:m==null?void 0:m.strokeColor},j={width:$<0?"100%":$},w=l.createElement("div",{className:`${t}-inner`,style:A},l.createElement("div",{className:W(`${t}-bg`,`${t}-bg-${y}`),style:I},y==="inner"&&i),x!==void 0&&l.createElement("div",{className:`${t}-success-bg`,style:b})),P=y==="outer"&&f==="start",u=y==="outer"&&f==="end";return y==="outer"&&f==="center"?l.createElement("div",{className:`${t}-layout-bottom`},w,i):l.createElement("div",{className:`${t}-outer`,style:j},P&&i,w,u&&i)},we=e=>{const{size:t,steps:r,percent:o=0,strokeWidth:n=8,strokeColor:c,trailColor:a=null,prefixCls:s,children:i}=e,p=Math.round(r*(o/100)),m=t??[t==="small"?2:14,n],[f,y]=_(m,"step",{steps:r,strokeWidth:n}),C=f/r,S=new Array(r);for(let g=0;g<r;g++){const $=Array.isArray(c)?c[g]:c;S[g]=l.createElement("div",{key:g,className:W(`${s}-steps-item`,{[`${s}-steps-item-active`]:g<=p-1}),style:{backgroundColor:g<=p-1?$:a,width:C,height:y}})}return l.createElement("div",{className:`${s}-steps-outer`},S,i)};var Pe=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};const Oe=["normal","exception","active","success"],je=l.forwardRef((e,t)=>{const{prefixCls:r,className:o,rootClassName:n,steps:c,strokeColor:a,percent:s=0,size:i="default",showInfo:p=!0,type:d="line",status:m,format:f,style:y,percentPosition:C={}}=e,S=Pe(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:g="end",type:$="outer"}=C,h=Array.isArray(a)?a[0]:a,A=typeof a=="string"||Array.isArray(a)?a:void 0,I=l.useMemo(()=>{if(h){const E=typeof h=="string"?h:Object.values(h)[0];return new te(E).isLight()}return!1},[a]),x=l.useMemo(()=>{var E,v;const k=M(e);return parseInt(k!==void 0?(E=k??0)===null||E===void 0?void 0:E.toString():(v=s??0)===null||v===void 0?void 0:v.toString(),10)},[s,e.success,e.successPercent]),b=l.useMemo(()=>!Oe.includes(m)&&x>=100?"success":m||"normal",[m,x]),{getPrefixCls:j,direction:w,progress:P}=l.useContext(re),u=j("progress",r),[G,H,K]=be(u),T=d==="line",N=T&&!c,X=l.useMemo(()=>{if(!p)return null;const E=M(e);let v;const k=f||(Q=>`${Q}%`),V=T&&I&&$==="inner";return $==="inner"||f||b!=="exception"&&b!=="success"?v=k(O(s),O(E)):b==="exception"?v=T?l.createElement(ne,null):l.createElement(se,null):b==="success"&&(v=T?l.createElement(ie,null):l.createElement(le,null)),l.createElement("span",{className:W(`${u}-text`,{[`${u}-text-bright`]:V,[`${u}-text-${g}`]:N,[`${u}-text-${$}`]:N}),title:typeof v=="string"?v:void 0},v)},[p,s,x,b,d,u,f]);let L;d==="line"?L=c?l.createElement(we,Object.assign({},e,{strokeColor:A,prefixCls:u,steps:typeof c=="object"?c.count:c}),X):l.createElement(xe,Object.assign({},e,{strokeColor:h,prefixCls:u,direction:w,percentPosition:{align:g,type:$}}),X):(d==="circle"||d==="dashboard")&&(L=l.createElement(pe,Object.assign({},e,{strokeColor:h,prefixCls:u,progressStatus:b}),X));const q=W(u,`${u}-status-${b}`,{[`${u}-${d==="dashboard"&&"circle"||d}`]:d!=="line",[`${u}-inline-circle`]:d==="circle"&&_(i,"circle")[0]<=20,[`${u}-line`]:N,[`${u}-line-align-${g}`]:N,[`${u}-line-position-${$}`]:N,[`${u}-steps`]:c,[`${u}-show-info`]:p,[`${u}-${i}`]:typeof i=="string",[`${u}-rtl`]:w==="rtl"},P==null?void 0:P.className,o,n,H,K);return G(l.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},P==null?void 0:P.style),y),className:q,role:"progressbar","aria-valuenow":x,"aria-valuemin":0,"aria-valuemax":100},oe(S,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),L))});export{je as P};
