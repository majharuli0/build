import{r as a,bk as R,bj as _,gA as w,j as e,t as C,gC as B,h1 as F}from"./index-Wh59kkdA.js";import T from"./LiveRateChart-C_whacuW.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="9b8be34a-fd25-4dd9-9def-264214a9ef16",s._sentryDebugIdIdentifier="sentry-dbid-9b8be34a-fd25-4dd9-9def-264214a9ef16")}catch{}function k(){var m,h,u;const{elderlyDetails:s,sleepData:t}=a.useContext(R),{deviceData:o}=a.useContext(_),i=s==null?void 0:s.deviceId,[j,p]=a.useState({time:[],heartRate:[],breathRate:[]}),[d,c]=a.useState(null),f=a.useRef(null),y=a.useCallback(n=>{if(f.current===n)return;f.current=n;const r=w(n);c(r);const b=new Date().toLocaleTimeString();p(g=>{let x=[...g.time],l=[...g.breathRate];if(l.length===0){const v=(Math.random()<.5,0),N=Math.max(0,r.breathingValue+v);x.push(b),l.push(N)}return x.push(b),l.push(r.breathingValue),{time:x.slice(-30),breathRate:l.slice(-30)}})},[]);return a.useEffect(()=>{if(!(i!=null&&i.length)){c(null);return}for(const n of[i]){if(!o[n])continue;const{heartBreath:r}=o[n];if(r){y(r);return}}c(null)},[o]),e.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 flex flex-col gap-6 h-auto",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:["Current Breathing Pattern",e.jsx(C,{title:"This feature functions only if the user is in the monitoring bed.",className:"cursor-pointer",children:e.jsx(B,{size:"18px"})})]}),e.jsx("div",{id:"LiveRate",className:"flex flex-col gap-1 pl-3 mb-2",children:e.jsxs("div",{className:"text-4xl font-bold flex items-center gap-2",style:{color:"#FFA54D"},children:[(d==null?void 0:d.breathingValue)??"--"," ",e.jsx("span",{className:"text-secondary/40",children:"BPM"}),e.jsx(F,{color:"#FFA54D",size:24})]})}),e.jsx(T,{data:j,color:"#FFA54D",type:"breathRate"}),e.jsx("div",{id:"footer",children:e.jsxs("div",{className:"flex justify-evenly items-center",children:[e.jsxs("div",{id:"avgRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsx("div",{className:"text-3xl text-primary font-bold",children:((m=t==null?void 0:t.breath_rate_vo)==null?void 0:m.avg)??"--"}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Avgerage"})]}),e.jsxs("div",{id:"minRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsxs("div",{className:"text-3xl text-primary font-bold",children:[" ",((h=t==null?void 0:t.breath_rate_vo)==null?void 0:h.min)??"--"]}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Minimum"})]}),e.jsxs("div",{id:"maxRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsxs("div",{className:"text-3xl text-primary font-bold",children:[" ",((u=t==null?void 0:t.breath_rate_vo)==null?void 0:u.max)??"--"]}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Maximum"})]})]})})]})}export{k as default};
//# sourceMappingURL=LiveBreathRate-DmgjP3Mx.js.map
