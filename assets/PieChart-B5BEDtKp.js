import{r as l,j as S}from"./index-3aj3A_DK.js";import{E as g}from"./index-DkLHeYwK.js";import{f as w}from"./helper-DmUrDoc-.js";function R({sleepData:r=[],sleepScore:i=""}){const o=l.useRef(null),a=e=>e.filter(t=>t.status==="0"||t.status==="1"),s=(e=>{const n=a(e).reduce((p,m)=>p+Number(m.value),0),d=Math.floor(n/60),h=n%60;return{hours:d,minutes:h}})(r),c={0:"Deep Sleep",1:"Light Sleep"},u=a(r).map(e=>({name:c[e.status],value:e.value}));l.useEffect(()=>{const e=()=>{o.current&&o.current.getEchartsInstance().resize()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const f={tooltip:{trigger:"item",formatter:e=>{const t=w(e.value);return`${e.name}: ${t} (${e.percent}%)`}},legend:{show:!0,orient:"horizontal",bottom:0,left:"center"},series:[{name:"Sleep Stages",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,data:u,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"center",formatter:()=>`{a|${i}}
{c|Total Sleep: ${s.hours}h ${s.minutes}m}`,rich:{a:{fontSize:36,fontWeight:"bold",color:"#000"},c:{fontSize:12,fontWeight:"normal",color:"#999",padding:[10,0,0,0]}}},labelLine:{show:!1}}]};return S.jsx(g,{ref:o,option:f,style:{height:380,width:"100%"}})}export{R as default};
