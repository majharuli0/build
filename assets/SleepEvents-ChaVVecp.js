import{r as a,S as b,gb as v,j as n}from"./index-BPWuOi3u.js";import y from"./TimelineBar-HaEl6qpV.js";import{h as g}from"./index-DuWhny-i.js";import{T as E}from"./Template-BsMzDRu5.js";import{p as l}from"./helper-BHyL54Ko.js";import{C as _}from"./UseCustomContext-CeH7oMUk.js";import"./index-CciIeM0C.js";import"./WeeklyMonthlyPicker-BE15bGU9.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="52425aba-beaa-4f29-973b-a0a6cb82fa71",t._sentryDebugIdIdentifier="sentry-dbid-52425aba-beaa-4f29-973b-a0a6cb82fa71")}catch{}function k(){const{sleepEventsType:t,sleepEventsColor:s}=a.useContext(b),{sleepData:e,elderlyDetails:i}=a.useContext(_),[p,c]=a.useState([]),u={title:"Sleep Events Summary",pickerTypes:["day","range"],chartType:"multibar_sleep_events",dataType:"time",color:"#FF725E",apisProps:{endpoint:v,query:{uids:i==null?void 0:i.deviceId}}};return a.useEffect(()=>{if(e!=null&&e.alarm_events){const r=e==null?void 0:e.alarm_events.reduce((o,f)=>{const m=t[f.event_type],d=o.find(x=>x.event_name===m);return d?d.count+=1:o.push({event_name:m,count:1,color:s[m]}),o},[]);c(r)}},[e]),n.jsx(n.Fragment,{children:n.jsxs(E,{title:"Sleep Events",color:"#FF725E",icon:n.jsx(g,{}),isDataAnalysis:!1,headerClassName:"!text-2xl",summaryProps:u,children:[n.jsx(y,{alarmEvents:e==null?void 0:e.alarm_events,enterBedTime:l(e==null?void 0:e.get_bed_idx),getupAfterTime:l(e==null?void 0:e.leave_bed_idx),noDataText:"No Data Detected for Today"}),n.jsx("div",{className:"flex flex-wrap gap-4 items-center justify-center ",children:p.map((r,o)=>n.jsx(h,{count:r.count,eventName:r.event_name,color:r.color},o))})]})})}const h=({count:t,eventName:s,color:e})=>n.jsxs("div",{className:"flex p-[4px] pr-4 items-center gap-2 rounded-xl",style:{backgroundColor:e},children:[n.jsx("span",{className:"text-[17px] p-2 py-1 font-bold bg-white rounded-[9px] text-primary",children:t}),n.jsx("span",{className:"text-[15px] font-medium text-white leading-[1.2]",children:s})]});export{k as default};
//# sourceMappingURL=SleepEvents-ChaVVecp.js.map
