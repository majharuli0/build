import{j as m,bq as A}from"./index-CPi8G-lc.js";import{E}from"./index-D8XprEYS.js";const S=({data:t=[]})=>{var y;const c={"Go to bed":"#1E8A8A","Fall asleep":"#7A5EBE","Wake up":"#3A81BF","Get up":"#CC8A50","Bed Exit":"#508C9B"},x=Array.from(new Set(t.flat().map(e=>e.type))),r=Object.keys(c).reduce((e,s)=>(x.includes(s)&&(e[s]=c[s]),e),{});let o=1/0,i=-1/0;const p=Object.keys(r).map(e=>({name:e,type:"scatter",data:[],itemStyle:{color:r[e]},symbolSize:15}));if(t.forEach(e=>{Array.isArray(e)?e.forEach(s=>{const{date:d,time:f,type:g}=s,n=new Date(f),a=n.getHours()+n.getMinutes()/60,l=n.getHours()>=18?0:1;o=Math.min(o,a+24*l),i=Math.max(i,a+24*l);const u=p.find(b=>b.name===g);u&&u.data.push([a+24*l,d,f])}):console.warn("Expected an array for 'day', but got:",e)}),(t==null?void 0:t.length)===0)return m.jsx("div",{className:"h-full",children:m.jsx(A,{description:"No data available to show"})});const h={title:{},legend:{show:!0,data:Object.keys(r)},tooltip:{trigger:"item",axisPointer:{type:"cross"},formatter:e=>{const s=new Date(e.data[2]);return`${e.seriesName}<br/>Date: ${e.data[1]}<br/>Time: ${s.getHours()}:${s.getMinutes().toString().padStart(2,"0")}`}},xAxis:{type:"value",min:Math.floor(o),max:Math.ceil(i),axisLabel:{formatter:e=>(e>=24?e-24:e)+":00"},splitLine:{show:!1}},yAxis:{type:"category",name:"Date",data:[...new Set((y=t==null?void 0:t.flat())==null?void 0:y.map(e=>e.date))]},series:p,dataZoom:[{type:"slider",yAxisIndex:0,start:t.length>15?90:0,end:100},{type:"inside",yAxisIndex:0,start:t.length>15?90:0,end:100}],grid:{top:"15%",bottom:"10%",left:"7%",right:"10%"}};return m.jsx(E,{option:h})};export{S as default};
