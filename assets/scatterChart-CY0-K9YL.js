import{r as b,j as f,bv as A}from"./index-B0OLlmBv.js";import{E as j}from"./index-BAWYHMAx.js";const D=({data:t=[]})=>{var u;b.useEffect(()=>{},[t]);const p={"Go to bed":"#1E8A8A","Fall asleep":"#7A5EBE","Wake up":"#3A81BF","Get up":"#CC8A50","Bed Exit":"#508C9B"},h=Array.from(new Set(t.flat().map(e=>e.type))),o=Object.keys(p).reduce((e,s)=>(h.includes(s)&&(e[s]=p[s]),e),{});let n=1/0,a=-1/0;const y=Object.keys(o).map(e=>({name:e,type:"scatter",data:[],itemStyle:{color:o[e]},symbolSize:15}));if(t.forEach(e=>{Array.isArray(e)?e.forEach(s=>{const{date:r,time:i,type:d}=s,l=new Date(i),m=l.getHours()+l.getMinutes()/60,c=l.getHours()>=18?0:1;n=Math.min(n,m+24*c),a=Math.max(a,m+24*c);const x=y.find(E=>E.name===d);x&&x.data.push([m+24*c,r])}):console.warn("Expected an array for 'day', but got:",e)}),(t==null?void 0:t.length)===0)return f.jsx("div",{className:"h-full",children:f.jsx(A,{description:"No data available to show"})});const g={title:{},legend:{show:!0,data:Object.keys(o)},tooltip:{trigger:"item",axisPointer:{type:"cross"},formatter:e=>{var r;const s=new Date((r=t==null?void 0:t.flat())==null?void 0:r.find(i=>i.type===e.seriesName&&i.date===e.data[1]).time);return`${e.seriesName}<br/>Date: ${e.data[1]}<br/>Time: ${s.getHours()}:${s.getMinutes().toString().padStart(2,"0")}`}},xAxis:{type:"value",min:Math.floor(n),max:Math.ceil(a),axisLabel:{formatter:e=>(e>=24?e-24:e)+":00"},splitLine:{show:!1}},yAxis:{type:"category",name:"Date",data:[...new Set((u=t==null?void 0:t.flat())==null?void 0:u.map(e=>e.date))]},series:y,dataZoom:[{type:"slider",yAxisIndex:0,start:t.length>15?90:0,end:100},{type:"inside",yAxisIndex:0,start:t.length>15?90:0,end:100}],grid:{top:"15%",bottom:"10%",left:"7%",right:"10%"}};return f.jsx(j,{option:g})};export{D as default};
