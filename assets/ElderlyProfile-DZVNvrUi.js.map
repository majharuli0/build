{"version":3,"mappings":"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","names":["SkeletonView","jsx","Skeleton","OverviewTab","lazy","__vitePreload","ReportsTab","SleepTab","HealthTab","EmergencyContactsTab","DevicesTab","TrendTab","ActivityTab","LiveMapTab","CommunicationTab","HealthDataTab","AlertHistoryTab","ElderlyProfile","dailyRepDate","useContext","SidebarContext","elderlyDetails","setElderlyDetails","useState","sleepData","setSleepData","size","setSize","location","useLocation","navigate","useNavigate","params","useParams","useRef","tabItems","useMemo","HomeOutlined","MoonOutlined","HeartOutlined","PullRequestOutlined","EnvironmentOutlined","LineChartOutlined","MessageOutlined","DatabaseOutlined","ContactsOutlined","AlertOutlined","MobileOutlined","FileTextOutlined","initialTab","activeTab","setActiveTab","useLayoutEffect","ls","useEffect","tab","resizeCharts","useCallback","chart","handleResize","getElderlyDetails","getDetails","res","updatedElderlyDetails","_b","_a","item","subscribesToMqtt","_d","_c","fatchSleepData","_f","_e","dayjs","error","uids","to_date","getSleepData","data","subscribeToMqtt","err","tabListRef","isDragging","setIsDragging","startX","setStartX","scrollLeft","setScrollLeft","isScrollableLeft","setIsScrollableLeft","isScrollableRight","setIsScrollableRight","handleMouseDown","handleMouseMove","walk","updateScrollIndicators","handleMouseUp","handleMouseLeave","scrollWidth","clientWidth","CustomContext","jsxs","ConfigProvider","Tabs","props","DefaultTabBar","Suspense"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Utiles/Skeleton.jsx","../../src/Pages/Elderlies/ElderlyProfile.jsx"],"sourcesContent":["import { Skeleton } from \"antd\";\r\n\r\nexport default function SkeletonView() {\r\n  return (\r\n    <div className=\"h-full w-full mt-6\">\r\n      <Skeleton />\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useState,\r\n  lazy,\r\n  Suspense,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useCallback,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\nimport { Tabs, ConfigProvider } from \"antd\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  HomeOutlined,\r\n  MoonOutlined,\r\n  HeartOutlined,\r\n  PullRequestOutlined,\r\n  BarChartOutlined,\r\n  EnvironmentOutlined,\r\n  LineChartOutlined,\r\n  MessageOutlined,\r\n  DatabaseOutlined,\r\n  AlertOutlined,\r\n  ContactsOutlined,\r\n  MobileOutlined,\r\n  FileTextOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport \"./style.css\";\r\nimport SkeletonView from \"./Utiles/Skeleton\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n// Lazy load components\r\nconst OverviewTab = lazy(() =>\r\n  import(\"./Components/TabContents/Overview/OverviewTab\")\r\n);\r\nconst ReportsTab = lazy(() =>\r\n  import(\"./Components/TabContents/Reports/ReportsTab\")\r\n);\r\nconst SleepTab = lazy(() => import(\"./Components/TabContents/Sleep/SleepTab\"));\r\nconst HealthTab = lazy(() =>\r\n  import(\"./Components/TabContents/Health/HealthTab\")\r\n);\r\nconst EmergencyContactsTab = lazy(() =>\r\n  import(\"./Components/TabContents/EmergencyContacts/EmergencyContactsTab\")\r\n);\r\nconst DevicesTab = lazy(() =>\r\n  import(\"./Components/TabContents/Devices/DevicesTab\")\r\n);\r\nconst DataAnalyzeTab = lazy(() =>\r\n  import(\"./Components/TabContents/DataAnalyze/DataAnalyzeTab\")\r\n);\r\nconst TrendTab = lazy(() => import(\"./Components/TabContents/Trends/TrendTab\"));\r\nconst ActivityTab = lazy(() =>\r\n  import(\"./Components/TabContents/Activity/ActivityTab\")\r\n);\r\nconst LiveMapTab = lazy(() =>\r\n  import(\"./Components/TabContents/LiveMap/LiveMapTab\")\r\n);\r\nconst CommunicationTab = lazy(() =>\r\n  import(\"./Components/TabContents/Communication/CommunicationTab\")\r\n);\r\nconst HealthDataTab = lazy(() =>\r\n  import(\"./Components/TabContents/HealthData/HealthDataTab\")\r\n);\r\nconst AlertHistoryTab = lazy(() =>\r\n  import(\"./Components/TabContents/Alerts/AlertsHistoryTab\")\r\n);\r\nimport ls from \"store2\";\r\nimport { getSleepData, subscribeToMqtt } from \"@/api/deviceReports\";\r\nimport { getDetails } from \"@/api/elderly\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport dayjs from \"dayjs\";\r\nexport default function ElderlyProfile() {\r\n  const { dailyRepDate } = useContext(SidebarContext);\r\n  const [elderlyDetails, setElderlyDetails] = useState({});\r\n  const [sleepData, setSleepData] = useState([]);\r\n  const [size, setSize] = useState(\"small\");\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n\r\n  const previousPathnameRef = useRef(location.pathname);\r\n  // const [sleepData, setSleepData] = useState([]);\r\n  // const elderlyDetails = ls.get(\"elderly_details\");\r\n  // Define tab items with their associated components and icons\r\n  const tabItems = useMemo(\r\n    () => [\r\n      {\r\n        label: \"Overview\",\r\n        key: \"overview\",\r\n        icon: <HomeOutlined />,\r\n        component: <OverviewTab />,\r\n      },\r\n      {\r\n        label: \"Sleep\",\r\n        key: \"sleep\",\r\n        icon: <MoonOutlined />,\r\n        component: <SleepTab />,\r\n      },\r\n      {\r\n        label: \"Wellness Insights\",\r\n        key: \"health\",\r\n        icon: <HeartOutlined />,\r\n        component: <HealthTab />,\r\n      },\r\n      {\r\n        label: \"Activity\",\r\n        key: \"activity\",\r\n        icon: <PullRequestOutlined />,\r\n        component: <ActivityTab />,\r\n      },\r\n      // {\r\n      //   label: \"Data Analyze\",\r\n      //   key: \"dataAnalyze\",\r\n      //   icon: <BarChartOutlined />,\r\n      //   component: <DataAnalyzeTab />,\r\n      // },\r\n      {\r\n        label: \"Live Map\",\r\n        key: \"liveMap\",\r\n        icon: <EnvironmentOutlined />,\r\n        component: <LiveMapTab />,\r\n      },\r\n      {\r\n        label: \"Trends\",\r\n        key: \"trends\",\r\n        icon: <LineChartOutlined />,\r\n        component: <TrendTab />,\r\n      },\r\n      {\r\n        label: \"Communication\",\r\n        key: \"communication\",\r\n        icon: <MessageOutlined />,\r\n        component: <CommunicationTab />,\r\n      },\r\n      {\r\n        label: \"Personal Records\",\r\n        key: \"healthData\",\r\n        icon: <DatabaseOutlined />,\r\n        component: <HealthDataTab />,\r\n      },\r\n      {\r\n        label: \"Trusted Contacts\",\r\n        key: \"emergencyContacts\",\r\n        icon: <ContactsOutlined />,\r\n        component: <EmergencyContactsTab />,\r\n      },\r\n      {\r\n        label: \"Notifications History\",\r\n        key: \"alertHistory\",\r\n        icon: <AlertOutlined />,\r\n        component: <AlertHistoryTab />,\r\n      },\r\n      {\r\n        label: \"Devices\",\r\n        key: \"devices\",\r\n        icon: <MobileOutlined />,\r\n        component: <DevicesTab />,\r\n      },\r\n      {\r\n        label: \"Reports\",\r\n        key: \"reports\",\r\n        icon: <FileTextOutlined />,\r\n        component: <ReportsTab />,\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  // Get the initial tab from the query parameter or default to \"overview\"\r\n  const queryParams = useMemo(\r\n    () => new URLSearchParams(location.search),\r\n    [location.search]\r\n  );\r\n  const initialTab = queryParams.get(\"tab\") || \"overview\";\r\n  const [activeTab, setActiveTab] = useState(initialTab);\r\n  // Sync URL with activeTab state\r\n  useLayoutEffect(() => {\r\n    ls.set(\"activeElderlyTab\", activeTab);\r\n    navigate(`${location.pathname}?tab=${activeTab}`, { replace: true });\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    const queryParams = new URLSearchParams(location.search);\r\n    const tab = queryParams.get(\"tab\");\r\n    if (tab && tab !== activeTab) {\r\n      setActiveTab(tab);\r\n    }\r\n  }, [location.search]);\r\n\r\n  const resizeCharts = useCallback(() => {\r\n    const charts = document.querySelectorAll(\".echarts\");\r\n    charts.forEach((chart) => {\r\n      if (chart && chart.echartsInstance) {\r\n        chart.echartsInstance.resize();\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    const handleResize = () => resizeCharts();\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [resizeCharts]);\r\n\r\n  //get elderly details\r\n  const getElderlyDetails = useCallback(() => {\r\n    getDetails({ id: params.id })\r\n      .then((res) => {\r\n        const updatedElderlyDetails = {\r\n          ...res?.data,\r\n          // deviceId: \"E598A28DB9EB\",\r\n          deviceId:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n        };\r\n\r\n        setElderlyDetails(updatedElderlyDetails);\r\n        ls.set(\"elderly_details\", updatedElderlyDetails);\r\n        subscribesToMqtt({\r\n          uids:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n        });\r\n        fatchSleepData({\r\n          uids:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n          to_date: dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error ==================>\", error);\r\n      });\r\n  }, [dailyRepDate]);\r\n  useEffect(() => {\r\n    ls.set(\"elderly_details\", []);\r\n    ls.set(\"sleepData\", []);\r\n    getElderlyDetails();\r\n  }, [getElderlyDetails]);\r\n  function fatchSleepData({ uids, to_date }) {\r\n    getSleepData({\r\n      uids: uids,\r\n      elderly_id: params.id,\r\n      to_date: dailyRepDate || to_date,\r\n    })\r\n      .then((res) => {\r\n        setSleepData(res?.data);\r\n        ls.set(\"sleepData\", res?.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error ==================>\", error);\r\n      });\r\n  }\r\n  const subscribesToMqtt = useCallback(\r\n    (data) => {\r\n      const currentPathname = location.pathname;\r\n      const isElderlyProfile = currentPathname.includes(\r\n        \"/supporter/elderlies/elderly-profile\"\r\n      );\r\n      if (isElderlyProfile) {\r\n        subscribeToMqtt({\r\n          uid: data?.uids,\r\n          messageType: [\"1\", \"2\", \"3\", \"4\"],\r\n          topics: {\r\n            pub: [data?.uids],\r\n          },\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n    [params.id]\r\n  );\r\n  const tabListRef = useRef(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [startX, setStartX] = useState(0);\r\n  const [scrollLeft, setScrollLeft] = useState(0);\r\n\r\n  const [isScrollableLeft, setIsScrollableLeft] = useState(false);\r\n  const [isScrollableRight, setIsScrollableRight] = useState(true);\r\n\r\n  const handleMouseDown = (e) => {\r\n    if (e.button !== 0) return; // Only respond to the left mouse button\r\n    setIsDragging(true);\r\n    setStartX(e.pageX - tabListRef.current.offsetLeft);\r\n    setScrollLeft(tabListRef.current.scrollLeft);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDragging) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - tabListRef.current.offsetLeft;\r\n    const walk = (x - startX) * 0.8; // Adjust multiplier for smoothness\r\n    tabListRef.current.scrollLeft = scrollLeft - walk;\r\n\r\n    // Update indicators with requestAnimationFrame for better performance\r\n    requestAnimationFrame(updateScrollIndicators);\r\n  };\r\n\r\n  const handleMouseUp = () => setIsDragging(false);\r\n  const handleMouseLeave = () => setIsDragging(false);\r\n\r\n  const updateScrollIndicators = () => {\r\n    if (!tabListRef.current) return;\r\n    const { scrollLeft, scrollWidth, clientWidth } = tabListRef.current;\r\n    setIsScrollableLeft(scrollLeft > 0);\r\n    setIsScrollableRight(scrollLeft + clientWidth < scrollWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateScrollIndicators();\r\n  }, [tabItems]);\r\n\r\n  return (\r\n    <div id=\"elderly-profile-tabs\" className=\"rounded-2xl mt-8 relative\">\r\n      <CustomContext.Provider\r\n        value={{ sleepData, elderlyDetails, getElderlyDetails }}\r\n      >\r\n        <ConfigProvider\r\n          theme={{\r\n            token: {\r\n              fontFamily: \"Baloo2\",\r\n              colorPrimary: \"#252F67\",\r\n              colorLinkActive: \"#252F67\",\r\n              colorLinkHover: \"#252F67\",\r\n              colorLink: \"#252F67\",\r\n            },\r\n          }}\r\n        >\r\n          {isScrollableLeft && (\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                left: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n                width: \"30px\",\r\n                background:\r\n                  \"linear-gradient(to right, white, rgba(255,255,255,0))\",\r\n                zIndex: 1,\r\n                pointerEvents: \"none\",\r\n                borderRadius: \"14px\",\r\n                height: \"60px\",\r\n              }}\r\n            />\r\n          )}\r\n          {isScrollableRight && (\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n                width: \"30px\",\r\n                background:\r\n                  \"linear-gradient(to left, white, rgba(255,255,255,0))\",\r\n                zIndex: 1,\r\n                pointerEvents: \"none\",\r\n                borderRadius: \"14px\",\r\n                height: \"60px\",\r\n              }}\r\n            />\r\n          )}\r\n          <Tabs\r\n            activeKey={activeTab}\r\n            onChange={setActiveTab}\r\n            size={size}\r\n            className=\"mb-4\"\r\n            tabBarStyle={{ borderBottom: \"none\" }}\r\n            animated={{ inkBar: false, tabPane: false }}\r\n            renderTabBar={(props, DefaultTabBar) => (\r\n              <div\r\n                className=\"tabs-drag-container\"\r\n                ref={tabListRef}\r\n                onMouseDown={handleMouseDown}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n                onMouseLeave={handleMouseLeave}\r\n                onScroll={updateScrollIndicators}\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  borderRadius: \"14px\",\r\n                  whiteSpace: \"nowrap\",\r\n                  cursor: isDragging ? \"grabbing\" : \"grab\",\r\n                  display: \"flex\",\r\n                  scrollbarWidth: \"none\",\r\n                  msOverflowStyle: \"none\",\r\n                  userSelect: \"none\",\r\n                }}\r\n              >\r\n                <style>\r\n                  {`\r\n                    .tabs-drag-container::-webkit-scrollbar {\r\n                      display: none;\r\n                    }\r\n                  `}\r\n                </style>\r\n                <DefaultTabBar {...props} />\r\n              </div>\r\n            )}\r\n          >\r\n            {tabItems.map((item) => (\r\n              <Tabs.TabPane\r\n                tab={\r\n                  <span className=\"flex items-center gap-2 !border-none\">\r\n                    {item.icon}\r\n                    {item.label}\r\n                  </span>\r\n                }\r\n                key={item.key}\r\n              >\r\n                <Suspense fallback={<SkeletonView />}>\r\n                  {item.component}\r\n                </Suspense>\r\n              </Tabs.TabPane>\r\n            ))}\r\n          </Tabs>\r\n        </ConfigProvider>\r\n      </CustomContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/ElderlyProfile-DZVNvrUi.js"}