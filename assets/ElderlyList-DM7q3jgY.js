import{u as g,r,j as t,aJ as h,Y as y,C as v,d as b,_ as j,a1 as w,ah as N}from"./index-CM8bo_fI.js";import{E as C}from"./Elderly-Bm06ZDej.js";try{let l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new l.Error().stack;o&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[o]="0332346a-a25e-4e40-9883-812de55e3947",l._sentryDebugIdIdentifier="sentry-dbid-0332346a-a25e-4e40-9883-812de55e3947")}catch{}function E(l){const o=g(),i=e=>{window.scrollTo(0,0),o(`/supporter/elderlies/elderly-profile/${e==null?void 0:e._id}`)},c={support_agent:["elderlyName","activeAlert","allergies","diseases","medications","viewProfile"],nurse:["elderlyName","activeAlert","allergies","diseases","medications","viewProfile"],end_user:["elderlyName","activeAlert","allergies","diseases","medications","viewProfile"]},m={elderlyName:{title:"User Name",render:e=>t.jsx(C,{onClick:()=>i(e),data:e})},roomName:{title:"Room Name",dataIndex:"roomName",render:e=>t.jsx("span",{children:e})},activeAlert:{title:"Activity Notifications",dataIndex:"unresolved_alarm_count",render:e=>t.jsx("span",{children:e})},address:{title:"Address",width:"230px",render:e=>t.jsx("span",{className:"!w-[230px] text-nowrap",children:e.address})},allergies:{title:"Environmental Sensitivities",render:e=>{var s;return t.jsx("span",{children:(s=e.comments)==null?void 0:s.filter(a=>a.category==="Allergy").map(a=>a.comment).join(", ")})}},diseases:{title:"Sensitivity Factors",render:e=>{var s;return t.jsx("span",{children:(s=e.diseases)==null?void 0:s.map(a=>a).join(", ")})}},medications:{title:"Daily Routine",render:e=>{var s;return t.jsx("span",{children:(s=e.medications)==null?void 0:s.map(a=>a.name).join(", ")})}},viewOnMap:{title:"View On Map",render:e=>t.jsx("span",{className:"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("a",{href:`https://www.google.com/maps?q=${e.latitude},${e.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium !text-blue-500",children:"View on Map"}),t.jsx(h,{size:18,className:"text-blue-500"})]})})},viewProfile:{title:"View Profile",render:e=>t.jsx("span",{className:"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("a",{onClick:()=>i(e),className:"text-base font-medium !text-blue-500",children:"View"})})})}},[d,u]=r.useState([]);return r.useEffect(()=>{console.log("Current role:"),console.log("Available roles:",Object.keys(c));{const e=c.support_agent.map(s=>m[s]);u(e)}},[]),d}function k(){var p;const[l,o]=r.useState(""),[i,c]=r.useState([]),[m,d]=r.useState(!1),u=E(),[e,s]=r.useState({}),a=r.useCallback(()=>{d(!0),y({...e,name:l}).then(n=>{c(n),d(!1)}).catch(n=>{console.log(n),d(!1)})},[e,l]);r.useEffect(()=>{a()},[a]);function f(n){switch(n){case"diseases":return s({diseases:!0});case"comments":return s({comments:!0});case"medications":return s({medications:!0});default:return s({})}}return t.jsx(t.Fragment,{children:t.jsxs("div",{id:"Elderlies",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6 mt-8",children:[t.jsxs("div",{id:"Elderlies_Header",className:"w-full flex justify-between",children:[t.jsx("h1",{className:"text-[24px] font-bold",children:"Users"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(v,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:t.jsx(b,{size:"large",options:x,defaultValue:x[0].value,onChange:n=>f(n),className:"min-w-[160px]"})}),t.jsx(j,{search:l,setSearch:o,placeholder:"Search Users"})]})]}),t.jsx(w.Provider,{value:{total:(p=i==null?void 0:i.data)==null?void 0:p.length,page:1,SetPage:()=>{}},children:t.jsx(N,{loading:m,columns:u,tableData:i==null?void 0:i.data})})]})})}const _=["All Elderlies","With Alerts","With Diseases","With Allergies","Taking Medications"],x=[{label:"All Users",value:"all"},{label:"With Sensitivity Factors",value:"diseases"},{label:"With Comments",value:"comments"},{label:"Taking Daily Routine",value:"medications"}];export{k as default,_ as elderlyListSegmentOptions,x as elderlyListSelectOptions};
//# sourceMappingURL=ElderlyList-DM7q3jgY.js.map
