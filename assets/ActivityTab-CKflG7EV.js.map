{"version":3,"mappings":";4mBAaA,SAAwBA,GAAwB,CAC9C,KAAM,CAACC,EAAcC,CAAe,EAAIC,WAAS,EAAE,EAC7C,CAACC,EAASC,CAAU,EAAIF,WAAS,EAAI,EACrBG,EAAG,IAAI,iBAAiB,EAC9C,KAAM,CAAE,eAAAC,CAAA,EAAmBC,aAAWC,CAAa,EAC7C,CAAE,aAAAC,CAAA,EAAiBF,aAAWG,CAAc,EAE5CC,EAAkBC,cAAY,IAAM,CACxCR,EAAW,EAAI,EACfS,EAAmB,CACjB,KAAMP,GAAA,YAAAA,EAAgB,SACtB,WAAYA,EAAe,IAC3B,QAASG,GAAgBK,IAAQ,SAAS,EAAG,KAAK,EAAE,OAAO,YAAY,EACxE,EACE,KAAMC,GAAQ,OACbd,GAAgBe,EAAAD,EAAI,OAAJ,YAAAC,EAAU,aAAa,EACvCZ,EAAW,EAAK,CAClB,CAAC,EACA,MAAOa,GAAQ,CACd,QAAQ,IAAIA,CAAG,EACfb,EAAW,EAAK,CAClB,CAAC,CACL,EAAG,CAACE,EAAgBG,CAAY,CAAC,EAEjCS,YAAU,IAAM,CACdP,EAAA,CACF,EAAG,CAACA,CAAe,CAAC,EAGpB,MAAMQ,EAAqB,IACzBC,MAAC,OAAI,UAAU,0EACb,SAAAC,OAAC,OAAI,UAAU,0BACb,UAAAD,MAACE,EAAS,OAAT,CAAgB,OAAM,GAAC,KAAM,GAAI,MAAM,SAAS,EAAG,IAEpDD,OAAC,OAAI,UAAU,sBACb,UAAAD,MAACE,EAAS,MAAT,CAAe,OAAM,GAAC,MAAO,CAAE,MAAO,IAAK,OAAQ,GAAG,CAAG,EAAG,IAE7DF,MAACE,EAAS,MAAT,CAAe,OAAM,GAAC,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAG,CAAG,EAAG,KAE9D,GACF,EACF,EAGF,OACEF,MAAC,OAAI,UAAU,oCACZ,SAAAjB,EAECkB,OAAAE,WAAA,CACG,UAAAJ,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,CAAmB,EACtB,EAGAE,OAAAE,WAAA,CACE,UAAAH,MAAC,OACC,GAAG,iBACH,UAAU,0EAEV,SAAAC,OAAC,OAAI,UAAU,0BACb,UAAAD,MAAC,OAAI,GAAG,OAAO,UAAU,8BACvB,SAAAA,MAACI,EAAA,CAAc,UAAU,0BAA0B,EACrD,EACAH,OAAC,OAAI,UAAU,sBACb,UAAAD,MAAC,OAAI,UAAU,0CAA0C,2BAEzD,EACAA,MAAC,OAAI,UAAU,kCACZ,oBAAc,iBACXpB,GAAA,YAAAA,EAAc,iBACd,KACN,GACF,GACF,IAGFoB,MAAC,OACC,GAAG,YACH,UAAU,0EAEV,SAAAC,OAAC,OAAI,UAAU,0BACb,UAAAD,MAAC,OAAI,GAAG,OAAO,UAAU,8BACvB,SAAAA,MAACK,EAAA,CAAkC,UAAU,0BAA0B,EACzE,EACAJ,OAAC,OAAI,UAAU,sBACb,UAAAD,MAAC,OAAI,UAAU,0CAA0C,sBAEzD,EACAA,MAAC,OAAI,UAAU,kCACZ,oBAAc,gBACXpB,GAAA,YAAAA,EAAc,gBACd,KACN,GACF,GACF,IAEFoB,MAAC,OACC,GAAG,UACH,UAAU,0EAEV,SAAAC,OAAC,OAAI,UAAU,0BACb,UAAAD,MAAC,OAAI,GAAG,OAAO,UAAU,8BACvB,SAAAA,MAACM,EAAA,CAAgB,UAAU,0BAA0B,EACvD,EACAL,OAAC,OAAI,UAAU,sBACb,UAAAD,MAAC,OAAI,UAAU,0CAA0C,mBAEzD,EACAC,OAAC,OAAI,UAAU,kCACZ,UAAArB,GAAA,MAAAA,EAAc,YAAcA,GAAA,YAAAA,EAAc,YAAc,KAAM,IAAI,SAErE,GACF,GACF,IAEFoB,MAAC,OACC,GAAG,QACH,UAAU,0EAEV,SAAAC,OAAC,OAAI,UAAU,0BACb,UAAAD,MAAC,OAAI,GAAG,OAAO,UAAU,8BACvB,SAAAA,MAACO,EAAA,CAA0B,UAAU,0BAA0B,EACjE,EACAN,OAAC,OAAI,UAAU,sBACb,UAAAD,MAAC,OAAI,UAAU,0CAA0C,iBAEzD,EACAC,OAAC,OAAI,UAAU,kCACZ,UAAArB,GAAA,MAAAA,EAAc,MAAQA,GAAA,YAAAA,EAAc,MAAQ,KAAK,UACpD,GACF,GACF,IAEFoB,MAAC,OACC,GAAG,gBACH,UAAU,0EAEV,SAAAC,OAAC,OAAI,UAAU,0BACb,UAAAD,MAAC,OAAI,GAAG,OAAO,UAAU,8BACvB,SAAAA,MAACQ,EAAA,CAAW,UAAU,0BAA0B,EAClD,EACAP,OAAC,OAAI,UAAU,sBACb,UAAAD,MAAC,OAAI,UAAU,0CAA0C,2BAEzD,EACAC,OAAC,OAAI,UAAU,kCACZ,UAAArB,GAAA,MAAAA,EAAc,iBACXA,GAAA,YAAAA,EAAc,iBACd,KAAK,KAEX,GACF,GACF,GACF,EACF,EAEJ,CAEJ,CChKO,MAAM6B,EAAcC,GAClBV,MAAC,OAAI,IAAKW,EAAY,IAAI,UAAU,MAAOD,EAAM,OAAQA,CAAA,CAAM,EAE3DE,EAAaF,GACjBV,MAAC,OAAI,IAAKa,EAAW,IAAI,SAAS,MAAOH,EAAM,OAAQA,CAAA,CAAM,EAGtE,SAAwBI,GAAqB,CAC3C,KAAM,CAAE,UAAAC,EAAW,iBAAAC,GAAqB7B,aAAWC,CAAa,EAE1D6B,EAAQ,CACZ,CACE,MAAO,cACP,MAAO,UACP,MAAOC,EAAqBH,GAAA,YAAAA,EAAW,WAAW,EAClD,KAAMf,MAACmB,EAAA,CAAW,KAAM,GAAI,MAAM,UAAU,EAC5C,QAAS,CAAE,EAAG,IAAK,EAAG,KACtB,MAAO,IAET,CACE,MAAO,cACP,MAAO,UACP,MAAOD,EAAqBH,GAAA,YAAAA,EAAW,YAAY,EACnD,KAAMf,MAACoB,EAAA,CAAa,KAAM,GAAI,MAAM,UAAU,EAC9C,QAAS,CAAE,EAAG,GAAI,EAAG,KACrB,MAAO,IAET,CACE,MAAO,UACP,MAAO,UACP,MAAOF,EAAqBH,GAAA,YAAAA,EAAW,YAAY,EACnD,KAAMN,EAAW,EAAE,EACnB,QAAS,CAAE,EAAG,IAAK,EAAG,IACtB,MAAO,IAET,CACE,MAAO,SACP,MAAO,UACP,MAAOS,EAAqBH,GAAA,YAAAA,EAAW,aAAa,EACpD,KAAMH,EAAU,EAAE,EAClB,QAAS,CAAE,EAAG,GAAI,EAAG,IACrB,MAAO,GACT,EAEI,CAAChC,EAAcC,CAAe,EAAIC,WAAS,EAAE,EAC7C,CAACC,EAASC,CAAU,EAAIF,WAAS,EAAI,EACrBG,EAAG,IAAI,iBAAiB,EAC9C,KAAM,CAAE,eAAAC,CAAA,EAAmBC,aAAWC,CAAa,EAC7C,CAAE,aAAAC,CAAA,EAAiBF,aAAWG,CAAc,EAE5CC,EAAkBC,cAAY,IAAM,CACxCR,EAAW,EAAI,EACfS,EAAmB,CACjB,KAAMP,GAAA,YAAAA,EAAgB,SACtB,WAAYA,EAAe,IAC3B,QAASG,GAAgBK,IAAQ,SAAS,EAAG,KAAK,EAAE,OAAO,YAAY,EACxE,EACE,KAAMC,GAAQ,OACbd,GAAgBe,EAAAD,EAAI,OAAJ,YAAAC,EAAU,aAAa,EACvCZ,EAAW,EAAK,CAClB,CAAC,EACA,MAAOa,GAAQ,CACd,QAAQ,IAAIA,CAAG,EACfb,EAAW,EAAK,CAClB,CAAC,CACL,EAAG,CAACE,EAAgBG,CAAY,CAAC,EAEjCS,YAAU,IAAM,CACdP,EAAA,CACF,EAAG,CAACA,CAAe,CAAC,EACpB,MAAMQ,EAAqB,IACzBE,OAAC,OAAI,UAAU,yDACb,UAAAD,MAACE,EAAS,OAAT,CAAgB,OAAM,GAAC,KAAM,GAAI,MAAM,SAAS,EACjDD,OAAC,OAAI,UAAU,kDACb,UAAAD,MAACE,EAAS,MAAT,CAAe,OAAM,GAAC,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAG,CAAG,EACzDF,MAACE,EAAS,MAAT,CAAe,OAAM,GAAC,MAAO,CAAE,MAAO,IAAK,OAAQ,GAAG,CAAG,GAC5D,GACF,EAGF,OACED,OAAC,OAAI,UAAU,sDACb,UAAAD,MAAC,MAAG,UAAU,qCAAqC,gCAEnD,EACCgB,EACCf,OAAC,OAAI,UAAU,4DACZ,UAAAF,EAAA,EACAA,EAAA,EACAA,EAAA,EACAA,EAAA,CAAmB,EACtB,EAEAE,OAAC,OAAI,UAAU,4DACb,UAAAD,MAACqB,EAAO,IAAP,CACC,UAAU,uCACV,MAAO,CACL,WACE,wDAEJ,QAAS,CAAE,OAAQ,GACnB,QAAS,CAAE,OAAQ,GACnB,WAAY,CAAE,SAAU,GAAI,GAE9BrB,MAACqB,EAAO,IAAP,CACC,UAAU,uCACV,MAAO,CACL,WACE,yDAEJ,QAAS,CAAE,OAAQ,GACnB,QAAS,CAAE,OAAQ,GACnB,WAAY,CAAE,SAAU,GAAI,GAE7BJ,EAAM,IAAI,CAACK,EAAMC,IAChBtB,OAACoB,EAAO,IAAP,CAEC,UAAU,yDACV,QAAS,CAAE,QAAS,EAAG,GAAGC,EAAK,SAC/B,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAAG,GAChC,WAAY,CAAE,SAAU,GAAK,MAAOA,EAAK,MAAO,KAAM,UAEtD,UAAAtB,MAAC,OACC,GAAG,OACH,UAAU,wDACV,MAAO,CAAE,gBAAiB,GAAGsB,EAAK,KAAK,MAEtC,SAAAA,EAAK,OAERrB,OAAC,OAAI,UAAU,4CACb,UAAAD,MAAC,OAAI,UAAU,kCACZ,SAAAsB,EAAK,MACR,EACAtB,MAAC,OAAI,UAAU,mCACZ,WAAK,MACR,GACF,IApBKuB,CAAA,CAsBR,GACH,GAEJ,CAEJ,CC5JA,MAAMC,EAA2BC,OAAK,IAAAC,EAAA,IACpC,OAAO,wCAAuC,uCAChD,EAKmCD,OAAK,IAAAC,EAAA,IACtC,OAAO,0CAAyC,2CAClD,EACA,MAAMC,EAAqBF,OAAK,IAAAC,EAAA,IAC9B,OAAO,kCAAiC,8CAC1C,EACME,EAAsBH,OAAK,IAAAC,EAAA,IAC/B,OAAO,mCAAkC,8CAC3C,EACMG,EAA6BJ,OAAK,IAAAC,EAAA,IACtC,OAAO,0CAAyC,8CAClD,EACMI,EAAqBL,OAAK,IAAAC,EAAA,IAC9B,OAAO,kCAAiC,8CAC1C,EACsCD,OAAK,IAAAC,EAAA,IACzC,OAAO,6CAA4C,4CACrD,EAEA,SAASK,EAAa,CAAE,OAAAC,EAAS,IAAK,SAAAC,EAAU,UAAAC,GAAa,CAC3D,aACG,OAAI,UAAW,MAAMF,CAAM,OAAOE,CAAS,UAC1C,SAAAlC,MAACmC,WAAA,CAAS,SAAUnC,MAAC,OAAI,sBAAU,EAAS,SAAAiC,EAAS,EACvD,CAEJ,CACA,SAAwBG,GAAc,CACpC,KAAM,CAAE,YAAAC,CAAA,EAAgBC,EAAA,EAElBC,EAAW,CACf,MAAOC,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,GAGpB1C,mBAAU,IAAM,CACd,OAAO,KAAKyC,CAAQ,EAAE,QAASE,GAAQ,CACjCF,EAASE,CAAG,EAAE,SAChBJ,EAAY,gBAAkBI,EAAKF,EAASE,CAAG,CAAC,CAEpD,CAAC,CACH,EAAG,CAACJ,CAAW,CAAC,EAEdpC,OAAC,OAAI,UAAU,kCACb,UAAAD,MAAC,OAAI,IAAKuC,EAAS,MACjB,SAAAvC,MAACrB,IAAsB,EACzB,EACAsB,OAAC,OAAI,UAAU,8BACb,UAAAD,MAAC,OAAI,UAAU,iBAAiB,IAAKuC,EAAS,MAC5C,eAACJ,WAAA,CAAS,SAAUnC,MAAC,OAAI,UAAU,SAAS,sBAAU,EACpD,SAAAA,MAACwB,EAAA,EAAyB,EAC5B,EACF,EACAxB,MAAC,OAAI,UAAU,iBAAiB,IAAKuC,EAAS,MAC5C,SAAAvC,MAACc,EAAA,EAAmB,EACtB,GACF,EAGAb,OAAC,OAAI,UAAU,+CACb,UAAAD,MAAC,OAAI,UAAU,aAAa,IAAKuC,EAAS,MACxC,SAAAvC,MAAC+B,EAAA,CACC,SAAA/B,MAAC4B,EAAA,EAAoB,EACvB,EACF,EAIA5B,MAAC+B,EAAA,CACC,SAAA/B,MAAC2B,EAAA,EAAmB,EACtB,EACA3B,MAAC+B,EAAA,CACC,SAAA/B,MAAC6B,EAAA,EAA2B,EAC9B,EACA7B,MAAC+B,EAAA,CACC,SAAA/B,MAAC8B,EAAA,EAAmB,EACtB,GAIF,GACF,CAEJ","names":["ActivityOverviewTails","activityData","setActivityData","useState","loading","setLoading","ls","elderlyDetails","useContext","CustomContext","dailyRepDate","SidebarContext","getActivityData","useCallback","getDayTimeActivity","dayjs","res","_a","err","useEffect","renderSkeletonTile","jsx","jsxs","Skeleton","Fragment","MdMeetingRoom","MdOutlineAirlineSeatLegroomNormal","FaPersonWalking","FaPersonWalkingArrowRight","GiExitDoor","wakeUpIcon","size","WakeUpIcon","getUpIcon","GetUpIcon","AverageRoutineTime","sleepData","sleepDataLoading","items","formatTimeWithSuffix","FaBedPulse","GiNightSleep","motion","item","index","DailyRoutineDistribution","lazy","__vitePreload","WalkStepsStatistic","DurationSpentInRoom","NumberOfRoomEntriesAndExit","WalkSpeedStatistic","ChartWrapper","height","children","className","Suspense","ActivityTab","registerRef","useRefContext","stepsRef","useRef","key"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Components/TabContents/Activity/Components/ActivityOverviewTails.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/Components/AverageRoutineTime.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/ActivityTab.jsx"],"sourcesContent":["import React, { useCallback, useState, useEffect, useContext } from \"react\";\nimport { CustomContext } from \"@/Context/UseCustomContext\";\nimport { SidebarContext } from \"@/Context/CustomContext\";\nimport { Skeleton } from \"antd\"; // Import Skeleton from antd\nimport { MdMeetingRoom } from \"react-icons/md\";\nimport { MdOutlineAirlineSeatLegroomNormal } from \"react-icons/md\";\nimport { FaPersonWalking } from \"react-icons/fa6\";\nimport { FaPersonWalkingArrowRight } from \"react-icons/fa6\";\nimport { GiExitDoor } from \"react-icons/gi\";\nimport { getDayTimeActivity } from \"@/api/deviceReports\";\nimport ls from \"store2\";\nimport dayjs from \"dayjs\";\n\nexport default function ActivityOverviewTails() {\n  const [activityData, setActivityData] = useState([]);\n  const [loading, setLoading] = useState(true); // Add loading state\n  const elderlyDetais = ls.get(\"elderly_details\");\n  const { elderlyDetails } = useContext(CustomContext);\n  const { dailyRepDate } = useContext(SidebarContext);\n\n  const getActivityData = useCallback(() => {\n    setLoading(true); // Set loading to true when fetching starts\n    getDayTimeActivity({\n      uids: elderlyDetails?.deviceId,\n      elderly_id: elderlyDetails._id,\n      to_date: dailyRepDate || dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\n    })\n      .then((res) => {\n        setActivityData(res.data?.user_activity);\n        setLoading(false); // Set loading to false when data is received\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false); // Set loading to false on error\n      });\n  }, [elderlyDetails, dailyRepDate]);\n\n  useEffect(() => {\n    getActivityData();\n  }, [getActivityData]);\n\n  // Skeleton loader for each tile\n  const renderSkeletonTile = () => (\n    <div className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\">\n      <div className=\"flex gap-3 items-center\">\n        <Skeleton.Avatar active size={48} shape=\"square\" />{\" \"}\n        {/* Icon placeholder */}\n        <div className=\"flex flex-col gap-2\">\n          <Skeleton.Input active style={{ width: 120, height: 16 }} />{\" \"}\n          {/* Title */}\n          <Skeleton.Input active style={{ width: 80, height: 24 }} />{\" \"}\n          {/* Value */}\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"flex justify-between gap-4 w-full\">\n      {loading ? (\n        // Show skeleton loaders while loading\n        <>\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n        </>\n      ) : (\n        // Show actual data when loaded\n        <>\n          <div\n            id=\"indoorDuration\"\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\n          >\n            <div className=\"flex gap-3 items-center\">\n              <div id=\"icon\" className=\"p-3 bg-[#26C0C0] rounded-md\">\n                <MdMeetingRoom className=\"text-[#fff] text-[24px]\" />\n              </div>\n              <div className=\"flex flex-col gap-0\">\n                <div className=\"text-base font-semibold text-primary/80\">\n                  Indoor Duration\n                </div>\n                <div className=\"text-2xl font-bold text-primary\">\n                  {activityData?.in_room_duration\n                    ? activityData?.in_room_duration\n                    : \"--\"}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div\n            id=\"stillTime\"\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\n          >\n            <div className=\"flex gap-3 items-center\">\n              <div id=\"icon\" className=\"p-3 bg-[#F1B812] rounded-md\">\n                <MdOutlineAirlineSeatLegroomNormal className=\"text-[#fff] text-[24px]\" />\n              </div>\n              <div className=\"flex flex-col gap-0\">\n                <div className=\"text-base font-semibold text-primary/80\">\n                  Still Time\n                </div>\n                <div className=\"text-2xl font-bold text-primary\">\n                  {activityData?.static_duration\n                    ? activityData?.static_duration\n                    : \"--\"}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"walking\"\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\n          >\n            <div className=\"flex gap-3 items-center\">\n              <div id=\"icon\" className=\"p-3 bg-[#7F87FC] rounded-md\">\n                <FaPersonWalking className=\"text-[#fff] text-[24px]\" />\n              </div>\n              <div className=\"flex flex-col gap-0\">\n                <div className=\"text-base font-semibold text-primary/80\">\n                  Walking\n                </div>\n                <div className=\"text-2xl font-bold text-primary\">\n                  {activityData?.step_number ? activityData?.step_number : \"--\"}{\" \"}\n                  steps\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"speed\"\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\n          >\n            <div className=\"flex gap-3 items-center\">\n              <div id=\"icon\" className=\"p-3 bg-[#a02adf] rounded-md\">\n                <FaPersonWalkingArrowRight className=\"text-[#fff] text-[24px]\" />\n              </div>\n              <div className=\"flex flex-col gap-0\">\n                <div className=\"text-base font-semibold text-primary/80\">\n                  Speed\n                </div>\n                <div className=\"text-2xl font-bold text-primary\">\n                  {activityData?.speed ? activityData?.speed : \"--\"} m/min\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"roomEntryExit\"\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\n          >\n            <div className=\"flex gap-3 items-center\">\n              <div id=\"icon\" className=\"p-3 bg-[#82cb24] rounded-md\">\n                <GiExitDoor className=\"text-[#fff] text-[24px]\" />\n              </div>\n              <div className=\"flex flex-col gap-0\">\n                <div className=\"text-base font-semibold text-primary/80\">\n                  Room Entry/Exit\n                </div>\n                <div className=\"text-2xl font-bold text-primary\">\n                  {activityData?.entry_room_count\n                    ? activityData?.entry_room_count\n                    : \"--\"}\n                  x\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Skeleton } from \"antd\";\nimport { FaBedPulse } from \"react-icons/fa6\";\nimport { GiNightSleep } from \"react-icons/gi\";\nimport WakeUpIcon from \"@/assets/icon/wake-up.svg\";\nimport GetUpIcon from \"@/assets/icon/get-up.svg\";\nimport { formatTimeWithSuffix } from \"@/utils/helper\";\nimport { getDayTimeActivity } from \"../../../../../../api/deviceReports\";\nimport { SidebarContext } from \"../../../../../../Context/CustomContext\";\nimport { CustomContext } from \"@/Context/UseCustomContext\";\nimport dayjs from \"dayjs\";\nimport ls from \"store2\";\n\nexport const wakeUpIcon = (size) => {\n  return <img src={WakeUpIcon} alt=\"wake-up\" width={size} height={size} />;\n};\nexport const getUpIcon = (size) => {\n  return <img src={GetUpIcon} alt=\"get-up\" width={size} height={size} />;\n};\n\nexport default function AverageRoutineTime() {\n  const { sleepData, sleepDataLoading } = useContext(CustomContext);\n\n  const items = [\n    {\n      label: \"Went To Bed\",\n      color: \"#35CECE\",\n      value: formatTimeWithSuffix(sleepData?.get_bed_idx),\n      icon: <FaBedPulse size={20} color=\"#35CECE\" />,\n      initial: { x: -50, y: -50 },\n      delay: 0.2,\n    },\n    {\n      label: \"Fell Asleep\",\n      color: \"#FF6734\",\n      value: formatTimeWithSuffix(sleepData?.sleep_st_idx),\n      icon: <GiNightSleep size={20} color=\"#FF6734\" />,\n      initial: { x: 50, y: -50 },\n      delay: 0.2,\n    },\n    {\n      label: \"Wake Up\",\n      color: \"#8088FD\",\n      value: formatTimeWithSuffix(sleepData?.sleep_ed_idx),\n      icon: wakeUpIcon(20),\n      initial: { x: -50, y: 50 },\n      delay: 0.2,\n    },\n    {\n      label: \"Get Up\",\n      color: \"#ecb81c\",\n      value: formatTimeWithSuffix(sleepData?.leave_bed_idx),\n      icon: getUpIcon(20),\n      initial: { x: 50, y: 50 },\n      delay: 0.2,\n    },\n  ];\n  const [activityData, setActivityData] = useState([]);\n  const [loading, setLoading] = useState(true); // Add loading state\n  const elderlyDetais = ls.get(\"elderly_details\");\n  const { elderlyDetails } = useContext(CustomContext);\n  const { dailyRepDate } = useContext(SidebarContext);\n\n  const getActivityData = useCallback(() => {\n    setLoading(true); // Set loading to true when fetching starts\n    getDayTimeActivity({\n      uids: elderlyDetails?.deviceId,\n      elderly_id: elderlyDetails._id,\n      to_date: dailyRepDate || dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\n    })\n      .then((res) => {\n        setActivityData(res.data?.user_activity);\n        setLoading(false); // Set loading to false when data is received\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false); // Set loading to false on error\n      });\n  }, [elderlyDetails, dailyRepDate]);\n\n  useEffect(() => {\n    getActivityData();\n  }, [getActivityData]);\n  const renderSkeletonTile = () => (\n    <div className=\"flex flex-col items-center justify-center h-full gap-2\">\n      <Skeleton.Avatar active size={40} shape=\"square\" />\n      <div className=\"flex flex-col items-center justify-center gap-1\">\n        <Skeleton.Input active style={{ width: 80, height: 24 }} />\n        <Skeleton.Input active style={{ width: 100, height: 14 }} />\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"bg-white rounded-2xl p-6 h-full flex flex-col gap-4\">\n      <h1 className=\"text-[21px] font-bold text-primary\">\n        Average Routine Time\n      </h1>\n      {sleepDataLoading ? (\n        <div className=\"relative w-full grid grid-cols-2 grid-rows-2 gap-4 h-full\">\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n          {renderSkeletonTile()}\n        </div>\n      ) : (\n        <div className=\"relative w-full grid grid-cols-2 grid-rows-2 gap-4 h-full\">\n          <motion.div\n            className=\"absolute h-0.5 w-full top-1/2 left-0\"\n            style={{\n              background:\n                \"linear-gradient(to right, #ffffff, #D1D1D1, #ffffff)\",\n            }}\n            initial={{ scaleX: 0 }}\n            animate={{ scaleX: 1 }}\n            transition={{ duration: 0.9 }}\n          />\n          <motion.div\n            className=\"absolute w-0.5 h-full left-1/2 top-0\"\n            style={{\n              background:\n                \"linear-gradient(to bottom, #ffffff, #D1D1D1, #ffffff)\",\n            }}\n            initial={{ scaleY: 0 }}\n            animate={{ scaleY: 1 }}\n            transition={{ duration: 0.9 }}\n          />\n          {items.map((item, index) => (\n            <motion.div\n              key={index}\n              className=\"flex flex-col items-center justify-center h-full gap-2\"\n              initial={{ opacity: 0, ...item.initial }}\n              animate={{ opacity: 1, x: 0, y: 0 }}\n              transition={{ duration: 0.5, delay: item.delay, ease: \"linear\" }}\n            >\n              <div\n                id=\"icon\"\n                className=\"w-10 h-10 flex items-center justify-center rounded-lg\"\n                style={{ backgroundColor: `${item.color}27` }}\n              >\n                {item.icon}\n              </div>\n              <div className=\"flex flex-col items-center justify-center\">\n                <div className=\"text-2xl font-bold text-primary\">\n                  {item.value}\n                </div>\n                <div className=\"text-sm font-medium text-primary\">\n                  {item.label}\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","import { lazy, Suspense, useEffect, useRef } from \"react\";\nconst DailyRoutineDistribution = lazy(() =>\n  import(\"./Components/DailyRoutineDistribution\")\n);\nimport ActivityOverviewTails from \"./Components/ActivityOverviewTails\";\nimport AverageRoutineTime from \"./Components/AverageRoutineTime\";\nimport DataAnalysisSlider from \"./Components/DataAnalysisSlider\";\nimport { useRefContext } from \"@/Context/RefContext\";\nconst BodyMovementIndexStatistic = lazy(() =>\n  import(\"./Components/BodyMovementIndexStatistic\")\n);\nconst WalkStepsStatistic = lazy(() =>\n  import(\"./Components/WalkStepsStatistic\")\n);\nconst DurationSpentInRoom = lazy(() =>\n  import(\"./Components/DurationSpentInRoom\")\n);\nconst NumberOfRoomEntriesAndExit = lazy(() =>\n  import(\"./Components/NumberOfRoomEntriesAndExit\")\n);\nconst WalkSpeedStatistic = lazy(() =>\n  import(\"./Components/WalkSpeedStatistic\")\n);\nconst BodyMovementIndexDistribution = lazy(() =>\n  import(\"./Components/BodyMovementIndexDistribution\")\n);\n\nfunction ChartWrapper({ height = 480, children, className }) {\n  return (\n    <div className={`h-[${height}px] ${className} w-full`}>\n      <Suspense fallback={<div>Loading...</div>}>{children}</Suspense>\n    </div>\n  );\n}\nexport default function ActivityTab() {\n  const { registerRef } = useRefContext();\n\n  const stepsRef = {\n    step1: useRef(null),\n    step2: useRef(null),\n    step3: useRef(null),\n    step4: useRef(null),\n    step5: useRef(null),\n  };\n\n  useEffect(() => {\n    Object.keys(stepsRef).forEach((key) => {\n      if (stepsRef[key].current) {\n        registerRef(\"tab_activity_\" + key, stepsRef[key]);\n      }\n    });\n  }, [registerRef]);\n  return (\n    <div className=\"flex flex-col gap-6 mt-6 w-full\">\n      <div ref={stepsRef.step1}>\n        <ActivityOverviewTails />\n      </div>\n      <div className=\"flex gap-6 w-full h-[400px]\">\n        <div className=\"w-[67%] h-full\" ref={stepsRef.step2}>\n          <Suspense fallback={<div className=\"h-full\">Loading...</div>}>\n            <DailyRoutineDistribution />\n          </Suspense>\n        </div>\n        <div className=\"w-[33%] h-full\" ref={stepsRef.step3}>\n          <AverageRoutineTime />\n        </div>\n      </div>\n      {/* <DataAnalysisSlider /> */}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full\">\n        <div className=\"col-span-2\" ref={stepsRef.step4}>\n          <ChartWrapper>\n            <DurationSpentInRoom />\n          </ChartWrapper>\n        </div>\n        {/* <ChartWrapper>\n          <BodyMovementIndexStatistic />\n        </ChartWrapper> */}\n        <ChartWrapper>\n          <WalkStepsStatistic />\n        </ChartWrapper>\n        <ChartWrapper>\n          <NumberOfRoomEntriesAndExit />\n        </ChartWrapper>\n        <ChartWrapper>\n          <WalkSpeedStatistic />\n        </ChartWrapper>\n        {/* <ChartWrapper>\n          <BodyMovementIndexDistribution />\n        </ChartWrapper> */}\n      </div>\n    </div>\n  );\n}\n"],"file":"assets/ActivityTab-CKflG7EV.js"}