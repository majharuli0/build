{"version":3,"file":"index-Bl1UKbPJ.js","sources":["../../src/MonitoringService/Components/CustomerTable/index.jsx"],"sourcesContent":["import React, { useEffect, useCallback, useMemo, useState } from \"react\";\r\nimport CardUI from \"../common/card\";\r\nimport TableUI from \"../common/table\";\r\nimport { Button } from \"../ui/button\";\r\nimport {\r\n  TableProvider,\r\n  useTable,\r\n} from \"@/MonitoringService/Context/TableContext\";\r\nimport { useColumns } from \"@/MonitoringService/Utiles/columnsUtil\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Badge } from \"../ui/badge\";\r\nimport { BiSort } from \"react-icons/bi\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Input } from \"../ui/input\";\r\n\r\nexport default function CustomerTable() {\r\n  const { page, setPage, actions, setActions } = useTable();\r\n  const { type } = useParams();\r\n  const [isAsc, setIsAsc] = useState(true);\r\n  const columns = useColumns(\"customer\");\r\n  const fetchData = useCallback(() => {\r\n    console.log(\"ðŸ“¡ Fetch API with page:\", page);\r\n  }, [page]);\r\n\r\n  const deleteRow = useCallback(\r\n    (row) => {\r\n      console.log(\"ðŸ—‘ï¸ Deleting row:\", row);\r\n      fetchData();\r\n    },\r\n    [fetchData]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setActions({\r\n      fetchData,\r\n      deleteRow,\r\n    });\r\n  }, [fetchData, deleteRow, setActions]);\r\n\r\n  const data = [\r\n    {\r\n      id: 1,\r\n      name: \"Eleanor Alice\",\r\n      age: 78,\r\n      address: \"456 Elm St, Sydney\",\r\n      priority: \"High\",\r\n      contact_person: \"Robert Alice\",\r\n      contact_number: \"+61 412 345 678\",\r\n      device_count: 2,\r\n      medical_note: \"Requires daily monitoring for heart condition\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"John Smith\",\r\n      age: 82,\r\n      address: \"12 Pine Ave, Melbourne\",\r\n      priority: \"Average\",\r\n      contact_person: \"Emma Smith\",\r\n      contact_number: \"+61 423 987 654\",\r\n      device_count: 1,\r\n      medical_note: \"Mild arthritis, stable blood pressure readings\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Mary Johnson\",\r\n      age: 76,\r\n      address: \"89 Oak Street, Brisbane\",\r\n      priority: \"High\",\r\n      contact_person: \"David Johnson\",\r\n      contact_number: \"+61 433 222 111\",\r\n      device_count: 3,\r\n      medical_note: \"Recovering from hip surgery, needs assistance\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Peter Brown\",\r\n      age: 81,\r\n      address: \"33 Maple Rd, Perth\",\r\n      priority: \"Medium\",\r\n      contact_person: \"Susan Brown\",\r\n      contact_number: \"+61 422 111 999\",\r\n      device_count: 1,\r\n      medical_note: \"Occasional dizziness, prescribed regular checkups\",\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"Margaret Davis\",\r\n      age: 79,\r\n      address: \"77 WilMedium Ln, Adelaide\",\r\n      priority: \"High\",\r\n      contact_person: \"Chris Davis\",\r\n      contact_number: \"+61 444 888 333\",\r\n      device_count: 2,\r\n      medical_note: \"Sleep apnea under observation, using sensor\",\r\n    },\r\n    {\r\n      id: 6,\r\n      name: \"George Miller\",\r\n      age: 84,\r\n      address: \"105 Birch Blvd, Canberra\",\r\n      priority: \"Average\",\r\n      contact_person: \"Nancy Miller\",\r\n      contact_number: \"+61 455 667 221\",\r\n      device_count: 2,\r\n      medical_note: \"Chronic cough monitored with daily reports\",\r\n    },\r\n    {\r\n      id: 7,\r\n      name: \"Helen Wilson\",\r\n      age: 80,\r\n      address: \"16 Cedar St, Hobart\",\r\n      priority: \"Medium\",\r\n      contact_person: \"Michael Wilson\",\r\n      contact_number: \"+61 466 224 556\",\r\n      device_count: 1,\r\n      medical_note: \"Mild vision issues, scheduled yearly screening\",\r\n    },\r\n    {\r\n      id: 8,\r\n      name: \"James Taylor\",\r\n      age: 83,\r\n      address: \"54 Palm Dr, Gold Coast\",\r\n      priority: \"High\",\r\n      contact_person: \"Olivia Taylor\",\r\n      contact_number: \"+61 477 555 888\",\r\n      device_count: 3,\r\n      medical_note: \"Heart monitor active, high fall risk detected\",\r\n    },\r\n    {\r\n      id: 9,\r\n      name: \"Patricia Anderson\",\r\n      age: 77,\r\n      address: \"21 Coral Way, Cairns\",\r\n      priority: \"Average\",\r\n      contact_person: \"Mark Anderson\",\r\n      contact_number: \"+61 488 999 111\",\r\n      device_count: 2,\r\n      medical_note: \"Regular sleep tracking shows mild restlessness\",\r\n    },\r\n    {\r\n      id: 10,\r\n      name: \"William Harris\",\r\n      age: 85,\r\n      address: \"62 Sunset Blvd, Darwin\",\r\n      priority: \"High\",\r\n      contact_person: \"Laura Harris\",\r\n      contact_number: \"+61 499 333 777\",\r\n      device_count: 4,\r\n      medical_note: \"Diabetic patient under insulin dosage review\",\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [page, fetchData]);\r\n  const handleToggle = () => setIsAsc((prev) => !prev);\r\n  return (\r\n    <CardUI\r\n      variant=\"noborder\"\r\n      title={\r\n        <div className=\"text-xl font-normal capitalize flex items-center gap-2\">\r\n          {type} Customers{\" \"}\r\n          <Badge\r\n            className={`text-sm ${\r\n              type !== \"active\"\r\n                ? type == \"paused\"\r\n                  ? \"bg-yellow-600\"\r\n                  : \"bg-red-500\"\r\n                : \"\"\r\n            }`}\r\n          >\r\n            36\r\n          </Badge>\r\n        </div>\r\n      }\r\n      className=\"mb-7\"\r\n      actions={\r\n        <div className=\"flex items-center gap-2\">\r\n          <Input\r\n            className=\"\"\r\n            size=\"bt\"\r\n            variant=\"outline\"\r\n            placeholder=\"Search Customer\"\r\n          />\r\n          <Button\r\n            variant=\"tertiary\"\r\n            onClick={handleToggle}\r\n            className=\"flex items-center gap-2 select-none\"\r\n          >\r\n            <motion.span\r\n              animate={{ rotate: isAsc ? 0 : 180 }}\r\n              transition={{ duration: 0.25, ease: \"easeInOut\" }}\r\n              className=\"inline-block\"\r\n            >\r\n              <BiSort className=\"w-5 h-5\" />\r\n            </motion.span>\r\n            <span>Priority</span>\r\n          </Button>\r\n        </div>\r\n      }\r\n    >\r\n      <div className=\"bg-background/50\">\r\n        <TableUI\r\n          columns={columns}\r\n          data={data}\r\n          isPagination\r\n          total={200}\r\n          limit={15}\r\n          headerClassName=\"bg-background/60\"\r\n          headerTextClassName=\"text-text/60\"\r\n          rowClassName=\"\"\r\n          //   cellClassName=\"text-gray-200\"\r\n        />\r\n      </div>\r\n    </CardUI>\r\n  );\r\n}\r\n"],"names":["CustomerTable","page","setPage","actions","setActions","useTable","type","useParams","isAsc","setIsAsc","useState","columns","useColumns","fetchData","useCallback","deleteRow","row","useEffect","data","handleToggle","prev","jsx","CardUI","jsxs","Badge","Input","Button","motion","BiSort","TableUI"],"mappings":"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"}