import{r as U,e as Ls,m as Rh,f as kt,n as bi,p as De,eE as Mg,eF as ir,x as ne,b2 as Tg,i as Sg,ap as Ag,eG as $g,eH as Cg,aW as oc,eI as Ng,eJ as kg,S as Pg,d as Oe,j as E,O as st,aQ as Eg,aF as ma,eK as Rg,B as jg,bJ as Og,aY as uc,eL as Ig,$ as Lg,u as jh,F as zg,bv as Dg,T as Bg,eM as Fg,a6 as Vg,aN as Gg,eN as Hg,eO as Yg}from"./index-Cx2ZnkBC.js";import{S as Ug}from"./slick-theme-N4XvDcOd.js";import{A as qg,a as Wg}from"./AlertCloseModal-Dn4l3cND.js";import{g as Oh,a as Xg}from"./elderlySupport-Be2ONXbK.js";import{a as Ln,t as Du,b as Ih,f as Jg,c as Zg,d as Kg,e as zn}from"./helper-DZks3_Jq.js";import{C as Nn}from"./UseCustomContext-B_8njEg6.js";import{C as Qg}from"./CreateAndEditModal-BvXcAXkr.js";import{H as tm}from"./HealthConditionModal-DjS9zlkb.js";import{E as em}from"./index-BgeVerw7.js";import{I as nm,a as rm}from"./SuccessModal-DpL79ugC.js";import{R as im}from"./SmileOutlined-kdVBihup.js";import{D as am}from"./index-DeYq_rVT.js";import{l as om}from"./lodash-7aTl-7fa.js";import um from"./TimelineGraph-BnAbpL0V.js";import{A as sm}from"./AlertName-DyYu9igu.js";import{A as lm}from"./ActionManu-ArSP48jA.js";import{L as cm}from"./LargeTextViewerModal-BkOq9moc.js";import{D as fm,a as hm}from"./RoomMap4-Cai_VsDX.js";import{T as Lh}from"./index-CPW0hMDt.js";import{F as dm}from"./index-BvEkR90o.js";import{G as pm}from"./index-DTVuRyJ_.js";import{W as gm,G as mm}from"./get-up-C5mLunBb.js";import"./index-CUwVca75.js";import"./leaflet-src-D3S0fG_R.js";/* empty css                */import"./HomeOutlined-wi50rR7p.js";import"./InfoCircleOutlined-DyCV0Tn1.js";import"./elderly-jxoq6zaW.js";import"./PlusOutlined-m9X7tEhB.js";import"./weekday-C9b2Qfvl.js";import"./SwapRightOutlined-BrWUqLcp.js";import"./weekOfYear-BB4hO8z1.js";import"./index-BQuJtVyW.js";import"./ReactKonvaCore-BbjkCW5f.js";const zh=U.createContext({}),vm=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},ym=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},bm=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,a={};for(let o=i;o>=0;o--)o===0?(a[`${r}${e}-${o}`]={display:"none"},a[`${r}-push-${o}`]={insetInlineStart:"auto"},a[`${r}-pull-${o}`]={insetInlineEnd:"auto"},a[`${r}${e}-push-${o}`]={insetInlineStart:"auto"},a[`${r}${e}-pull-${o}`]={insetInlineEnd:"auto"},a[`${r}${e}-offset-${o}`]={marginInlineStart:0},a[`${r}${e}-order-${o}`]={order:0}):(a[`${r}${e}-${o}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${o/i*100}%`,maxWidth:`${o/i*100}%`}],a[`${r}${e}-push-${o}`]={insetInlineStart:`${o/i*100}%`},a[`${r}${e}-pull-${o}`]={insetInlineEnd:`${o/i*100}%`},a[`${r}${e}-offset-${o}`]={marginInlineStart:`${o/i*100}%`},a[`${r}${e}-order-${o}`]={order:o});return a[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},a},Bu=(t,e)=>bm(t,e),_m=(t,e,n)=>({[`@media (min-width: ${kt(e)})`]:Object.assign({},Bu(t,n))}),wm=()=>({}),xm=()=>({}),Mm=Ls("Grid",vm,wm),Tm=Ls("Grid",t=>{const e=Rh(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[ym(e),Bu(e,""),Bu(e,"-xs"),Object.keys(n).map(r=>_m(e,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},xm);var Sm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function sc(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const Am=["xs","sm","md","lg","xl","xxl"],$m=U.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=U.useContext(bi),{gutter:i,wrap:a}=U.useContext(zh),{prefixCls:o,span:u,order:l,offset:s,push:c,pull:h,className:f,children:d,flex:m,style:v}=t,p=Sm(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),g=n("col",o),[_,b,y]=Tm(g),w={};let x={};Am.forEach(N=>{let k={};const P=t[N];typeof P=="number"?k.span=P:typeof P=="object"&&(k=P||{}),delete p[N],x=Object.assign(Object.assign({},x),{[`${g}-${N}-${k.span}`]:k.span!==void 0,[`${g}-${N}-order-${k.order}`]:k.order||k.order===0,[`${g}-${N}-offset-${k.offset}`]:k.offset||k.offset===0,[`${g}-${N}-push-${k.push}`]:k.push||k.push===0,[`${g}-${N}-pull-${k.pull}`]:k.pull||k.pull===0,[`${g}-rtl`]:r==="rtl"}),k.flex&&(x[`${g}-${N}-flex`]=!0,w[`--${g}-${N}-flex`]=sc(k.flex))});const A=De(g,{[`${g}-${u}`]:u!==void 0,[`${g}-order-${l}`]:l,[`${g}-offset-${s}`]:s,[`${g}-push-${c}`]:c,[`${g}-pull-${h}`]:h},f,x,b,y),$={};if(i&&i[0]>0){const N=i[0]/2;$.paddingLeft=N,$.paddingRight=N}return m&&($.flex=sc(m),a===!1&&!$.minWidth&&($.minWidth=0)),_(U.createElement("div",Object.assign({},p,{style:Object.assign(Object.assign(Object.assign({},$),v),w),className:A,ref:e}),d))});var Cm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lc(t,e){const[n,r]=U.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let a=0;a<ir.length;a++){const o=ir[a];if(!e[o])continue;const u=t[o];if(u!==void 0){r(u);return}}};return U.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const Nm=U.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:a,style:o,children:u,gutter:l=0,wrap:s}=t,c=Cm(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:h,direction:f}=U.useContext(bi),[d,m]=U.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[v,p]=U.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),g=lc(i,v),_=lc(r,v),b=U.useRef(l),y=Mg();U.useEffect(()=>{const O=y.subscribe(D=>{p(D);const I=b.current||0;(!Array.isArray(I)&&typeof I=="object"||Array.isArray(I)&&(typeof I[0]=="object"||typeof I[1]=="object"))&&m(D)});return()=>y.unsubscribe(O)},[]);const w=()=>{const O=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((I,R)=>{if(typeof I=="object")for(let j=0;j<ir.length;j++){const z=ir[j];if(d[z]&&I[z]!==void 0){O[R]=I[z];break}}else O[R]=I}),O},x=h("row",n),[A,$,N]=Mm(x),k=w(),P=De(x,{[`${x}-no-wrap`]:s===!1,[`${x}-${_}`]:_,[`${x}-${g}`]:g,[`${x}-rtl`]:f==="rtl"},a,$,N),L={},T=k[0]!=null&&k[0]>0?k[0]/-2:void 0;T&&(L.marginLeft=T,L.marginRight=T);const[M,S]=k;L.rowGap=S;const C=U.useMemo(()=>({gutter:[M,S],wrap:s}),[M,S,s]);return A(U.createElement(zh.Provider,{value:C},U.createElement("div",Object.assign({},c,{className:P,style:Object.assign(Object.assign({},L),o),ref:e}),u)))}),zs=ne.createContext({});zs.Consumer;var Dh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const km=t=>{var{prefixCls:e,className:n,avatar:r,title:i,description:a}=t,o=Dh(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:u}=U.useContext(bi),l=u("list",e),s=De(`${l}-item-meta`,n),c=ne.createElement("div",{className:`${l}-item-meta-content`},i&&ne.createElement("h4",{className:`${l}-item-meta-title`},i),a&&ne.createElement("div",{className:`${l}-item-meta-description`},a));return ne.createElement("div",Object.assign({},o,{className:s}),r&&ne.createElement("div",{className:`${l}-item-meta-avatar`},r),(i||a)&&c)},Pm=ne.forwardRef((t,e)=>{const{prefixCls:n,children:r,actions:i,extra:a,styles:o,className:u,classNames:l,colStyle:s}=t,c=Dh(t,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:h,itemLayout:f}=U.useContext(zs),{getPrefixCls:d,list:m}=U.useContext(bi),v=A=>{var $,N;return De((N=($=m==null?void 0:m.item)===null||$===void 0?void 0:$.classNames)===null||N===void 0?void 0:N[A],l==null?void 0:l[A])},p=A=>{var $,N;return Object.assign(Object.assign({},(N=($=m==null?void 0:m.item)===null||$===void 0?void 0:$.styles)===null||N===void 0?void 0:N[A]),o==null?void 0:o[A])},g=()=>{let A=!1;return U.Children.forEach(r,$=>{typeof $=="string"&&(A=!0)}),A&&U.Children.count(r)>1},_=()=>f==="vertical"?!!a:!g(),b=d("list",n),y=i&&i.length>0&&ne.createElement("ul",{className:De(`${b}-item-action`,v("actions")),key:"actions",style:p("actions")},i.map((A,$)=>ne.createElement("li",{key:`${b}-item-action-${$}`},A,$!==i.length-1&&ne.createElement("em",{className:`${b}-item-action-split`})))),w=h?"div":"li",x=ne.createElement(w,Object.assign({},c,h?{}:{ref:e},{className:De(`${b}-item`,{[`${b}-item-no-flex`]:!_()},u)}),f==="vertical"&&a?[ne.createElement("div",{className:`${b}-item-main`,key:"content"},r,y),ne.createElement("div",{className:De(`${b}-item-extra`,v("extra")),key:"extra",style:p("extra")},a)]:[r,y,Tg(a,{key:"extra"})]);return h?ne.createElement($m,{ref:e,flex:1,style:s},x):x}),Bh=Pm;Bh.Meta=km;const Em=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:a,itemPaddingLG:o,marginLG:u,borderRadiusLG:l}=t;return{[e]:{border:`${kt(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${kt(i)} ${kt(u)}`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}}}},Rm=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:i,marginSM:a,margin:o}=t;return{[`@media screen and (max-width:${r}px)`]:{[e]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[e]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:a}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${kt(o)}`}}}}}},jm=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:i,paddingSM:a,marginLG:o,padding:u,itemPadding:l,colorPrimary:s,itemPaddingSM:c,itemPaddingLG:h,paddingXS:f,margin:d,colorText:m,colorTextDescription:v,motionDurationSlow:p,lineWidth:g,headerBg:_,footerBg:b,emptyTextPadding:y,metaMarginBottom:w,avatarMarginRight:x,titleMarginBottom:A,descriptionFontSize:$}=t;return{[e]:Object.assign(Object.assign({},Sg(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:_},[`${e}-footer`]:{background:b},[`${e}-header, ${e}-footer`]:{paddingBlock:a},[`${e}-pagination`]:{marginBlockStart:o,[`${n}-pagination-options`]:{textAlign:"start"}},[`${e}-spin`]:{minHeight:i,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:m,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:x},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:m},[`${e}-item-meta-title`]:{margin:`0 0 ${kt(t.marginXXS)} 0`,color:m,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:m,transition:`all ${p}`,"&:hover":{color:s}}},[`${e}-item-meta-description`]:{color:v,fontSize:$,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${kt(f)}`,color:v,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:g,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${kt(u)} 0`,color:v,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:y,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:o},[`${e}-item-meta`]:{marginBlockEnd:w,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:A,color:m,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:u,marginInlineStart:"auto","> li":{padding:`0 ${kt(u)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:h},[`${e}-sm ${e}-item`]:{padding:c},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},Om=t=>({contentWidth:220,itemPadding:`${kt(t.paddingContentVertical)} 0`,itemPaddingSM:`${kt(t.paddingContentVerticalSM)} ${kt(t.paddingContentHorizontal)}`,itemPaddingLG:`${kt(t.paddingContentVerticalLG)} ${kt(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),Im=Ls("List",t=>{const e=Rh(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[jm(e),Em(e),Rm(e)]},Om);var Lm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function zm(t,e){var{pagination:n=!1,prefixCls:r,bordered:i=!1,split:a=!0,className:o,rootClassName:u,style:l,children:s,itemLayout:c,loadMore:h,grid:f,dataSource:d=[],size:m,header:v,footer:p,loading:g=!1,rowKey:_,renderItem:b,locale:y}=t,w=Lm(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const x=n&&typeof n=="object"?n:{},[A,$]=U.useState(x.defaultCurrent||1),[N,k]=U.useState(x.defaultPageSize||10),{getPrefixCls:P,renderEmpty:L,direction:T,list:M}=U.useContext(bi),S={current:1,total:0},C=ht=>(pt,St)=>{var Vt;$(pt),k(St),n&&((Vt=n==null?void 0:n[ht])===null||Vt===void 0||Vt.call(n,pt,St))},O=C("onChange"),D=C("onShowSizeChange"),I=(ht,pt)=>{if(!b)return null;let St;return typeof _=="function"?St=_(ht):_?St=ht[_]:St=ht.key,St||(St=`list-item-${pt}`),U.createElement(U.Fragment,{key:St},b(ht,pt))},R=()=>!!(h||n||p),j=P("list",r),[z,F,G]=Im(j);let H=g;typeof H=="boolean"&&(H={spinning:H});const J=!!(H!=null&&H.spinning),W=Ag(m);let X="";switch(W){case"large":X="lg";break;case"small":X="sm";break}const V=De(j,{[`${j}-vertical`]:c==="vertical",[`${j}-${X}`]:X,[`${j}-split`]:a,[`${j}-bordered`]:i,[`${j}-loading`]:J,[`${j}-grid`]:!!f,[`${j}-something-after-last-item`]:R(),[`${j}-rtl`]:T==="rtl"},M==null?void 0:M.className,o,u,F,G),Y=$g(S,{total:d.length,current:A,pageSize:N},n||{}),K=Math.ceil(Y.total/Y.pageSize);Y.current>K&&(Y.current=K);const B=n&&U.createElement("div",{className:De(`${j}-pagination`)},U.createElement(Cg,Object.assign({align:"end"},Y,{onChange:O,onShowSizeChange:D})));let tt=oc(d);n&&d.length>(Y.current-1)*Y.pageSize&&(tt=oc(d).splice((Y.current-1)*Y.pageSize,Y.pageSize));const at=Object.keys(f||{}).some(ht=>["xs","sm","md","lg","xl","xxl"].includes(ht)),ot=Ng(at),rt=U.useMemo(()=>{for(let ht=0;ht<ir.length;ht+=1){const pt=ir[ht];if(ot[pt])return pt}},[ot]),q=U.useMemo(()=>{if(!f)return;const ht=rt&&f[rt]?f[rt]:f.column;if(ht)return{width:`${100/ht}%`,maxWidth:`${100/ht}%`}},[JSON.stringify(f),rt]);let it=J&&U.createElement("div",{style:{minHeight:53}});if(tt.length>0){const ht=tt.map((pt,St)=>I(pt,St));it=f?U.createElement(Nm,{gutter:f.gutter},U.Children.map(ht,pt=>U.createElement("div",{key:pt==null?void 0:pt.key,style:q},pt))):U.createElement("ul",{className:`${j}-items`},ht)}else!s&&!J&&(it=U.createElement("div",{className:`${j}-empty-text`},(y==null?void 0:y.emptyText)||(L==null?void 0:L("List"))||U.createElement(kg,{componentName:"List"})));const Tt=Y.position||"bottom",gt=U.useMemo(()=>({grid:f,itemLayout:c}),[JSON.stringify(f),c]);return z(U.createElement(zs.Provider,{value:gt},U.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},M==null?void 0:M.style),l),className:V},w),(Tt==="top"||Tt==="both")&&B,v&&U.createElement("div",{className:`${j}-header`},v),U.createElement(Pg,Object.assign({},H),it,s),p&&U.createElement("div",{className:`${j}-footer`},p),h||(Tt==="bottom"||Tt==="both")&&B)))}const Dm=U.forwardRef(zm),Fh=Dm;Fh.Item=Bh;function Bm({elderlyId:t=""}){const{elderlyDetails:e}=U.useContext(Nn);console.log(e==null?void 0:e._id);const[n,r]=U.useState(!1),[i,a]=U.useState(null),[o,u]=U.useState([]),l=U.useCallback(()=>{Oh({to_date:"2024-11-30",from_date:Oe().format("YYYY-MM-DD"),is_resolved:!1,elderly_id:t}).then(c=>{c.data&&u(c.data)}).catch(c=>{console.log(c)})},[t]);U.useEffect(()=>{t&&l()},[l]);const s={dots:o.length>=2,infinite:o.length>2,speed:500,slidesToShow:o.length===1?1:2,slidesToScroll:1,draggable:!0,arrows:!1,appendDots:c=>E.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"10px",padding:"2px"},children:E.jsxs("ul",{id:"dots",style:{margin:"0px"},children:[" ",c," "]})}),responsive:[{breakpoint:1200,settings:{slidesToShow:(o.length===1,1),slidesToScroll:1}},{breakpoint:800,settings:{slidesToShow:1,slidesToScroll:1}}]};return E.jsxs(E.Fragment,{children:[o.length>0&&E.jsx("div",{id:"ActiveAlertsCards",className:"w-full mb-2 transition-all duration-300",children:E.jsx(Ug,{...s,className:"w-full transition-all duration-300",children:o==null?void 0:o.map((c,h)=>{var f,d,m,v,p,g;return E.jsx("div",{className:"px-2 overflow-hidden transition-all duration-300 relative w-full",children:E.jsxs("div",{id:"alertItem",className:`rounded-2xl overflow-hidden w-full ${((f=Ln(c))==null?void 0:f.label)==="Critical"?"bg-red-500":((d=Ln(c))==null?void 0:d.label)==="Warning"?"bg-yellow-500":"bg-blue-500"} p-4 w-full !flex justify-between items-center`,children:[E.jsx("div",{id:"leftSide",className:"z-50",children:E.jsx("div",{id:"alertItemHeader",children:E.jsxs("div",{id:"alertItemTitleAndDescription",className:"flex flex-col gap-6",children:[E.jsxs("div",{id:"time",className:"flex gap-2",children:[E.jsxs("span",{className:"bg-white font-semibold p-1 px-2 rounded-full text-text-primary flex items-center gap-2",children:[E.jsx("div",{id:"dot",className:`w-2 h-2 ${((m=Ln(c))==null?void 0:m.label)==="Critical"?"bg-red-500":((v=Ln(c))==null?void 0:v.label)==="Warning"?"bg-yellow-500":"bg-blue-500"} rounded-full animate-ping`})," ",Du(c.created_at)]}),E.jsx("span",{className:"bg-white font-semibold p-1 px-2 rounded-full text-text-primary",children:Ih(c.created_at)})]}),E.jsxs("div",{id:"alertItemTitleAndDescription",children:[E.jsx("h1",{className:"text-xl font-bold text-white m-0",children:(p=Ln(c))==null?void 0:p.title}),E.jsx("p",{className:"text-white text-base m-0 leading-none",children:(g=Ln(c))==null?void 0:g.message})]})]})})}),E.jsx("div",{id:"rightSide",className:"z-50",children:E.jsx("span",{onClick:()=>{a(c),r(!0)},className:"text-sm p-2 px-3 bg-white rounded-xl text-text-primary cursor-pointer hover:bg-white/90 transition-all duration-300",children:"Mark as Complete"})}),E.jsx("img",{src:qg,alt:"",className:"absolute top-0 right-0 x-0"})]})},h)})})}),E.jsx(Wg,{openAlertCloseModal:n,setOpenAlertCloseModal:r,selectedAlert:i,getAlertListData:l})]})}function cc({data:t=[]}){const e={tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(n){const{name:r,value:i}=n[0];return`Time: ${r}<br/>Heart Rate: ${i}`},textStyle:{color:"#fff",fontSize:12},backgroundColor:"rgba(0, 0, 0, 0.7)",borderWidth:0},grid:{left:"0%",right:"5%",bottom:"0%",top:"0%"},xAxis:{type:"category",boundaryGap:!1,data:t==null?void 0:t.time,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{name:"Heart Rate",data:t==null?void 0:t.heartRate,type:"line",smooth:!1,lineStyle:{width:2,color:"#FFFFFF"},itemStyle:{opacity:0},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 255, 255, 0.5)"},{offset:1,color:"rgba(255, 255, 255, 0)"}]}}}]};return E.jsx(em,{option:e,style:{height:"65px"}})}var Fm={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(st,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})})(Fm);function Vm(t){return Eg({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.47c0-2.04,0.51-3.93,1.52-5.66s2.38-3.1,4.11-4.11s3.61-1.51,5.64-1.51c1.52,0,2.98,0.3,4.37,0.89
	s2.58,1.4,3.59,2.4s1.81,2.2,2.4,3.6s0.89,2.85,0.89,4.39c0,1.52-0.3,2.98-0.89,4.37s-1.4,2.59-2.4,3.59s-2.2,1.8-3.59,2.39
	s-2.84,0.89-4.37,0.89c-1.53,0-3-0.3-4.39-0.89s-2.59-1.4-3.6-2.4s-1.8-2.2-2.4-3.58S3.74,16,3.74,14.47z M6.22,14.47
	c0,2.37,0.86,4.43,2.59,6.18c1.73,1.73,3.79,2.59,6.2,2.59c1.58,0,3.05-0.39,4.39-1.18s2.42-1.85,3.21-3.2s1.19-2.81,1.19-4.39
	s-0.4-3.05-1.19-4.4s-1.86-2.42-3.21-3.21s-2.81-1.18-4.39-1.18s-3.05,0.39-4.39,1.18S8.2,8.72,7.4,10.07S6.22,12.89,6.22,14.47z
	 M14.14,14.47V7.81c0-0.23,0.08-0.43,0.24-0.59s0.36-0.24,0.59-0.24s0.43,0.08,0.59,0.24s0.24,0.36,0.24,0.59v6.15l3.59,2.09
	c0.2,0.12,0.32,0.29,0.38,0.51s0.03,0.43-0.09,0.62c-0.16,0.28-0.4,0.42-0.72,0.42c-0.17,0-0.31-0.04-0.42-0.12l-3.82-2.23
	c-0.17-0.05-0.31-0.15-0.42-0.29S14.14,14.66,14.14,14.47z`},child:[]}]})(t)}const{WeekPicker:Gm}=am,Hm=()=>{const[t,e]=U.useState(Oe()),[n,r]=U.useState(Oe()),[i,a]=U.useState(!1);U.useState([{title:"Doctor Appointment For Whooping Cough",time:"2024-11-14T12:20",location:"30 Pitt Street, Sydney Harbour Marriott.",date:Oe("2024-11-14")},{title:"Seniors' Week Photography",time:"2024-11-14T19:00",location:"19 Woronora Ave., Leumeah NSW 2560, AUS",date:Oe("2024-11-14")}]);const[o,u]=U.useState([]),l=U.useCallback(()=>{Xg({event_status:"pending"}).then(b=>{u(b.data)}).catch(b=>{console.log(b)})},[]);U.useEffect(()=>{l()},[l]);const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=U.useRef(null),h=b=>{e(b.startOf("week")),r(b.startOf("week"))},f=b=>{const y=b==="prev"?t.subtract(1,"week"):t.add(1,"week");e(y),r(y.startOf("week"))},[d,m]=U.useState(!1),v=()=>{m(!0)},p=b=>{r(b)};function g(){return s.map((b,y)=>{const w=t.startOf("week").add(y,"day"),x=w.isSame(n,"day");return E.jsxs("div",{onClick:()=>p(w),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"0.625rem",width:"100%",borderRadius:"0.5rem",cursor:"pointer",backgroundColor:x?"#7F87FC":"transparent",color:x?"#fff":"var(--text-text-primary)",justifyContent:"center",transition:"background-color 0.3s ease, color 0.3s ease",userSelect:"none"},children:[E.jsx("span",{className:"text-xs",children:b}),E.jsx("span",{className:"text-sm font-bold",children:w.date()})]},b)})}const _=o==null?void 0:o.filter(b=>Oe(b==null?void 0:b.date_time).isSame(Oe(n),"day"));return U.useEffect(()=>{console.log("selected Day",n.format("YYYY-MM-DD"))},[n]),E.jsxs("div",{className:"bg-[#fff] relative p-5 rounded-2xl w-full",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h1",{className:"text-lg font-bold text-text-primary leading-none flex items-center gap-2 ",children:"Events"})}),E.jsxs("div",{className:"flex justify-center gap-3.5 items-center mb-3.5 cursor-pointer mt-2",children:[E.jsx(ma,{type:"link",onClick:()=>f("prev"),className:"p-0",icon:E.jsx(nm,{size:20})}),E.jsx("span",{className:"text-lg font-bold",onClick:v,children:t.format("MMMM YYYY")}),E.jsx(ma,{type:"link",className:"p-0",onClick:()=>f("next"),icon:E.jsx(rm,{size:20})})]}),E.jsx(Gm,{open:d,onOpenChange:b=>m(b),ref:c,onChange:h,locale:Rg,picker:"week",style:{position:"absolute",top:"16%",width:"50px",opacity:1,zIndex:-1,left:"50%",transform:"translateX(-50%)"}}),E.jsx("div",{className:"flex justify-around mb-5  rounded-lg p-1.25 !px-0",children:g()}),E.jsxs("div",{className:" p-2.5 rounded-md text-gray-800",children:[E.jsx("h3",{className:"text-sm font-semibold",children:n.format("dddd, DD")}),E.jsx(jg,{renderEmpty:Ym,children:E.jsx(Fh,{itemLayout:"horizontal",dataSource:_,renderItem:b=>E.jsx("div",{className:"mt-3",children:E.jsxs("div",{className:"flex flex-col gap-1.5 items-start justify-between p-2.5 py-0 border-l-[3px] border-l-[#7F87FC]",children:[E.jsx("div",{className:"text-base font-medium",children:b.event_name}),E.jsxs("div",{className:"flex items-center gap-1 text-sm text-text-secondary font-medium",children:[E.jsx(Vm,{size:16}),Oe(b.date_time).format("hh:mm A")]})]})})})})]}),E.jsx(Qg,{modalOpen:i,setModalOpen:a,type:"event",elderlyLatLng:{lat:42.3601,lng:-71.0589}})]})},Ym=()=>E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx(im,{style:{fontSize:20}}),E.jsx("p",{children:"No Events Found"})]});var oo={},_i={};function wt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vh(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uo(t){let e,n,r;t.length!==2?(e=wt,n=(u,l)=>wt(t(u),l),r=(u,l)=>t(u)-l):(e=t===wt||t===Vh?t:Um,n=t,r=t);function i(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const h=s+c>>>1;n(u[h],l)<0?s=h+1:c=h}while(s<c)}return s}function a(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const h=s+c>>>1;n(u[h],l)<=0?s=h+1:c=h}while(s<c)}return s}function o(u,l,s=0,c=u.length){const h=i(u,l,s,c-1);return h>s&&r(u[h-1],l)>-r(u[h],l)?h-1:h}return{left:i,center:o,right:a}}function Um(){return 0}function va(t){return t===null?NaN:+t}function*qm(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Gh=uo(wt),Ke=Gh.right,Wm=Gh.left,Xm=uo(va).center;function Jm(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=Ds(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const Hh=Yh(Ds),Zm=Yh(Km);function Yh(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return e;const u=n&&t(n),l=r&&t(r),s=i.slice();return u&&l?(Dn(u,s,i,a,o),Dn(u,i,s,a,o),Dn(u,s,i,a,o),Bn(l,i,s,a,o),Bn(l,s,i,a,o),Bn(l,i,s,a,o)):u?(Dn(u,i,s,a,o),Dn(u,s,i,a,o),Dn(u,i,s,a,o)):l&&(Bn(l,i,s,a,o),Bn(l,s,i,a,o),Bn(l,i,s,a,o)),e}}function Dn(t,e,n,r,i){for(let a=0,o=r*i;a<o;)t(e,n,a,a+=r,1)}function Bn(t,e,n,r,i){for(let a=0,o=r*i;a<r;++a)t(e,n,a,a+o,r)}function Km(t){const e=Ds(t);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,e(n,r,i+0,a+0,o),e(n,r,i+1,a+1,o),e(n,r,i+2,a+2,o),e(n,r,i+3,a+3,o)}}function Ds(t){const e=Math.floor(t);if(e===t)return Qm(t);const n=t-e,r=2*t+1;return(i,a,o,u,l)=>{if(!((u-=l)>=o))return;let s=e*a[o];const c=l*e,h=c+l;for(let f=o,d=o+c;f<d;f+=l)s+=a[Math.min(u,f)];for(let f=o,d=u;f<=d;f+=l)s+=a[Math.min(u,f+c)],i[f]=(s+n*(a[Math.max(o,f-h)]+a[Math.min(u,f+h)]))/r,s-=a[Math.max(o,f-c)]}}function Qm(t){const e=2*t+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let u=t*r[i];const l=o*t;for(let s=i,c=i+l;s<c;s+=o)u+=r[Math.min(a,s)];for(let s=i,c=a;s<=c;s+=o)u+=r[Math.min(a,s+l)],n[s]=u/e,u-=r[Math.max(i,s-l)]}}function so(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function tv(t){return t.length|0}function ev(t){return!(t>0)}function nv(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function rv(t){return e=>t(...e)}function iv(...t){const e=typeof t[t.length-1]=="function"&&rv(t.pop());t=t.map(nv);const n=t.map(tv),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(ev))return a;for(;;){a.push(i.map((u,l)=>t[l][u]));let o=r;for(;++i[o]===n[o];){if(o===0)return e?a.map(e):a;i[o--]=0}}}function av(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function Uh(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let u of t)(u=e(u,++o,t))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++n,a+=r*(u-i))}if(n>1)return a/(n-1)}function qh(t,e){const n=Uh(t,e);return n&&Math.sqrt(n)}function Wr(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Nt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,u=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);u&&(n[r++]=u),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function ov(t,e){const n=new Nt;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function uv(t,e){const n=new Nt;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class ei extends Map{constructor(e,n=Jh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Fu(this,e))}has(e){return super.has(Fu(this,e))}set(e,n){return super.set(Wh(this,e),n)}delete(e){return super.delete(Xh(this,e))}}class yn extends Set{constructor(e,n=Jh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Fu(this,e))}add(e){return super.add(Wh(this,e))}delete(e){return super.delete(Xh(this,e))}}function Fu({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wh({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xh({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Jh(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ar(t){return t}function Zh(t,...e){return xr(t,ar,ar,e)}function Kh(t,...e){return xr(t,Array.from,ar,e)}function Qh(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return t}function sv(t,...e){return Qh(Kh(t,...e),e)}function lv(t,e,...n){return Qh(ed(t,e,...n),n)}function td(t,e,...n){return xr(t,ar,e,n)}function ed(t,e,...n){return xr(t,Array.from,e,n)}function cv(t,...e){return xr(t,ar,nd,e)}function fv(t,...e){return xr(t,Array.from,nd,e)}function nd(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function xr(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const u=new ei,l=r[o++];let s=-1;for(const c of a){const h=l(c,++s,a),f=u.get(h);f?f.push(c):u.set(h,[c])}for(const[c,h]of u)u.set(c,i(h,o));return e(u)}(t,0)}function rd(t,e){return Array.from(e,n=>t[n])}function Vu(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const u=or(o[i],o[a]);if(u)return u}})):(n=t.map(n),r.sort((i,a)=>or(n[i],n[a]))),rd(t,r)}return t.sort(Bs(n))}function Bs(t=wt){if(t===wt)return or;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function or(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function hv(t,e,n){return(e.length!==2?Vu(td(t,e,n),([r,i],[a,o])=>wt(i,o)||wt(r,a)):Vu(Zh(t,n),([r,i],[a,o])=>e(i,o)||wt(r,a))).map(([r])=>r)}var dv=Array.prototype,pv=dv.slice;function Qo(t){return()=>t}const gv=Math.sqrt(50),mv=Math.sqrt(10),vv=Math.sqrt(2);function ya(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=gv?10:a>=mv?5:a>=vv?2:1;let u,l,s;return i<0?(s=Math.pow(10,-i)/o,u=Math.round(t*s),l=Math.round(e*s),u/s<t&&++u,l/s>e&&--l,s=-s):(s=Math.pow(10,i)*o,u=Math.round(t/s),l=Math.round(e/s),u*s<t&&++u,l*s>e&&--l),l<u&&.5<=n&&n<2?ya(t,e,n*2):[u,l,s]}function bn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?ya(e,t,n):ya(t,e,n);if(!(a>=i))return[];const u=a-i+1,l=new Array(u);if(r)if(o<0)for(let s=0;s<u;++s)l[s]=(a-s)/-o;else for(let s=0;s<u;++s)l[s]=(a-s)*o;else if(o<0)for(let s=0;s<u;++s)l[s]=(i+s)/-o;else for(let s=0;s<u;++s)l[s]=(i+s)*o;return l}function _n(t,e,n){return e=+e,t=+t,n=+n,ya(t,e,n)[2]}function ba(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_n(e,t,n):_n(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Fs(t,e,n){let r;for(;;){const i=_n(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Vs(t){return Math.max(1,Math.ceil(Math.log(so(t))/Math.LN2)+1)}function fc(){var t=ar,e=Wr,n=Vs;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,u,l,s=new Array(o);for(a=0;a<o;++a)s[a]=t(i[a],a,i);var c=e(s),h=c[0],f=c[1],d=n(s,h,f);if(!Array.isArray(d)){const b=f,y=+d;if(e===Wr&&([h,f]=Fs(h,f,y)),d=bn(h,f,y),d[0]<=h&&(l=_n(h,f,y)),d[d.length-1]>=f)if(b>=f&&e===Wr){const w=_n(h,f,y);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else d.pop()}for(var m=d.length,v=0,p=m;d[v]<=h;)++v;for(;d[p-1]>f;)--p;(v||p<m)&&(d=d.slice(v,p),m=p-v);var g=new Array(m+1),_;for(a=0;a<=m;++a)_=g[a]=[],_.x0=a>0?d[a-1]:h,_.x1=a<m?d[a]:f;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(u=s[a])!=null&&h<=u&&u<=f&&g[Math.min(m,Math.floor((u-h)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((u=s[a])!=null&&h<=u&&u<=f){const b=Math.floor((h-u)*l);g[Math.min(m,b+(d[b]<=u))].push(i[a])}}}else for(a=0;a<o;++a)(u=s[a])!=null&&h<=u&&u<=f&&g[Ke(d,u,0,m)].push(i[a]);return g}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:Qo(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:Qo([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Qo(Array.isArray(i)?pv.call(i):i),r):n},r}function ni(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Gs(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function _a(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Hs(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function lo(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?or:Bs(i);r>n;){if(r-n>600){const l=r-n+1,s=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(s-l/2<0?-1:1),d=Math.max(n,Math.floor(e-s*h/l+f)),m=Math.min(r,Math.floor(e+(l-s)*h/l+f));lo(t,e,d,m,i)}const a=t[e];let o=n,u=r;for(Cr(t,n,e),i(t[r],a)>0&&Cr(t,n,r);o<u;){for(Cr(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Cr(t,n,u):(++u,Cr(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Cr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function id(t,e=wt){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?wt(o,i)>0:wt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function ri(t,e,n){if(t=Float64Array.from(qm(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _a(t);if(e>=1)return ni(t);var r,i=(r-1)*e,a=Math.floor(i),o=ni(lo(t,a).subarray(0,a+1)),u=_a(t.subarray(a+1));return o+(u-o)*(i-a)}}function ad(t,e,n=va){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function od(t,e,n=va){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(u,l)=>va(n(t[l],l,t))),e<=0)return Hs(r);if(e>=1)return Gs(r);var r,i=Uint32Array.from(t,(u,l)=>l),a=r.length-1,o=Math.floor(a*e);return lo(i,o,0,a,(u,l)=>or(r[u],r[l])),o=id(i.subarray(0,o+1),u=>r[u]),o>=0?o:-1}}function yv(t,e,n){const r=so(t),i=ri(t,.75)-ri(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function bv(t,e,n){const r=so(t),i=qh(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function _v(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function wv(t,e){return ri(t,.5,e)}function xv(t,e){return od(t,.5,e)}function*Mv(t){for(const e of t)yield*e}function Ys(t){return Array.from(Mv(t))}function Tv(t,e){const n=new ei;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function Sv(t,e=Av){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function Av(t,e){return[t,e]}function Xe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function $v(t,e=wt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=wt);const i=(u,l)=>e(n[u],n[l]);let a,o;return t=Uint32Array.from(n,(u,l)=>l),t.sort(e===wt?(u,l)=>or(n[u],n[l]):Bs(i)),t.forEach((u,l)=>{const s=i(u,a===void 0?u:a);s>=0?((a===void 0||s>0)&&(a=u,o=l),r[u]=o):r[u]=NaN}),r}function Cv(t,e=wt){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?wt(o,i)<0:wt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function ud(t,e=wt){if(e.length===1)return Hs(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?e(a,a)===0:e(a,n)<0)&&(n=a,r=i);return r}function Nv(t,e=wt){if(e.length===1)return Gs(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?e(a,a)===0:e(a,n)>0)&&(n=a,r=i);return r}function kv(t,e){const n=ud(t,e);return n<0?void 0:n}const Pv=sd(Math.random);function sd(t){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=t()*a--|0,u=n[a+r];n[a+r]=n[o+r],n[o+r]=u}return n}}function Ev(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function ld(t){if(!(a=t.length))return[];for(var e=-1,n=_a(t,Rv),r=new Array(n);++e<n;)for(var i=-1,a,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function Rv(t){return t.length}function jv(){return ld(arguments)}function Ov(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function Iv(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Lv(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function zv(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Dv(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=e(n,a,++o,t);return n}function Bv(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Fv(t,...e){t=new yn(t);for(const n of e)for(const r of n)t.delete(r);return t}function Vv(t,e){const n=e[Symbol.iterator](),r=new yn;for(const i of t){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function Gv(t,...e){t=new yn(t),e=e.map(Hv);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Hv(t){return t instanceof yn?t:new yn(t)}function cd(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const a=hc(i);if(r.has(a))continue;let o,u;for(;{value:o,done:u}=n.next();){if(u)return!1;const l=hc(o);if(r.add(l),Object.is(a,l))break}}return!0}function hc(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Yv(t,e){return cd(e,t)}function Uv(...t){const e=new yn;for(const n of t)for(const r of n)e.add(r);return e}function qv(t){return t}var ia=1,aa=2,Gu=3,Ir=4,dc=1e-6;function Wv(t){return"translate("+t+",0)"}function Xv(t){return"translate(0,"+t+")"}function Jv(t){return e=>+t(e)}function Zv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Kv(){return!this.__axis}function co(t,e){var n=[],r=null,i=null,a=6,o=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===ia||t===Ir?-1:1,c=t===Ir||t===aa?"x":"y",h=t===ia||t===Gu?Wv:Xv;function f(d){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):qv),p=Math.max(a,0)+u,g=e.range(),_=+g[0]+l,b=+g[g.length-1]+l,y=(e.bandwidth?Zv:Jv)(e.copy(),l),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),A=w.selectAll(".tick").data(m,e).order(),$=A.exit(),N=A.enter().append("g").attr("class","tick"),k=A.select("line"),P=A.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",s*a)),P=P.merge(N.append("text").attr("fill","currentColor").attr(c,s*p).attr("dy",t===ia?"0em":t===Gu?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),A=A.transition(d),k=k.transition(d),P=P.transition(d),$=$.transition(d).attr("opacity",dc).attr("transform",function(L){return isFinite(L=y(L))?h(L+l):this.getAttribute("transform")}),N.attr("opacity",dc).attr("transform",function(L){var T=this.parentNode.__axis;return h((T&&isFinite(T=T(L))?T:y(L))+l)})),$.remove(),x.attr("d",t===Ir||t===aa?o?"M"+s*o+","+_+"H"+l+"V"+b+"H"+s*o:"M"+l+","+_+"V"+b:o?"M"+_+","+s*o+"V"+l+"H"+b+"V"+s*o:"M"+_+","+l+"H"+b),A.attr("opacity",1).attr("transform",function(L){return h(y(L)+l)}),k.attr(c+"2",s*a),P.attr(c,s*p).text(v),w.filter(Kv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===aa?"start":t===Ir?"end":"middle"),w.each(function(){this.__axis=y})}return f.scale=function(d){return arguments.length?(e=d,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(u=+d,f):u},f.offset=function(d){return arguments.length?(l=+d,f):l},f}function Qv(t){return co(ia,t)}function t2(t){return co(aa,t)}function e2(t){return co(Gu,t)}function n2(t){return co(Ir,t)}var r2={value:()=>{}};function kn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oa(n)}function oa(t){this._=t}function i2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oa.prototype=kn.prototype={constructor:oa,on:function(t,e){var n=this._,r=i2(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=a2(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=pc(n[i],t.name,e);else if(e==null)for(i in n)n[i]=pc(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new oa(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function a2(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function pc(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=r2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Hu="http://www.w3.org/1999/xhtml";const Yu={svg:"http://www.w3.org/2000/svg",xhtml:Hu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Yu.hasOwnProperty(e)?{space:Yu[e],local:t}:t}function o2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hu&&e.documentElement.namespaceURI===Hu?e.createElement(t):e.createElementNS(n,t)}}function u2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fo(t){var e=wi(t);return(e.local?u2:o2)(e)}function s2(){}function ho(t){return t==null?s2:function(){return this.querySelector(t)}}function l2(t){typeof t!="function"&&(t=ho(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,s,c=0;c<o;++c)(l=a[c])&&(s=t.call(l,l.__data__,c,a))&&("__data__"in l&&(s.__data__=l.__data__),u[c]=s);return new Xt(r,this._parents)}function fd(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function c2(){return[]}function Us(t){return t==null?c2:function(){return this.querySelectorAll(t)}}function f2(t){return function(){return fd(t.apply(this,arguments))}}function h2(t){typeof t=="function"?t=f2(t):t=Us(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,s=0;s<u;++s)(l=o[s])&&(r.push(t.call(l,l.__data__,s,o)),i.push(l));return new Xt(r,i)}function qs(t){return function(){return this.matches(t)}}function hd(t){return function(e){return e.matches(t)}}var d2=Array.prototype.find;function p2(t){return function(){return d2.call(this.children,t)}}function g2(){return this.firstElementChild}function m2(t){return this.select(t==null?g2:p2(typeof t=="function"?t:hd(t)))}var v2=Array.prototype.filter;function y2(){return Array.from(this.children)}function b2(t){return function(){return v2.call(this.children,t)}}function _2(t){return this.selectAll(t==null?y2:b2(typeof t=="function"?t:hd(t)))}function w2(t){typeof t!="function"&&(t=qs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,s=0;s<o;++s)(l=a[s])&&t.call(l,l.__data__,s,a)&&u.push(l);return new Xt(r,this._parents)}function dd(t){return new Array(t.length)}function x2(){return new Xt(this._enter||this._groups.map(dd),this._parents)}function wa(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wa.prototype={constructor:wa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function M2(t){return function(){return t}}function T2(t,e,n,r,i,a){for(var o=0,u,l=e.length,s=a.length;o<s;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new wa(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function S2(t,e,n,r,i,a,o){var u,l,s=new Map,c=e.length,h=a.length,f=new Array(c),d;for(u=0;u<c;++u)(l=e[u])&&(f[u]=d=o.call(l,l.__data__,u,e)+"",s.has(d)?i[u]=l:s.set(d,l));for(u=0;u<h;++u)d=o.call(t,a[u],u,a)+"",(l=s.get(d))?(r[u]=l,l.__data__=a[u],s.delete(d)):n[u]=new wa(t,a[u]);for(u=0;u<c;++u)(l=e[u])&&s.get(f[u])===l&&(i[u]=l)}function A2(t){return t.__data__}function $2(t,e){if(!arguments.length)return Array.from(this,A2);var n=e?S2:T2,r=this._parents,i=this._groups;typeof t!="function"&&(t=M2(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),s=0;s<a;++s){var c=r[s],h=i[s],f=h.length,d=C2(t.call(c,c&&c.__data__,s,r)),m=d.length,v=u[s]=new Array(m),p=o[s]=new Array(m),g=l[s]=new Array(f);n(c,h,v,p,g,d,e);for(var _=0,b=0,y,w;_<m;++_)if(y=v[_]){for(_>=b&&(b=_+1);!(w=p[b])&&++b<m;);y._next=w||null}}return o=new Xt(o,r),o._enter=u,o._exit=l,o}function C2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N2(){return new Xt(this._exit||this._groups.map(dd),this._parents)}function k2(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function P2(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),l=0;l<o;++l)for(var s=n[l],c=r[l],h=s.length,f=u[l]=new Array(h),d,m=0;m<h;++m)(d=s[m]||c[m])&&(f[m]=d);for(;l<i;++l)u[l]=n[l];return new Xt(u,this._parents)}function E2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function R2(t){t||(t=j2);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,l=i[a]=new Array(u),s,c=0;c<u;++c)(s=o[c])&&(l[c]=s);l.sort(e)}return new Xt(i,this._parents).order()}function j2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function O2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function I2(){return Array.from(this)}function L2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function z2(){let t=0;for(const e of this)++t;return t}function D2(){return!this.node()}function B2(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function F2(t){return function(){this.removeAttribute(t)}}function V2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G2(t,e){return function(){this.setAttribute(t,e)}}function H2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Y2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function U2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function q2(t,e){var n=wi(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?V2:F2:typeof e=="function"?n.local?U2:Y2:n.local?H2:G2)(n,e))}function Ws(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function W2(t){return function(){this.style.removeProperty(t)}}function X2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function J2(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Z2(t,e,n){return arguments.length>1?this.each((e==null?W2:typeof e=="function"?J2:X2)(t,e,n??"")):wn(this.node(),t)}function wn(t,e){return t.style.getPropertyValue(e)||Ws(t).getComputedStyle(t,null).getPropertyValue(e)}function K2(t){return function(){delete this[t]}}function Q2(t,e){return function(){this[t]=e}}function ty(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ey(t,e){return arguments.length>1?this.each((e==null?K2:typeof e=="function"?ty:Q2)(t,e)):this.node()[t]}function pd(t){return t.trim().split(/^|\s+/)}function Xs(t){return t.classList||new gd(t)}function gd(t){this._node=t,this._names=pd(t.getAttribute("class")||"")}gd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function md(t,e){for(var n=Xs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function vd(t,e){for(var n=Xs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ny(t){return function(){md(this,t)}}function ry(t){return function(){vd(this,t)}}function iy(t,e){return function(){(e.apply(this,arguments)?md:vd)(this,t)}}function ay(t,e){var n=pd(t+"");if(arguments.length<2){for(var r=Xs(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?iy:e?ny:ry)(n,e))}function oy(){this.textContent=""}function uy(t){return function(){this.textContent=t}}function sy(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ly(t){return arguments.length?this.each(t==null?oy:(typeof t=="function"?sy:uy)(t)):this.node().textContent}function cy(){this.innerHTML=""}function fy(t){return function(){this.innerHTML=t}}function hy(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function dy(t){return arguments.length?this.each(t==null?cy:(typeof t=="function"?hy:fy)(t)):this.node().innerHTML}function py(){this.nextSibling&&this.parentNode.appendChild(this)}function gy(){return this.each(py)}function my(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vy(){return this.each(my)}function yy(t){var e=typeof t=="function"?t:fo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function by(){return null}function _y(t,e){var n=typeof t=="function"?t:fo(t),r=e==null?by:typeof e=="function"?e:ho(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wy(){var t=this.parentNode;t&&t.removeChild(this)}function xy(){return this.each(wy)}function My(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ty(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sy(t){return this.select(t?Ty:My)}function Ay(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $y(t){return function(e){t.call(this,e,this.__data__)}}function Cy(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ny(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function ky(t,e,n){return function(){var r=this.__on,i,a=$y(e);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Py(t,e,n){var r=Cy(t+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,c;l<s;++l)for(i=0,c=u[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=e?ky:Ny,i=0;i<a;++i)this.each(u(r[i],e,n));return this}function yd(t,e,n){var r=Ws(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ey(t,e){return function(){return yd(this,t,e)}}function Ry(t,e){return function(){return yd(this,t,e.apply(this,arguments))}}function jy(t,e){return this.each((typeof e=="function"?Ry:Ey)(t,e))}function*Oy(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Js=[null];function Xt(t,e){this._groups=t,this._parents=e}function Pn(){return new Xt([[document.documentElement]],Js)}function Iy(){return this}Xt.prototype=Pn.prototype={constructor:Xt,select:l2,selectAll:h2,selectChild:m2,selectChildren:_2,filter:w2,data:$2,enter:x2,exit:N2,join:k2,merge:P2,selection:Iy,order:E2,sort:R2,call:O2,nodes:I2,node:L2,size:z2,empty:D2,each:B2,attr:q2,style:Z2,property:ey,classed:ay,text:ly,html:dy,raise:gy,lower:vy,append:yy,insert:_y,remove:xy,clone:Sy,datum:Ay,on:Py,dispatch:jy,[Symbol.iterator]:Oy};function Ft(t){return typeof t=="string"?new Xt([[document.querySelector(t)]],[document.documentElement]):new Xt([[t]],Js)}function Ly(t){return Ft(fo(t).call(document.documentElement))}var zy=0;function bd(){return new Uu}function Uu(){this._="@"+(++zy).toString(36)}Uu.prototype=bd.prototype={constructor:Uu,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function _d(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ae(t,e){if(t=_d(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Dy(t,e){return t.target&&(t=_d(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>ae(n,e))}function By(t){return typeof t=="string"?new Xt([document.querySelectorAll(t)],[document.documentElement]):new Xt([fd(t)],Js)}const Fy={passive:!1},ii={capture:!0,passive:!1};function tu(t){t.stopImmediatePropagation()}function Qn(t){t.preventDefault(),t.stopImmediatePropagation()}function po(t){var e=t.document.documentElement,n=Ft(t).on("dragstart.drag",Qn,ii);"onselectstart"in e?n.on("selectstart.drag",Qn,ii):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function go(t,e){var n=t.document.documentElement,r=Ft(t).on("dragstart.drag",null);e&&(r.on("click.drag",Qn,ii),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Oi=t=>()=>t;function qu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:u,dx:l,dy:s,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:c}})}qu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Vy(t){return!t.ctrlKey&&!t.button}function Gy(){return this.parentNode}function Hy(t,e){return e??{x:t.x,y:t.y}}function Yy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uy(){var t=Vy,e=Gy,n=Hy,r=Yy,i={},a=kn("start","drag","end"),o=0,u,l,s,c,h=0;function f(y){y.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",g,Fy).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(y,w){if(!(c||!t.call(this,y,w))){var x=b(this,e.call(this,y,w),y,w,"mouse");x&&(Ft(y.view).on("mousemove.drag",m,ii).on("mouseup.drag",v,ii),po(y.view),tu(y),s=!1,u=y.clientX,l=y.clientY,x("start",y))}}function m(y){if(Qn(y),!s){var w=y.clientX-u,x=y.clientY-l;s=w*w+x*x>h}i.mouse("drag",y)}function v(y){Ft(y.view).on("mousemove.drag mouseup.drag",null),go(y.view,s),Qn(y),i.mouse("end",y)}function p(y,w){if(t.call(this,y,w)){var x=y.changedTouches,A=e.call(this,y,w),$=x.length,N,k;for(N=0;N<$;++N)(k=b(this,A,y,w,x[N].identifier,x[N]))&&(tu(y),k("start",y,x[N]))}}function g(y){var w=y.changedTouches,x=w.length,A,$;for(A=0;A<x;++A)($=i[w[A].identifier])&&(Qn(y),$("drag",y,w[A]))}function _(y){var w=y.changedTouches,x=w.length,A,$;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),A=0;A<x;++A)($=i[w[A].identifier])&&(tu(y),$("end",y,w[A]))}function b(y,w,x,A,$,N){var k=a.copy(),P=ae(N||x,w),L,T,M;if((M=n.call(y,new qu("beforestart",{sourceEvent:x,target:f,identifier:$,active:o,x:P[0],y:P[1],dx:0,dy:0,dispatch:k}),A))!=null)return L=M.x-P[0]||0,T=M.y-P[1]||0,function S(C,O,D){var I=P,R;switch(C){case"start":i[$]=S,R=o++;break;case"end":delete i[$],--o;case"drag":P=ae(D||O,w),R=o;break}k.call(C,y,new qu(C,{sourceEvent:O,subject:M,target:f,identifier:$,active:R,x:P[0]+L,y:P[1]+T,dx:P[0]-I[0],dy:P[1]-I[1],dispatch:k}),A)}}return f.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Oi(!!y),f):t},f.container=function(y){return arguments.length?(e=typeof y=="function"?y:Oi(y),f):e},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Oi(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Oi(!!y),f):r},f.on=function(){var y=a.on.apply(a,arguments);return y===a?f:y},f.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,f):Math.sqrt(h)},f}function Mr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rn(){}var xn=.7,ur=1/xn,tr="\\s*([+-]?\\d+)\\s*",ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qy=/^#([0-9a-f]{3,8})$/,Wy=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),Xy=new RegExp(`^rgb\\(${Te},${Te},${Te}\\)$`),Jy=new RegExp(`^rgba\\(${tr},${tr},${tr},${ai}\\)$`),Zy=new RegExp(`^rgba\\(${Te},${Te},${Te},${ai}\\)$`),Ky=new RegExp(`^hsl\\(${ai},${Te},${Te}\\)$`),Qy=new RegExp(`^hsla\\(${ai},${Te},${Te},${ai}\\)$`),gc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(rn,Qe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mc,formatHex:mc,formatHex8:tb,formatHsl:eb,formatRgb:vc,toString:vc});function mc(){return this.rgb().formatHex()}function tb(){return this.rgb().formatHex8()}function eb(){return wd(this).formatHsl()}function vc(){return this.rgb().formatRgb()}function Qe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qy.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yc(e):n===3?new Pt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ii(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ii(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wy.exec(t))?new Pt(e[1],e[2],e[3],1):(e=Xy.exec(t))?new Pt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jy.exec(t))?Ii(e[1],e[2],e[3],e[4]):(e=Zy.exec(t))?Ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ky.exec(t))?wc(e[1],e[2]/100,e[3]/100,1):(e=Qy.exec(t))?wc(e[1],e[2]/100,e[3]/100,e[4]):gc.hasOwnProperty(t)?yc(gc[t]):t==="transparent"?new Pt(NaN,NaN,NaN,0):null}function yc(t){return new Pt(t>>16&255,t>>8&255,t&255,1)}function Ii(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pt(t,e,n,r)}function Zs(t){return t instanceof rn||(t=Qe(t)),t?(t=t.rgb(),new Pt(t.r,t.g,t.b,t.opacity)):new Pt}function sr(t,e,n,r){return arguments.length===1?Zs(t):new Pt(t,e,n,r??1)}function Pt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Mr(Pt,sr,xi(rn,{brighter(t){return t=t==null?ur:Math.pow(ur,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xn:Math.pow(xn,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pt(gn(this.r),gn(this.g),gn(this.b),xa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bc,formatHex:bc,formatHex8:nb,formatRgb:_c,toString:_c}));function bc(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}`}function nb(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}${dn((isNaN(this.opacity)?1:this.opacity)*255)}`}function _c(){const t=xa(this.opacity);return`${t===1?"rgb(":"rgba("}${gn(this.r)}, ${gn(this.g)}, ${gn(this.b)}${t===1?")":`, ${t})`}`}function xa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dn(t){return t=gn(t),(t<16?"0":"")+t.toString(16)}function wc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pe(t,e,n,r)}function wd(t){if(t instanceof pe)return new pe(t.h,t.s,t.l,t.opacity);if(t instanceof rn||(t=Qe(t)),!t)return new pe;if(t instanceof pe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=l>0&&l<1?0:o,new pe(o,u,l,t.opacity)}function Ma(t,e,n,r){return arguments.length===1?wd(t):new pe(t,e,n,r??1)}function pe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mr(pe,Ma,xi(rn,{brighter(t){return t=t==null?ur:Math.pow(ur,t),new pe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xn:Math.pow(xn,t),new pe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pt(eu(t>=240?t-240:t+120,i,r),eu(t,i,r),eu(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pe(xc(this.h),Li(this.s),Li(this.l),xa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xa(this.opacity);return`${t===1?"hsl(":"hsla("}${xc(this.h)}, ${Li(this.s)*100}%, ${Li(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xc(t){return t=(t||0)%360,t<0?t+360:t}function Li(t){return Math.max(0,Math.min(1,t||0))}function eu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xd=Math.PI/180,Md=180/Math.PI,Ta=18,Td=.96422,Sd=1,Ad=.82521,$d=4/29,er=6/29,Cd=3*er*er,rb=er*er*er;function Nd(t){if(t instanceof ve)return new ve(t.l,t.a,t.b,t.opacity);if(t instanceof xe)return Pd(t);t instanceof Pt||(t=Zs(t));var e=au(t.r),n=au(t.g),r=au(t.b),i=nu((.2225045*e+.7168786*n+.0606169*r)/Sd),a,o;return e===n&&n===r?a=o=i:(a=nu((.4360747*e+.3850649*n+.1430804*r)/Td),o=nu((.0139322*e+.0971045*n+.7141733*r)/Ad)),new ve(116*i-16,500*(a-i),200*(i-o),t.opacity)}function ib(t,e){return new ve(t,0,0,e??1)}function Sa(t,e,n,r){return arguments.length===1?Nd(t):new ve(t,e,n,r??1)}function ve(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Mr(ve,Sa,xi(rn,{brighter(t){return new ve(this.l+Ta*(t??1),this.a,this.b,this.opacity)},darker(t){return new ve(this.l-Ta*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Td*ru(e),t=Sd*ru(t),n=Ad*ru(n),new Pt(iu(3.1338561*e-1.6168667*t-.4906146*n),iu(-.9787684*e+1.9161415*t+.033454*n),iu(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function nu(t){return t>rb?Math.pow(t,1/3):t/Cd+$d}function ru(t){return t>er?t*t*t:Cd*(t-$d)}function iu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function au(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kd(t){if(t instanceof xe)return new xe(t.h,t.c,t.l,t.opacity);if(t instanceof ve||(t=Nd(t)),t.a===0&&t.b===0)return new xe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Md;return new xe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ab(t,e,n,r){return arguments.length===1?kd(t):new xe(n,e,t,r??1)}function Aa(t,e,n,r){return arguments.length===1?kd(t):new xe(t,e,n,r??1)}function xe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Pd(t){if(isNaN(t.h))return new ve(t.l,0,0,t.opacity);var e=t.h*xd;return new ve(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Mr(xe,Aa,xi(rn,{brighter(t){return new xe(this.h,this.c,this.l+Ta*(t??1),this.opacity)},darker(t){return new xe(this.h,this.c,this.l-Ta*(t??1),this.opacity)},rgb(){return Pd(this).rgb()}}));var Ed=-.14861,Ks=1.78277,Qs=-.29227,mo=-.90649,oi=1.97294,Mc=oi*mo,Tc=oi*Ks,Sc=Ks*Qs-mo*Ed;function ob(t){if(t instanceof mn)return new mn(t.h,t.s,t.l,t.opacity);t instanceof Pt||(t=Zs(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Sc*r+Mc*e-Tc*n)/(Sc+Mc-Tc),a=r-i,o=(oi*(n-i)-Qs*a)/mo,u=Math.sqrt(o*o+a*a)/(oi*i*(1-i)),l=u?Math.atan2(o,a)*Md-120:NaN;return new mn(l<0?l+360:l,u,i,t.opacity)}function ye(t,e,n,r){return arguments.length===1?ob(t):new mn(t,e,n,r??1)}function mn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mr(mn,ye,xi(rn,{brighter(t){return t=t==null?ur:Math.pow(ur,t),new mn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xn:Math.pow(xn,t),new mn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*xd,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Pt(255*(e+n*(Ed*r+Ks*i)),255*(e+n*(Qs*r+mo*i)),255*(e+n*(oi*r)),this.opacity)}}));function Rd(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function jd(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<e-1?t[r+2]:2*a-i;return Rd((n-r/e)*e,o,i,a,u)}}function Od(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],u=t[(r+2)%e];return Rd((n-r/e)*e,i,a,o,u)}}const vo=t=>()=>t;function Id(t,e){return function(n){return t+n*e}}function ub(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yo(t,e){var n=e-t;return n?Id(t,n>180||n<-180?n-360*Math.round(n/360):n):vo(isNaN(t)?e:t)}function sb(t){return(t=+t)==1?Et:function(e,n){return n-e?ub(e,n,t):vo(isNaN(e)?n:e)}}function Et(t,e){var n=e-t;return n?Id(t,n):vo(isNaN(t)?e:t)}const ui=function t(e){var n=sb(e);function r(i,a){var o=n((i=sr(i)).r,(a=sr(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),s=Et(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=l(c),i.opacity=s(c),i+""}}return r.gamma=t,r}(1);function Ld(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,u;for(o=0;o<n;++o)u=sr(e[o]),r[o]=u.r||0,i[o]=u.g||0,a[o]=u.b||0;return r=t(r),i=t(i),a=t(a),u.opacity=1,function(l){return u.r=r(l),u.g=i(l),u.b=a(l),u+""}}}var zd=Ld(jd),lb=Ld(Od);function tl(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Dd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cb(t,e){return(Dd(e)?tl:Bd)(t,e)}function Bd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=an(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Fd(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function le(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vd(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=an(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Wu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ou=new RegExp(Wu.source,"g");function fb(t){return function(){return t}}function hb(t){return function(e){return t(e)+""}}function el(t,e){var n=Wu.lastIndex=ou.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Wu.exec(t))&&(i=ou.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:le(r,i)})),n=ou.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?hb(l[0].x):fb(e):(e=l.length,function(s){for(var c=0,h;c<e;++c)u[(h=l[c]).i]=h.x(s);return u.join("")})}function an(t,e){var n=typeof e,r;return e==null||n==="boolean"?vo(e):(n==="number"?le:n==="string"?(r=Qe(e))?(e=r,ui):el:e instanceof Qe?ui:e instanceof Date?Fd:Dd(e)?tl:Array.isArray(e)?Bd:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vd:le)(t,e)}function db(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function pb(t,e){var n=yo(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function bo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ac=180/Math.PI,Xu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gd(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Ac,skewX:Math.atan(l)*Ac,scaleX:o,scaleY:u}}var zi;function gb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xu:Gd(e.a,e.b,e.c,e.d,e.e,e.f)}function mb(t){return t==null||(zi||(zi=document.createElementNS("http://www.w3.org/2000/svg","g")),zi.setAttribute("transform",t),!(t=zi.transform.baseVal.consolidate()))?Xu:(t=t.matrix,Gd(t.a,t.b,t.c,t.d,t.e,t.f))}function Hd(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function a(s,c,h,f,d,m){if(s!==h||c!==f){var v=d.push("translate(",null,e,null,n);m.push({i:v-4,x:le(s,h)},{i:v-2,x:le(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function o(s,c,h,f){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:le(s,c)})):c&&h.push(i(h)+"rotate("+c+r)}function u(s,c,h,f){s!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:le(s,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(s,c,h,f,d,m){if(s!==h||c!==f){var v=d.push(i(d)+"scale(",null,",",null,")");m.push({i:v-4,x:le(s,h)},{i:v-2,x:le(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(s,c){var h=[],f=[];return s=t(s),c=t(c),a(s.translateX,s.translateY,c.translateX,c.translateY,h,f),o(s.rotate,c.rotate,h,f),u(s.skewX,c.skewX,h,f),l(s.scaleX,s.scaleY,c.scaleX,c.scaleY,h,f),s=c=null,function(d){for(var m=-1,v=f.length,p;++m<v;)h[(p=f[m]).i]=p.x(d);return h.join("")}}}var Yd=Hd(gb,"px, ","px)","deg)"),Ud=Hd(mb,", ",")",")"),vb=1e-12;function $c(t){return((t=Math.exp(t))+1/t)/2}function yb(t){return((t=Math.exp(t))-1/t)/2}function bb(t){return((t=Math.exp(2*t))-1)/(t+1)}const qd=function t(e,n,r){function i(a,o){var u=a[0],l=a[1],s=a[2],c=o[0],h=o[1],f=o[2],d=c-u,m=h-l,v=d*d+m*m,p,g;if(v<vb)g=Math.log(f/s)/e,p=function(A){return[u+A*d,l+A*m,s*Math.exp(e*A*g)]};else{var _=Math.sqrt(v),b=(f*f-s*s+r*v)/(2*s*n*_),y=(f*f-s*s-r*v)/(2*f*n*_),w=Math.log(Math.sqrt(b*b+1)-b),x=Math.log(Math.sqrt(y*y+1)-y);g=(x-w)/e,p=function(A){var $=A*g,N=$c(w),k=s/(n*_)*(N*bb(e*$+w)-yb(w));return[u+k*d,l+k*m,s*N/$c(e*$+w)]}}return p.duration=g*1e3*e/Math.SQRT2,p}return i.rho=function(a){var o=Math.max(.001,+a),u=o*o,l=u*u;return t(o,u,l)},i}(Math.SQRT2,2,4);function Wd(t){return function(e,n){var r=t((e=Ma(e)).h,(n=Ma(n)).h),i=Et(e.s,n.s),a=Et(e.l,n.l),o=Et(e.opacity,n.opacity);return function(u){return e.h=r(u),e.s=i(u),e.l=a(u),e.opacity=o(u),e+""}}}const _b=Wd(yo);var wb=Wd(Et);function xb(t,e){var n=Et((t=Sa(t)).l,(e=Sa(e)).l),r=Et(t.a,e.a),i=Et(t.b,e.b),a=Et(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function Xd(t){return function(e,n){var r=t((e=Aa(e)).h,(n=Aa(n)).h),i=Et(e.c,n.c),a=Et(e.l,n.l),o=Et(e.opacity,n.opacity);return function(u){return e.h=r(u),e.c=i(u),e.l=a(u),e.opacity=o(u),e+""}}}const Mb=Xd(yo);var Tb=Xd(Et);function Jd(t){return function e(n){n=+n;function r(i,a){var o=t((i=ye(i)).h,(a=ye(a)).h),u=Et(i.s,a.s),l=Et(i.l,a.l),s=Et(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=u(c),i.l=l(Math.pow(c,n)),i.opacity=s(c),i+""}}return r.gamma=e,r}(1)}const Sb=Jd(yo);var _o=Jd(Et);function Zd(t,e){e===void 0&&(e=t,t=an);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function Ab(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var lr=0,Lr=0,Nr=0,Kd=1e3,$a,zr,Ca=0,Mn=0,wo=0,si=typeof performance=="object"&&performance.now?performance:Date,Qd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mi(){return Mn||(Qd($b),Mn=si.now()+wo)}function $b(){Mn=0}function li(){this._call=this._time=this._next=null}li.prototype=xo.prototype={constructor:li,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Mi():+n)+(e==null?0:+e),!this._next&&zr!==this&&(zr?zr._next=this:$a=this,zr=this),this._call=t,this._time=n,Ju()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ju())}};function xo(t,e,n){var r=new li;return r.restart(t,e,n),r}function t0(){Mi(),++lr;for(var t=$a,e;t;)(e=Mn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lr}function Cc(){Mn=(Ca=si.now())+wo,lr=Lr=0;try{t0()}finally{lr=0,Nb(),Mn=0}}function Cb(){var t=si.now(),e=t-Ca;e>Kd&&(wo-=e,Ca=t)}function Nb(){for(var t,e=$a,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$a=n);zr=t,Ju(r)}function Ju(t){if(!lr){Lr&&(Lr=clearTimeout(Lr));var e=t-Mn;e>24?(t<1/0&&(Lr=setTimeout(Cc,t-si.now()-wo)),Nr&&(Nr=clearInterval(Nr))):(Nr||(Ca=si.now(),Nr=setInterval(Cb,Kd)),lr=1,Qd(Cc))}}function Zu(t,e,n){var r=new li;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function kb(t,e,n){var r=new li,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(a,o,u){o=+o,u=u==null?Mi():+u,r._restart(function l(s){s+=i,r._restart(l,i+=o,u),a(s)},o,u)},r.restart(t,e,n),r)}var Pb=kn("start","end","cancel","interrupt"),Eb=[],e0=0,Ku=1,Qu=2,ua=3,Nc=4,ts=5,sa=6;function Mo(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Rb(t,n,{name:e,index:r,group:i,on:Pb,tween:Eb,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:e0})}function nl(t,e){var n=be(t,e);if(n.state>e0)throw new Error("too late; already scheduled");return n}function Ne(t,e){var n=be(t,e);if(n.state>ua)throw new Error("too late; already running");return n}function be(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Rb(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xo(a,0,n.time);function a(s){n.state=Ku,n.timer.restart(o,n.delay,n.time),n.delay<=s&&o(s-n.delay)}function o(s){var c,h,f,d;if(n.state!==Ku)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===ua)return Zu(o);d.state===Nc?(d.state=sa,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=sa,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Zu(function(){n.state===ua&&(n.state=Nc,n.timer.restart(u,n.delay,n.time),u(s))}),n.state=Qu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Qu){for(n.state=ua,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function u(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(l),n.state=ts,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===ts&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=sa,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function vn(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Qu&&r.state<ts,r.state=sa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function jb(t){return this.each(function(){vn(this,t)})}function Ob(t,e){var n,r;return function(){var i=Ne(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ib(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ne(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:e,value:n},l=0,s=i.length;l<s;++l)if(i[l].name===e){i[l]=u;break}l===s&&i.push(u)}a.tween=i}}function Lb(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=be(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Ob:Ib)(n,t,e))}function rl(t,e,n){var r=t._id;return t.each(function(){var i=Ne(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return be(i,r).value[e]}}function n0(t,e){var n;return(typeof e=="number"?le:e instanceof Qe?ui:(n=Qe(e))?(e=n,ui):el)(t,e)}function zb(t){return function(){this.removeAttribute(t)}}function Db(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bb(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Fb(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Vb(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Gb(t,e,n){var r,i,a;return function(){var o,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=u+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u)))}}function Hb(t,e){var n=wi(t),r=n==="transform"?Ud:n0;return this.attrTween(t,typeof e=="function"?(n.local?Gb:Vb)(n,r,rl(this,"attr."+t,e)):e==null?(n.local?Db:zb)(n):(n.local?Fb:Bb)(n,r,e))}function Yb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ub(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function qb(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ub(t,a)),n}return i._value=e,i}function Wb(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Yb(t,a)),n}return i._value=e,i}function Xb(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wi(t);return this.tween(n,(r.local?qb:Wb)(r,e))}function Jb(t,e){return function(){nl(this,t).delay=+e.apply(this,arguments)}}function Zb(t,e){return e=+e,function(){nl(this,t).delay=e}}function Kb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Jb:Zb)(e,t)):be(this.node(),e).delay}function Qb(t,e){return function(){Ne(this,t).duration=+e.apply(this,arguments)}}function t_(t,e){return e=+e,function(){Ne(this,t).duration=e}}function e_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qb:t_)(e,t)):be(this.node(),e).duration}function n_(t,e){if(typeof e!="function")throw new Error;return function(){Ne(this,t).ease=e}}function r_(t){var e=this._id;return arguments.length?this.each(n_(e,t)):be(this.node(),e).ease}function i_(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ne(this,t).ease=n}}function a_(t){if(typeof t!="function")throw new Error;return this.each(i_(this._id,t))}function o_(t){typeof t!="function"&&(t=qs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,s=0;s<o;++s)(l=a[s])&&t.call(l,l.__data__,s,a)&&u.push(l);return new Se(r,this._parents,this._name,this._id)}function u_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],s=n[u],c=l.length,h=o[u]=new Array(c),f,d=0;d<c;++d)(f=l[d]||s[d])&&(h[d]=f);for(;u<r;++u)o[u]=e[u];return new Se(o,this._parents,this._name,this._id)}function s_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function l_(t,e,n){var r,i,a=s_(e)?nl:Ne;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(e,n),o.on=i}}function c_(t,e){var n=this._id;return arguments.length<2?be(this.node(),n).on.on(t):this.each(l_(n,t,e))}function f_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function h_(){return this.on("end.remove",f_(this._id))}function d_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ho(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,s=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=u[f])&&(h=t.call(c,c.__data__,f,u))&&("__data__"in c&&(h.__data__=c.__data__),s[f]=h,Mo(s[f],e,n,f,s,be(c,n)));return new Se(a,this._parents,e,n)}function p_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Us(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],s=l.length,c,h=0;h<s;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,m=be(c,n),v=0,p=f.length;v<p;++v)(d=f[v])&&Mo(d,e,n,v,f,m);a.push(f),o.push(c)}return new Se(a,o,e,n)}var g_=Pn.prototype.constructor;function m_(){return new g_(this._groups,this._parents)}function v_(t,e){var n,r,i;return function(){var a=wn(this,t),o=(this.style.removeProperty(t),wn(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function r0(t){return function(){this.style.removeProperty(t)}}function y_(t,e,n){var r,i=n+"",a;return function(){var o=wn(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function b_(t,e,n){var r,i,a;return function(){var o=wn(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),wn(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,u))}}function __(t,e){var n,r,i,a="style."+e,o="end."+a,u;return function(){var l=Ne(this,t),s=l.on,c=l.value[a]==null?u||(u=r0(e)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(o,i=c),l.on=r}}function w_(t,e,n){var r=(t+="")=="transform"?Yd:n0;return e==null?this.styleTween(t,v_(t,r)).on("end.style."+t,r0(t)):typeof e=="function"?this.styleTween(t,b_(t,r,rl(this,"style."+t,e))).each(__(this._id,t)):this.styleTween(t,y_(t,r,e),n).on("end.style."+t,null)}function x_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function M_(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&x_(t,o,n)),r}return a._value=e,a}function T_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,M_(t,e,n??""))}function S_(t){return function(){this.textContent=t}}function A_(t){return function(){var e=t(this);this.textContent=e??""}}function $_(t){return this.tween("text",typeof t=="function"?A_(rl(this,"text",t)):S_(t==null?"":t+""))}function C_(t){return function(e){this.textContent=t.call(this,e)}}function N_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&C_(i)),e}return r._value=t,r}function k_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,N_(t))}function P_(){for(var t=this._name,e=this._id,n=a0(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,s=0;s<u;++s)if(l=o[s]){var c=be(l,e);Mo(l,t,n,s,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Se(r,this._parents,t,n)}function E_(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var s=Ne(this,r),c=s.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),s.on=e}),i===0&&a()})}var R_=0;function Se(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function i0(t){return Pn().transition(t)}function a0(){return++R_}var Pe=Pn.prototype;Se.prototype=i0.prototype={constructor:Se,select:d_,selectAll:p_,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:o_,merge:u_,selection:m_,transition:P_,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:c_,attr:Hb,attrTween:Xb,style:w_,styleTween:T_,text:$_,textTween:k_,remove:h_,tween:Lb,delay:Kb,duration:e_,ease:r_,easeVarying:a_,end:E_,[Symbol.iterator]:Pe[Symbol.iterator]};const j_=t=>+t;function O_(t){return t*t}function I_(t){return t*(2-t)}function kc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function L_(t){return t*t*t}function z_(t){return--t*t*t+1}function es(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var il=3,D_=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(il),B_=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(il),Pc=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(il),o0=Math.PI,u0=o0/2;function F_(t){return+t==1?1:1-Math.cos(t*u0)}function V_(t){return Math.sin(t*u0)}function Ec(t){return(1-Math.cos(o0*t))/2}function tn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function G_(t){return tn(1-+t)}function H_(t){return 1-tn(t)}function Rc(t){return((t*=2)<=1?tn(1-t):2-tn(t-1))/2}function Y_(t){return 1-Math.sqrt(1-t*t)}function U_(t){return Math.sqrt(1- --t*t)}function jc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ns=4/11,q_=6/11,W_=8/11,X_=3/4,J_=9/11,Z_=10/11,K_=15/16,Q_=21/22,tw=63/64,Di=1/ns/ns;function ew(t){return 1-ci(1-t)}function ci(t){return(t=+t)<ns?Di*t*t:t<W_?Di*(t-=q_)*t+X_:t<Z_?Di*(t-=J_)*t+K_:Di*(t-=Q_)*t+tw}function nw(t){return((t*=2)<=1?1-ci(1-t):ci(t-1)+1)/2}var al=1.70158,rw=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(al),iw=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(al),Oc=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(al),cr=2*Math.PI,ol=1,ul=.3,aw=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=cr);function i(a){return e*tn(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*cr)},i.period=function(a){return t(e,a)},i}(ol,ul),Ic=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=cr);function i(a){return 1-e*tn(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*cr)},i.period=function(a){return t(e,a)},i}(ol,ul),ow=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=cr);function i(a){return((a=a*2-1)<0?e*tn(-a)*Math.sin((r-a)/n):2-e*tn(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*cr)},i.period=function(a){return t(e,a)},i}(ol,ul),uw={time:null,delay:0,duration:250,ease:es};function sw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function lw(t){var e,n;t instanceof Se?(e=t._id,t=t._name):(e=a0(),(n=uw).time=Mi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,s=0;s<u;++s)(l=o[s])&&Mo(l,t,e,s,o,n||sw(l,e));return new Se(r,this._parents,t,e)}Pn.prototype.interrupt=jb;Pn.prototype.transition=lw;var cw=[null];function fw(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>Ku&&r.name===e)return new Se([[t]],cw,e,+i)}return null}const uu=t=>()=>t;function hw(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function dw(t){t.stopImmediatePropagation()}function su(t){t.preventDefault(),t.stopImmediatePropagation()}var Lc={name:"drag"},lu={name:"space"},Fn={name:"handle"},Vn={name:"center"};const{abs:zc,max:It,min:Lt}=Math;function Dc(t){return[+t[0],+t[1]]}function rs(t){return[Dc(t[0]),Dc(t[1])]}var la={name:"x",handles:["w","e"].map(fi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ca={name:"y",handles:["n","s"].map(fi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},pw={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(fi),input:function(t){return t==null?null:rs(t)},output:function(t){return t}},Ee={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Fc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gw={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mw={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fi(t){return{type:t}}function vw(t){return!t.ctrlKey&&!t.button}function yw(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bw(){return navigator.maxTouchPoints||"ontouchstart"in this}function cu(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _w(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ww(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function xw(){return sl(la)}function Mw(){return sl(ca)}function Tw(){return sl(pw)}function sl(t){var e=yw,n=vw,r=bw,i=!0,a=kn("start","brush","end"),o=6,u;function l(p){var g=p.property("__brush",v).selectAll(".overlay").data([fi("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ee.overlay).merge(g).each(function(){var b=cu(this).extent;Ft(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),p.selectAll(".selection").data([fi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ee.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=p.selectAll(".handle").data(t.handles,function(b){return b.type});_.exit().remove(),_.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Ee[b.type]}),p.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,g,_){p.tween?p.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,y=b.__brush,w=c(b,arguments),x=y.selection,A=t.input(typeof g=="function"?g.apply(this,arguments):g,y.extent),$=an(x,A);function N(k){y.selection=k===1&&A===null?null:$(k),s.call(b),w.brush()}return x!==null&&A!==null?N:N(1)}):p.each(function(){var b=this,y=arguments,w=b.__brush,x=t.input(typeof g=="function"?g.apply(b,y):g,w.extent),A=c(b,y).beforestart();vn(b),w.selection=x===null?null:x,s.call(b),A.start(_).brush(_).end(_)})},l.clear=function(p,g){l.move(p,null,g)};function s(){var p=Ft(this),g=cu(this).selection;g?(p.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?g[1][0]-o/2:g[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?g[1][1]-o/2:g[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?g[1][0]-g[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?g[1][1]-g[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(p,g,_){var b=p.__brush.emitter;return b&&(!_||!b.clean)?b:new h(p,g,_)}function h(p,g,_){this.that=p,this.args=g,this.state=p.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,g){return this.starting?(this.starting=!1,this.emit("start",p,g)):this.emit("brush",p),this},brush:function(p,g){return this.emit("brush",p,g),this},end:function(p,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,g)),this},emit:function(p,g,_){var b=Ft(this.that).datum();a.call(p,this.that,new hw(p,{sourceEvent:g,target:l,selection:t.output(this.state.selection),mode:_,dispatch:a}),b)}};function f(p){if(u&&!p.touches||!n.apply(this,arguments))return;var g=this,_=p.target.__data__.type,b=(i&&p.metaKey?_="overlay":_)==="selection"?Lc:i&&p.altKey?Vn:Fn,y=t===ca?null:gw[_],w=t===la?null:mw[_],x=cu(g),A=x.extent,$=x.selection,N=A[0][0],k,P,L=A[0][1],T,M,S=A[1][0],C,O,D=A[1][1],I,R,j=0,z=0,F,G=y&&w&&i&&p.shiftKey,H,J,W=Array.from(p.touches||[p],q=>{const it=q.identifier;return q=ae(q,g),q.point0=q.slice(),q.identifier=it,q});vn(g);var X=c(g,arguments,!0).beforestart();if(_==="overlay"){$&&(F=!0);const q=[W[0],W[1]||W[0]];x.selection=$=[[k=t===ca?N:Lt(q[0][0],q[1][0]),T=t===la?L:Lt(q[0][1],q[1][1])],[C=t===ca?S:It(q[0][0],q[1][0]),I=t===la?D:It(q[0][1],q[1][1])]],W.length>1&&tt(p)}else k=$[0][0],T=$[0][1],C=$[1][0],I=$[1][1];P=k,M=T,O=C,R=I;var V=Ft(g).attr("pointer-events","none"),Y=V.selectAll(".overlay").attr("cursor",Ee[_]);if(p.touches)X.moved=B,X.ended=at;else{var K=Ft(p.view).on("mousemove.brush",B,!0).on("mouseup.brush",at,!0);i&&K.on("keydown.brush",ot,!0).on("keyup.brush",rt,!0),po(p.view)}s.call(g),X.start(p,b.name);function B(q){for(const it of q.changedTouches||[q])for(const Tt of W)Tt.identifier===it.identifier&&(Tt.cur=ae(it,g));if(G&&!H&&!J&&W.length===1){const it=W[0];zc(it.cur[0]-it[0])>zc(it.cur[1]-it[1])?J=!0:H=!0}for(const it of W)it.cur&&(it[0]=it.cur[0],it[1]=it.cur[1]);F=!0,su(q),tt(q)}function tt(q){const it=W[0],Tt=it.point0;var gt;switch(j=it[0]-Tt[0],z=it[1]-Tt[1],b){case lu:case Lc:{y&&(j=It(N-k,Lt(S-C,j)),P=k+j,O=C+j),w&&(z=It(L-T,Lt(D-I,z)),M=T+z,R=I+z);break}case Fn:{W[1]?(y&&(P=It(N,Lt(S,W[0][0])),O=It(N,Lt(S,W[1][0])),y=1),w&&(M=It(L,Lt(D,W[0][1])),R=It(L,Lt(D,W[1][1])),w=1)):(y<0?(j=It(N-k,Lt(S-k,j)),P=k+j,O=C):y>0&&(j=It(N-C,Lt(S-C,j)),P=k,O=C+j),w<0?(z=It(L-T,Lt(D-T,z)),M=T+z,R=I):w>0&&(z=It(L-I,Lt(D-I,z)),M=T,R=I+z));break}case Vn:{y&&(P=It(N,Lt(S,k-j*y)),O=It(N,Lt(S,C+j*y))),w&&(M=It(L,Lt(D,T-z*w)),R=It(L,Lt(D,I+z*w)));break}}O<P&&(y*=-1,gt=k,k=C,C=gt,gt=P,P=O,O=gt,_ in Bc&&Y.attr("cursor",Ee[_=Bc[_]])),R<M&&(w*=-1,gt=T,T=I,I=gt,gt=M,M=R,R=gt,_ in Fc&&Y.attr("cursor",Ee[_=Fc[_]])),x.selection&&($=x.selection),H&&(P=$[0][0],O=$[1][0]),J&&(M=$[0][1],R=$[1][1]),($[0][0]!==P||$[0][1]!==M||$[1][0]!==O||$[1][1]!==R)&&(x.selection=[[P,M],[O,R]],s.call(g),X.brush(q,b.name))}function at(q){if(dw(q),q.touches){if(q.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else go(q.view,F),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);V.attr("pointer-events","all"),Y.attr("cursor",Ee.overlay),x.selection&&($=x.selection),_w($)&&(x.selection=null,s.call(g)),X.end(q,b.name)}function ot(q){switch(q.keyCode){case 16:{G=y&&w;break}case 18:{b===Fn&&(y&&(C=O-j*y,k=P+j*y),w&&(I=R-z*w,T=M+z*w),b=Vn,tt(q));break}case 32:{(b===Fn||b===Vn)&&(y<0?C=O-j:y>0&&(k=P-j),w<0?I=R-z:w>0&&(T=M-z),b=lu,Y.attr("cursor",Ee.selection),tt(q));break}default:return}su(q)}function rt(q){switch(q.keyCode){case 16:{G&&(H=J=G=!1,tt(q));break}case 18:{b===Vn&&(y<0?C=O:y>0&&(k=P),w<0?I=R:w>0&&(T=M),b=Fn,tt(q));break}case 32:{b===lu&&(q.altKey?(y&&(C=O-j*y,k=P+j*y),w&&(I=R-z*w,T=M+z*w),b=Vn):(y<0?C=O:y>0&&(k=P),w<0?I=R:w>0&&(T=M),b=Fn),Y.attr("cursor",Ee[_]),tt(q));break}default:return}su(q)}}function d(p){c(this,arguments).moved(p)}function m(p){c(this,arguments).ended(p)}function v(){var p=this.__brush||{selection:null};return p.extent=rs(e.apply(this,arguments)),p.dim=t,p}return l.extent=function(p){return arguments.length?(e=typeof p=="function"?p:uu(rs(p)),l):e},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:uu(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:uu(!!p),l):r},l.handleSize=function(p){return arguments.length?(o=+p,l):o},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=a.on.apply(a,arguments);return p===a?l:p},l}var Vc=Math.abs,Gn=Math.cos,Hn=Math.sin,s0=Math.PI,Bi=s0/2,Gc=s0*2,Hc=Math.max,fu=1e-12;function hu(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function Sw(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Aw(){return ll(!1,!1)}function $w(){return ll(!1,!0)}function Cw(){return ll(!0,!1)}function ll(t,e){var n=0,r=null,i=null,a=null;function o(u){var l=u.length,s=new Array(l),c=hu(0,l),h=new Array(l*l),f=new Array(l),d=0,m;u=Float64Array.from({length:l*l},e?(v,p)=>u[p%l][p/l|0]:(v,p)=>u[p/l|0][p%l]);for(let v=0;v<l;++v){let p=0;for(let g=0;g<l;++g)p+=u[v*l+g]+t*u[g*l+v];d+=s[v]=p}d=Hc(0,Gc-n*l)/d,m=d?n:Gc/l;{let v=0;r&&c.sort((p,g)=>r(s[p],s[g]));for(const p of c){const g=v;if(t){const _=hu(~l+1,l).filter(b=>b<0?u[~b*l+p]:u[p*l+b]);i&&_.sort((b,y)=>i(b<0?-u[~b*l+p]:u[p*l+b],y<0?-u[~y*l+p]:u[p*l+y]));for(const b of _)if(b<0){const y=h[~b*l+p]||(h[~b*l+p]={source:null,target:null});y.target={index:p,startAngle:v,endAngle:v+=u[~b*l+p]*d,value:u[~b*l+p]}}else{const y=h[p*l+b]||(h[p*l+b]={source:null,target:null});y.source={index:p,startAngle:v,endAngle:v+=u[p*l+b]*d,value:u[p*l+b]}}f[p]={index:p,startAngle:g,endAngle:v,value:s[p]}}else{const _=hu(0,l).filter(b=>u[p*l+b]||u[b*l+p]);i&&_.sort((b,y)=>i(u[p*l+b],u[p*l+y]));for(const b of _){let y;if(p<b?(y=h[p*l+b]||(h[p*l+b]={source:null,target:null}),y.source={index:p,startAngle:v,endAngle:v+=u[p*l+b]*d,value:u[p*l+b]}):(y=h[b*l+p]||(h[b*l+p]={source:null,target:null}),y.target={index:p,startAngle:v,endAngle:v+=u[p*l+b]*d,value:u[p*l+b]},p===b&&(y.source=y.target)),y.source&&y.target&&y.source.value<y.target.value){const w=y.source;y.source=y.target,y.target=w}}f[p]={index:p,startAngle:g,endAngle:v,value:s[p]}}v+=m}}return h=Object.values(h),h.groups=f,a?h.sort(a):h}return o.padAngle=function(u){return arguments.length?(n=Hc(0,u),o):n},o.sortGroups=function(u){return arguments.length?(r=u,o):r},o.sortSubgroups=function(u){return arguments.length?(i=u,o):i},o.sortChords=function(u){return arguments.length?(u==null?a=null:(a=Sw(u))._=u,o):a&&a._},o}const is=Math.PI,as=2*is,cn=1e-6,Nw=as-cn;function l0(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return l0;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Ti=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?l0:kw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,l=r-e,s=i-n,c=o-e,h=u-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>cn)if(!(Math.abs(h*l-s*c)>cn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,m=i-u,v=l*l+s*s,p=d*d+m*m,g=Math.sqrt(v),_=Math.sqrt(f),b=a*Math.tan((is-Math.acos((v+f-p)/(2*g*_)))/2),y=b/_,w=b/g;Math.abs(y-1)>cn&&this._append`L${e+y*c},${n+y*h}`,this._append`A${a},${a},0,0,${+(h*d>c*m)},${this._x1=e+w*l},${this._y1=n+w*s}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),l=r*Math.sin(i),s=e+u,c=n+l,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>cn||Math.abs(this._y1-c)>cn)&&this._append`L${s},${c}`,r&&(f<0&&(f=f%as+as),f>Nw?this._append`A${r},${r},0,1,${h},${e-u},${n-l}A${r},${r},0,1,${h},${this._x1=s},${this._y1=c}`:f>cn&&this._append`A${r},${r},0,${+(f>=is)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function cl(){return new Ti}cl.prototype=Ti.prototype;function Pw(t=3){return new Ti(+t)}var Ew=Array.prototype.slice;function sn(t){return function(){return t}}function Rw(t){return t.source}function jw(t){return t.target}function Yc(t){return t.radius}function Ow(t){return t.startAngle}function Iw(t){return t.endAngle}function Lw(){return 0}function zw(){return 10}function c0(t){var e=Rw,n=jw,r=Yc,i=Yc,a=Ow,o=Iw,u=Lw,l=null;function s(){var c,h=e.apply(this,arguments),f=n.apply(this,arguments),d=u.apply(this,arguments)/2,m=Ew.call(arguments),v=+r.apply(this,(m[0]=h,m)),p=a.apply(this,m)-Bi,g=o.apply(this,m)-Bi,_=+i.apply(this,(m[0]=f,m)),b=a.apply(this,m)-Bi,y=o.apply(this,m)-Bi;if(l||(l=c=cl()),d>fu&&(Vc(g-p)>d*2+fu?g>p?(p+=d,g-=d):(p-=d,g+=d):p=g=(p+g)/2,Vc(y-b)>d*2+fu?y>b?(b+=d,y-=d):(b-=d,y+=d):b=y=(b+y)/2),l.moveTo(v*Gn(p),v*Hn(p)),l.arc(0,0,v,p,g),p!==b||g!==y)if(t){var w=+t.apply(this,arguments),x=_-w,A=(b+y)/2;l.quadraticCurveTo(0,0,x*Gn(b),x*Hn(b)),l.lineTo(_*Gn(A),_*Hn(A)),l.lineTo(x*Gn(y),x*Hn(y))}else l.quadraticCurveTo(0,0,_*Gn(b),_*Hn(b)),l.arc(0,0,_,b,y);if(l.quadraticCurveTo(0,0,v*Gn(p),v*Hn(p)),l.closePath(),c)return l=null,c+""||null}return t&&(s.headRadius=function(c){return arguments.length?(t=typeof c=="function"?c:sn(+c),s):t}),s.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:sn(+c),s):r},s.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:sn(+c),s):r},s.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:sn(+c),s):i},s.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:sn(+c),s):a},s.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:sn(+c),s):o},s.padAngle=function(c){return arguments.length?(u=typeof c=="function"?c:sn(+c),s):u},s.source=function(c){return arguments.length?(e=c,s):e},s.target=function(c){return arguments.length?(n=c,s):n},s.context=function(c){return arguments.length?(l=c??null,s):l},s}function Dw(){return c0()}function Bw(){return c0(zw)}var Fw=Array.prototype,f0=Fw.slice;function Vw(t,e){return t-e}function Gw(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const qe=t=>()=>t;function Hw(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=Yw(t,e[n]))return i;return 0}function Yw(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,u=o-1;a<o;u=a++){var l=t[a],s=l[0],c=l[1],h=t[u],f=h[0],d=h[1];if(Uw(l,h,e))return 0;c>r!=d>r&&n<(f-s)*(r-c)/(d-c)+s&&(i=-i)}return i}function Uw(t,e,n){var r;return qw(t,e,n)&&Ww(t[r=+(t[0]===e[0])],n[r],e[r])}function qw(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function Ww(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Xw(){}var Re=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function os(){var t=1,e=1,n=Vs,r=l;function i(s){var c=n(s);if(Array.isArray(c))c=c.slice().sort(Vw);else{const h=Wr(s,Jw);for(c=bn(...Fs(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>a(s,h))}function a(s,c){const h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var f=[],d=[];return o(s,h,function(m){r(m,s,h),Gw(m)>0?f.push([m]):d.push(m)}),d.forEach(function(m){for(var v=0,p=f.length,g;v<p;++v)if(Hw((g=f[v])[0],m)!==-1){g.push(m);return}}),{type:"MultiPolygon",value:c,coordinates:f}}function o(s,c,h){var f=new Array,d=new Array,m,v,p,g,_,b;for(m=v=-1,g=ln(s[0],c),Re[g<<1].forEach(y);++m<t-1;)p=g,g=ln(s[m+1],c),Re[p|g<<1].forEach(y);for(Re[g<<0].forEach(y);++v<e-1;){for(m=-1,g=ln(s[v*t+t],c),_=ln(s[v*t],c),Re[g<<1|_<<2].forEach(y);++m<t-1;)p=g,g=ln(s[v*t+t+m+1],c),b=_,_=ln(s[v*t+m+1],c),Re[p|g<<1|_<<2|b<<3].forEach(y);Re[g|_<<3].forEach(y)}for(m=-1,_=s[v*t]>=c,Re[_<<2].forEach(y);++m<t-1;)b=_,_=ln(s[v*t+m+1],c),Re[_<<2|b<<3].forEach(y);Re[_<<3].forEach(y);function y(w){var x=[w[0][0]+m,w[0][1]+v],A=[w[1][0]+m,w[1][1]+v],$=u(x),N=u(A),k,P;(k=d[$])?(P=f[N])?(delete d[k.end],delete f[P.start],k===P?(k.ring.push(A),h(k.ring)):f[k.start]=d[P.end]={start:k.start,end:P.end,ring:k.ring.concat(P.ring)}):(delete d[k.end],k.ring.push(A),d[k.end=N]=k):(k=f[N])?(P=d[$])?(delete f[k.start],delete d[P.end],k===P?(k.ring.push(A),h(k.ring)):f[P.start]=d[k.end]={start:P.start,end:k.end,ring:P.ring.concat(k.ring)}):(delete f[k.start],k.ring.unshift(x),f[k.start=$]=k):f[$]=d[N]={start:$,end:N,ring:[x,A]}}}function u(s){return s[0]*2+s[1]*(t+1)*4}function l(s,c,h){s.forEach(function(f){var d=f[0],m=f[1],v=d|0,p=m|0,g=du(c[p*t+v]);d>0&&d<t&&v===d&&(f[0]=Uc(d,du(c[p*t+v-1]),g,h)),m>0&&m<e&&p===m&&(f[1]=Uc(m,du(c[(p-1)*t+v]),g,h))})}return i.contour=a,i.size=function(s){if(!arguments.length)return[t,e];var c=Math.floor(s[0]),h=Math.floor(s[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,i},i.thresholds=function(s){return arguments.length?(n=typeof s=="function"?s:Array.isArray(s)?qe(f0.call(s)):qe(s),i):n},i.smooth=function(s){return arguments.length?(r=s?l:Xw,i):r===l},i}function Jw(t){return isFinite(t)?t:NaN}function ln(t,e){return t==null?!1:+t>=e}function du(t){return t==null||isNaN(t=+t)?-1/0:t}function Uc(t,e,n,r){const i=r-e,a=n-e,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?t:t+o-.5}function Zw(t){return t[0]}function Kw(t){return t[1]}function Qw(){return 1}function t3(){var t=Zw,e=Kw,n=Qw,r=960,i=500,a=20,o=2,u=a*3,l=r+u*2>>o,s=i+u*2>>o,c=qe(20);function h(_){var b=new Float32Array(l*s),y=Math.pow(2,-o),w=-1;for(const T of _){var x=(t(T,++w,_)+u)*y,A=(e(T,w,_)+u)*y,$=+n(T,w,_);if($&&x>=0&&x<l&&A>=0&&A<s){var N=Math.floor(x),k=Math.floor(A),P=x-N-.5,L=A-k-.5;b[N+k*l]+=(1-P)*(1-L)*$,b[N+1+k*l]+=P*(1-L)*$,b[N+1+(k+1)*l]+=P*L*$,b[N+(k+1)*l]+=(1-P)*L*$}}return Hh({data:b,width:l,height:s},a*y),b}function f(_){var b=h(_),y=c(b),w=Math.pow(2,2*o);return Array.isArray(y)||(y=bn(Number.MIN_VALUE,ni(b)/w,y)),os().size([l,s]).thresholds(y.map(x=>x*w))(b).map((x,A)=>(x.value=+y[A],d(x)))}f.contours=function(_){var b=h(_),y=os().size([l,s]),w=Math.pow(2,2*o),x=A=>{A=+A;var $=d(y.contour(b,A*w));return $.value=A,$};return Object.defineProperty(x,"max",{get:()=>ni(b)/w}),x};function d(_){return _.coordinates.forEach(m),_}function m(_){_.forEach(v)}function v(_){_.forEach(p)}function p(_){_[0]=_[0]*Math.pow(2,o)-u,_[1]=_[1]*Math.pow(2,o)-u}function g(){return u=a*3,l=r+u*2>>o,s=i+u*2>>o,f}return f.x=function(_){return arguments.length?(t=typeof _=="function"?_:qe(+_),f):t},f.y=function(_){return arguments.length?(e=typeof _=="function"?_:qe(+_),f):e},f.weight=function(_){return arguments.length?(n=typeof _=="function"?_:qe(+_),f):n},f.size=function(_){if(!arguments.length)return[r,i];var b=+_[0],y=+_[1];if(!(b>=0&&y>=0))throw new Error("invalid size");return r=b,i=y,g()},f.cellSize=function(_){if(!arguments.length)return 1<<o;if(!((_=+_)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(_)/Math.LN2),g()},f.thresholds=function(_){return arguments.length?(c=typeof _=="function"?_:Array.isArray(_)?qe(f0.call(_)):qe(_),f):c},f.bandwidth=function(_){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*_*_+1)-1)/2,g()},f}const Ge=11102230246251565e-32,zt=134217729,e3=(3+8*Ge)*Ge;function pu(t,e,n,r,i){let a,o,u,l,s=e[0],c=r[0],h=0,f=0;c>s==c>-s?(a=s,s=e[++h]):(a=c,c=r[++f]);let d=0;if(h<t&&f<n)for(c>s==c>-s?(o=s+a,u=a-(o-s),s=e[++h]):(o=c+a,u=a-(o-c),c=r[++f]),a=o,u!==0&&(i[d++]=u);h<t&&f<n;)c>s==c>-s?(o=a+s,l=o-a,u=a-(o-l)+(s-l),s=e[++h]):(o=a+c,l=o-a,u=a-(o-l)+(c-l),c=r[++f]),a=o,u!==0&&(i[d++]=u);for(;h<t;)o=a+s,l=o-a,u=a-(o-l)+(s-l),s=e[++h],a=o,u!==0&&(i[d++]=u);for(;f<n;)o=a+c,l=o-a,u=a-(o-l)+(c-l),c=r[++f],a=o,u!==0&&(i[d++]=u);return(a!==0||d===0)&&(i[d++]=a),d}function n3(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Si(t){return new Float64Array(t)}const r3=(3+16*Ge)*Ge,i3=(2+12*Ge)*Ge,a3=(9+64*Ge)*Ge*Ge,Yn=Si(4),qc=Si(8),Wc=Si(12),Xc=Si(16),Gt=Si(4);function o3(t,e,n,r,i,a,o){let u,l,s,c,h,f,d,m,v,p,g,_,b,y,w,x,A,$;const N=t-i,k=n-i,P=e-a,L=r-a;y=N*L,f=zt*N,d=f-(f-N),m=N-d,f=zt*L,v=f-(f-L),p=L-v,w=m*p-(y-d*v-m*v-d*p),x=P*k,f=zt*P,d=f-(f-P),m=P-d,f=zt*k,v=f-(f-k),p=k-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Yn[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Yn[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Yn[2]=_-($-h)+(g-h),Yn[3]=$;let T=n3(4,Yn),M=i3*o;if(T>=M||-T>=M||(h=t-N,u=t-(N+h)+(h-i),h=n-k,s=n-(k+h)+(h-i),h=e-P,l=e-(P+h)+(h-a),h=r-L,c=r-(L+h)+(h-a),u===0&&l===0&&s===0&&c===0)||(M=a3*o+e3*Math.abs(T),T+=N*c+L*u-(P*s+k*l),T>=M||-T>=M))return T;y=u*L,f=zt*u,d=f-(f-u),m=u-d,f=zt*L,v=f-(f-L),p=L-v,w=m*p-(y-d*v-m*v-d*p),x=l*k,f=zt*l,d=f-(f-l),m=l-d,f=zt*k,v=f-(f-k),p=k-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Gt[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Gt[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Gt[2]=_-($-h)+(g-h),Gt[3]=$;const S=pu(4,Yn,4,Gt,qc);y=N*c,f=zt*N,d=f-(f-N),m=N-d,f=zt*c,v=f-(f-c),p=c-v,w=m*p-(y-d*v-m*v-d*p),x=P*s,f=zt*P,d=f-(f-P),m=P-d,f=zt*s,v=f-(f-s),p=s-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Gt[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Gt[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Gt[2]=_-($-h)+(g-h),Gt[3]=$;const C=pu(S,qc,4,Gt,Wc);y=u*c,f=zt*u,d=f-(f-u),m=u-d,f=zt*c,v=f-(f-c),p=c-v,w=m*p-(y-d*v-m*v-d*p),x=l*s,f=zt*l,d=f-(f-l),m=l-d,f=zt*s,v=f-(f-s),p=s-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Gt[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Gt[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Gt[2]=_-($-h)+(g-h),Gt[3]=$;const O=pu(C,Wc,4,Gt,Xc);return Xc[O-1]}function Fi(t,e,n,r,i,a){const o=(e-a)*(n-i),u=(t-i)*(r-a),l=o-u,s=Math.abs(o+u);return Math.abs(l)>=r3*s?l:-o3(t,e,n,r,i,a,s)}const Jc=Math.pow(2,-52),Vi=new Uint32Array(512);class Na{static from(e,n=f3,r=h3){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const u=e[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new Na(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=e.length>>1;let u=1/0,l=1/0,s=-1/0,c=-1/0;for(let N=0;N<o;N++){const k=e[2*N],P=e[2*N+1];k<u&&(u=k),P<l&&(l=P),k>s&&(s=k),P>c&&(c=P),this._ids[N]=N}const h=(u+s)/2,f=(l+c)/2;let d,m,v;for(let N=0,k=1/0;N<o;N++){const P=gu(h,f,e[2*N],e[2*N+1]);P<k&&(d=N,k=P)}const p=e[2*d],g=e[2*d+1];for(let N=0,k=1/0;N<o;N++){if(N===d)continue;const P=gu(p,g,e[2*N],e[2*N+1]);P<k&&P>0&&(m=N,k=P)}let _=e[2*m],b=e[2*m+1],y=1/0;for(let N=0;N<o;N++){if(N===d||N===m)continue;const k=l3(p,g,_,b,e[2*N],e[2*N+1]);k<y&&(v=N,y=k)}let w=e[2*v],x=e[2*v+1];if(y===1/0){for(let P=0;P<o;P++)this._dists[P]=e[2*P]-e[0]||e[2*P+1]-e[1];Zn(this._ids,this._dists,0,o-1);const N=new Uint32Array(o);let k=0;for(let P=0,L=-1/0;P<o;P++){const T=this._ids[P],M=this._dists[T];M>L&&(N[k++]=T,L=M)}this.hull=N.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Fi(p,g,_,b,w,x)<0){const N=m,k=_,P=b;m=v,_=w,b=x,v=N,w=k,x=P}const A=c3(p,g,_,b,w,x);this._cx=A.x,this._cy=A.y;for(let N=0;N<o;N++)this._dists[N]=gu(e[2*N],e[2*N+1],A.x,A.y);Zn(this._ids,this._dists,0,o-1),this._hullStart=d;let $=3;r[d]=n[v]=m,r[m]=n[d]=v,r[v]=n[m]=d,i[d]=0,i[m]=1,i[v]=2,a.fill(-1),a[this._hashKey(p,g)]=d,a[this._hashKey(_,b)]=m,a[this._hashKey(w,x)]=v,this.trianglesLen=0,this._addTriangle(d,m,v,-1,-1,-1);for(let N=0,k,P;N<this._ids.length;N++){const L=this._ids[N],T=e[2*L],M=e[2*L+1];if(N>0&&Math.abs(T-k)<=Jc&&Math.abs(M-P)<=Jc||(k=T,P=M,L===d||L===m||L===v))continue;let S=0;for(let R=0,j=this._hashKey(T,M);R<this._hashSize&&(S=a[(j+R)%this._hashSize],!(S!==-1&&S!==r[S]));R++);S=n[S];let C=S,O;for(;O=r[C],Fi(T,M,e[2*C],e[2*C+1],e[2*O],e[2*O+1])>=0;)if(C=O,C===S){C=-1;break}if(C===-1)continue;let D=this._addTriangle(C,L,r[C],-1,-1,i[C]);i[L]=this._legalize(D+2),i[C]=D,$++;let I=r[C];for(;O=r[I],Fi(T,M,e[2*I],e[2*I+1],e[2*O],e[2*O+1])<0;)D=this._addTriangle(I,L,O,i[L],-1,i[I]),i[L]=this._legalize(D+2),r[I]=I,$--,I=O;if(C===S)for(;O=n[C],Fi(T,M,e[2*O],e[2*O+1],e[2*C],e[2*C+1])<0;)D=this._addTriangle(O,L,C,-1,i[C],i[O]),this._legalize(D+2),i[O]=D,r[C]=C,$--,C=O;this._hullStart=n[L]=C,r[C]=n[I]=L,r[L]=I,a[this._hashKey(T,M)]=L,a[this._hashKey(e[2*C],e[2*C+1])]=C}this.hull=new Uint32Array($);for(let N=0,k=this._hullStart;N<$;N++)this.hull[N]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(u3(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const u=r[e],l=e-e%3;if(o=l+(e+2)%3,u===-1){if(a===0)break;e=Vi[--a];continue}const s=u-u%3,c=l+(e+1)%3,h=s+(u+2)%3,f=n[o],d=n[e],m=n[c],v=n[h];if(s3(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*m],i[2*m+1],i[2*v],i[2*v+1])){n[e]=v,n[u]=f;const g=r[h];if(g===-1){let b=this._hullStart;do{if(this._hullTri[b]===h){this._hullTri[b]=e;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(e,g),this._link(u,r[o]),this._link(o,h);const _=s+(u+1)%3;a<Vi.length&&(Vi[a++]=_)}else{if(a===0)break;e=Vi[--a]}}return o}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,a,o){const u=this.trianglesLen;return this._triangles[u]=e,this._triangles[u+1]=n,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,a),this._link(u+2,o),this.trianglesLen+=3,u}}function u3(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function gu(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function s3(t,e,n,r,i,a,o,u){const l=t-o,s=e-u,c=n-o,h=r-u,f=i-o,d=a-u,m=l*l+s*s,v=c*c+h*h,p=f*f+d*d;return l*(h*p-v*d)-s*(c*p-v*f)+m*(c*d-h*f)<0}function l3(t,e,n,r,i,a){const o=n-t,u=r-e,l=i-t,s=a-e,c=o*o+u*u,h=l*l+s*s,f=.5/(o*s-u*l),d=(s*c-u*h)*f,m=(o*h-l*c)*f;return d*d+m*m}function c3(t,e,n,r,i,a){const o=n-t,u=r-e,l=i-t,s=a-e,c=o*o+u*u,h=l*l+s*s,f=.5/(o*s-u*l),d=t+(s*c-u*h)*f,m=e+(o*h-l*c)*f;return{x:d,y:m}}function Zn(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=t[i],o=e[a];let u=i-1;for(;u>=n&&e[t[u]]>o;)t[u+1]=t[u--];t[u+1]=a}else{const i=n+r>>1;let a=n+1,o=r;kr(t,i,a),e[t[n]]>e[t[r]]&&kr(t,n,r),e[t[a]]>e[t[r]]&&kr(t,a,r),e[t[n]]>e[t[a]]&&kr(t,n,a);const u=t[a],l=e[u];for(;;){do a++;while(e[t[a]]<l);do o--;while(e[t[o]]>l);if(o<a)break;kr(t,a,o)}t[n+1]=t[o],t[o]=u,r-a+1>=o-n?(Zn(t,e,a,r),Zn(t,e,n,o-1)):(Zn(t,e,n,o-1),Zn(t,e,a,r))}}function kr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function f3(t){return t[0]}function h3(t){return t[1]}const Zc=1e-6;class pn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Zc||Math.abs(this._y1-a)>Zc)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class us{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class h0{constructor(e,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let a,o;const u=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let v=0,p=0,g=r.length,_,b;v<g;v+=3,p+=2){const y=r[v]*2,w=r[v+1]*2,x=r[v+2]*2,A=e[y],$=e[y+1],N=e[w],k=e[w+1],P=e[x],L=e[x+1],T=N-A,M=k-$,S=P-A,C=L-$,O=(T*C-M*S)*2;if(Math.abs(O)<1e-9){if(a===void 0){a=o=0;for(const I of n)a+=e[I*2],o+=e[I*2+1];a/=n.length,o/=n.length}const D=1e9*Math.sign((a-A)*C-(o-$)*S);_=(A+P)/2-D*C,b=($+L)/2+D*S}else{const D=1/O,I=T*T+M*M,R=S*S+C*C;_=A+(C*I-M*R)*D,b=$+(T*R-S*I)*D}u[p]=_,u[p+1]=b}let l=n[n.length-1],s,c=l*4,h,f=e[2*l],d,m=e[2*l+1];i.fill(0);for(let v=0;v<n.length;++v)l=n[v],s=c,h=f,d=m,c=l*4,f=e[2*l],m=e[2*l+1],i[s+2]=i[c]=d-m,i[s+3]=i[c+1]=f-h}render(e){const n=e==null?e=new pn:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:u}=this;if(a.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f<c)continue;const d=Math.floor(c/3)*2,m=Math.floor(f/3)*2,v=o[d],p=o[d+1],g=o[m],_=o[m+1];this._renderSegment(v,p,g,_,e)}let l,s=a[a.length-1];for(let c=0;c<a.length;++c){l=s,s=a[c];const h=Math.floor(i[s]/3)*2,f=o[h],d=o[h+1],m=l*4,v=this._project(f,d,u[m+2],u[m+3]);v&&this._renderSegment(f,d,v[0],v[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new pn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new pn:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new us;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,a){let o;const u=this._regioncode(e,n),l=this._regioncode(r,i);u===0&&l===0?(a.moveTo(e,n),a.lineTo(r,i)):(o=this._clipSegment(e,n,r,i,u,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let a=0,o=n.length;a<o;a+=2)for(let u=0,l=i.length;u<l;u+=2)if(n[a]===i[u]&&n[a+1]===i[u+1]&&n[(a+2)%o]===i[(u+l-2)%l]&&n[(a+3)%o]===i[(u+l-1)%l]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[e];if(o===-1)return null;const u=[];let l=o;do{const s=Math.floor(l/3);if(u.push(n[s*2],n[s*2+1]),l=l%3===2?l-2:l+1,a[l]!==e)break;l=i[l]}while(l!==o&&l!==-1);return u}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,a,o,u=n[r-2],l=n[r-1],s,c=this._regioncode(u,l),h,f=0;for(let d=0;d<r;d+=2)if(a=u,o=l,u=n[d],l=n[d+1],s=c,c=this._regioncode(u,l),s===0&&c===0)h=f,f=0,i?i.push(u,l):i=[u,l];else{let m,v,p,g,_;if(s===0){if((m=this._clipSegment(a,o,u,l,s,c))===null)continue;[v,p,g,_]=m}else{if((m=this._clipSegment(u,l,a,o,c,s))===null)continue;[g,_,v,p]=m,h=f,f=this._edgecode(v,p),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(v,p):i=[v,p]}h=f,f=this._edgecode(g,_),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(g,_):i=[g,_]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,a,o){const u=a<o;for(u&&([e,n,r,i,a,o]=[r,i,e,n,o,a]);;){if(a===0&&o===0)return u?[r,i,e,n]:[e,n,r,i];if(a&o)return null;let l,s,c=a||o;c&8?(l=e+(r-e)*(this.ymax-n)/(i-n),s=this.ymax):c&4?(l=e+(r-e)*(this.ymin-n)/(i-n),s=this.ymin):c&2?(s=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(s=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),a?(e=l,n=s,a=this._regioncode(e,n)):(r=l,i=s,o=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,a,o){let u=Array.from(n),l;if((l=this._project(u[0],u[1],r,i))&&u.unshift(l[0],l[1]),(l=this._project(u[u.length-2],u[u.length-1],a,o))&&u.push(l[0],l[1]),u=this._clipFinite(e,u))for(let s=0,c=u.length,h,f=this._edgecode(u[c-2],u[c-1]);s<c;s+=2)h=f,f=this._edgecode(u[s],u[s+1]),h&&f&&(s=this._edge(e,h,f,u,s),c=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(e,n,r,i,a){for(;n!==r;){let o,u;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,u=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,u=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,u=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,u=this.ymin;break}(i[a]!==o||i[a+1]!==u)&&this.contains(e,o,u)&&(i.splice(a,0,o,u),a+=2)}return a}_project(e,n,r,i){let a=1/0,o,u,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,u=e+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,u=e+(a=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<a&&(u=this.xmax,l=n+(a=o)*i)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<a&&(u=this.xmin,l=n+(a=o)*i)}return[u,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const d3=2*Math.PI,Un=Math.pow;function p3(t){return t[0]}function g3(t){return t[1]}function m3(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],a=2*e[r+1],o=2*e[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function v3(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class fl{static from(e,n=p3,r=g3,i){return new fl("length"in e?y3(e,n,r,i):Float64Array.from(b3(e,n,r,i)))}constructor(e){this._delaunator=new Na(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&m3(e)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],s=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*s],n[2*s+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,d=n.length/2;f<d;++f){const m=v3(n[2*f],n[2*f+1],h);n[2*f]=m[0],n[2*f+1]=m[1]}this._delaunator=new Na(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let l=0,s=r.length;l<s;++l){const c=a[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,s=i.length;l<s;++l)u[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new h0(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:u}=this;if(u){const h=u.indexOf(e);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const l=n[e];if(l===-1)return;let s=l,c=-1;do{if(yield c=o[s],s=s%3===2?s-2:s+1,o[s]!==e)return;if(s=a[s],s===-1){const h=r[(i[e]+1)%r.length];h!==c&&(yield h);return}}while(s!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,e,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(e,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:u,triangles:l,points:s}=this;if(i[e]===-1||!s.length)return(e+1)%(s.length>>1);let c=e,h=Un(n-s[e*2],2)+Un(r-s[e*2+1],2);const f=i[e];let d=f;do{let m=l[d];const v=Un(n-s[m*2],2)+Un(r-s[m*2+1],2);if(v<h&&(h=v,c=m),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=u[d],d===-1){if(d=a[(o[e]+1)%a.length],d!==m&&Un(n-s[d*2],2)+Un(r-s[d*2+1],2)<h)return d;break}}while(d!==f);return c}render(e){const n=e==null?e=new pn:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,u=i.length;o<u;++o){const l=i[o];if(l<o)continue;const s=a[o]*2,c=a[l]*2;e.moveTo(r[s],r[s+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new pn:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const u=i[a],l=i[a+1];e.moveTo(u+n,l),e.arc(u,l,n,0,d3)}return r&&r.value()}renderHull(e){const n=e==null?e=new pn:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;e.moveTo(i[a],i[a+1]);for(let u=1;u<o;++u){const l=2*r[u];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new us;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new pn:void 0,{points:i,triangles:a}=this,o=a[e*=3]*2,u=a[e+1]*2,l=a[e+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[u],i[u+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new us;return this.renderTriangle(e,n),n.value()}}function y3(t,e,n,r){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const u=t[o];a[o*2]=e.call(r,u,o,t),a[o*2+1]=n.call(r,u,o,t)}return a}function*b3(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}var Kc={},mu={},vu=34,Pr=10,yu=13;function d0(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function _3(t,e){var n=d0(t);return function(r,i){return e(n(r),i,t)}}function Qc(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function te(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function w3(t){return t<0?"-"+te(-t,6):t>9999?"+"+te(t,6):te(t,4)}function x3(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":w3(t.getUTCFullYear())+"-"+te(t.getUTCMonth()+1,2)+"-"+te(t.getUTCDate(),2)+(i?"T"+te(e,2)+":"+te(n,2)+":"+te(r,2)+"."+te(i,3)+"Z":r?"T"+te(e,2)+":"+te(n,2)+":"+te(r,2)+"Z":n||e?"T"+te(e,2)+":"+te(n,2)+"Z":"")}function To(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,f){var d,m,v=i(h,function(p,g){if(d)return d(p,g-1);m=p,d=f?_3(p,f):d0(p)});return v.columns=m||[],v}function i(h,f){var d=[],m=h.length,v=0,p=0,g,_=m<=0,b=!1;h.charCodeAt(m-1)===Pr&&--m,h.charCodeAt(m-1)===yu&&--m;function y(){if(_)return mu;if(b)return b=!1,Kc;var x,A=v,$;if(h.charCodeAt(A)===vu){for(;v++<m&&h.charCodeAt(v)!==vu||h.charCodeAt(++v)===vu;);return(x=v)>=m?_=!0:($=h.charCodeAt(v++))===Pr?b=!0:$===yu&&(b=!0,h.charCodeAt(v)===Pr&&++v),h.slice(A+1,x-1).replace(/""/g,'"')}for(;v<m;){if(($=h.charCodeAt(x=v++))===Pr)b=!0;else if($===yu)b=!0,h.charCodeAt(v)===Pr&&++v;else if($!==n)continue;return h.slice(A,x)}return _=!0,h.slice(A,m)}for(;(g=y())!==mu;){for(var w=[];g!==Kc&&g!==mu;)w.push(g),g=y();f&&(w=f(w,p++))==null||d.push(w)}return d}function a(h,f){return h.map(function(d){return f.map(function(m){return c(d[m])}).join(t)})}function o(h,f){return f==null&&(f=Qc(h)),[f.map(c).join(t)].concat(a(h,f)).join(`
`)}function u(h,f){return f==null&&(f=Qc(h)),a(h,f).join(`
`)}function l(h){return h.map(s).join(`
`)}function s(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?x3(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:o,formatBody:u,formatRows:l,formatRow:s,formatValue:c}}var En=To(","),p0=En.parse,M3=En.parseRows,T3=En.format,S3=En.formatBody,A3=En.formatRows,$3=En.formatRow,C3=En.formatValue,Rn=To("	"),g0=Rn.parse,N3=Rn.parseRows,k3=Rn.format,P3=Rn.formatBody,E3=Rn.formatRows,R3=Rn.formatRow,j3=Rn.formatValue;function O3(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))I3&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const I3=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function L3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function z3(t,e){return fetch(t,e).then(L3)}function D3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function B3(t,e){return fetch(t,e).then(D3)}function F3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function So(t,e){return fetch(t,e).then(F3)}function m0(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),So(e,n).then(function(i){return t(i,r)})}}function V3(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=To(t);return So(e,n).then(function(a){return i.parse(a,r)})}var G3=m0(p0),H3=m0(g0);function Y3(t,e){return new Promise(function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function U3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function q3(t,e){return fetch(t,e).then(U3)}function hl(t){return(e,n)=>So(e,n).then(r=>new DOMParser().parseFromString(r,t))}const W3=hl("application/xml");var X3=hl("text/html"),J3=hl("image/svg+xml");function Z3(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,u,l=0,s=0;for(a=0;a<o;++a)u=n[a],l+=u.x,s+=u.y;for(l=(l/o-t)*r,s=(s/o-e)*r,a=0;a<o;++a)u=n[a],u.x-=l,u.y-=s}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function K3(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return v0(this.cover(e,n),e,n,t)}function v0(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},u=t._x0,l=t._y0,s=t._x1,c=t._y1,h,f,d,m,v,p,g,_;if(!a)return t._root=o,t;for(;a.length;)if((v=e>=(h=(u+s)/2))?u=h:s=h,(p=n>=(f=(l+c)/2))?l=f:c=f,i=a,!(a=a[g=p<<1|v]))return i[g]=o,t;if(d=+t._x.call(null,a.data),m=+t._y.call(null,a.data),e===d&&n===m)return o.next=a,i?i[g]=o:t._root=o,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(v=e>=(h=(u+s)/2))?u=h:s=h,(p=n>=(f=(l+c)/2))?l=f:c=f;while((g=p<<1|v)===(_=(m>=f)<<1|d>=h));return i[_]=a,i[g]=o,t}function Q3(t){var e,n,r=t.length,i,a,o=new Array(r),u=new Array(r),l=1/0,s=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,u[n]=a,i<l&&(l=i),i>c&&(c=i),a<s&&(s=a),a>h&&(h=a));if(l>c||s>h)return this;for(this.cover(l,s).cover(c,h),n=0;n<r;++n)v0(this,o[n],u[n],t[n]);return this}function t5(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,u=this._root,l,s;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,l=new Array(4),l[s]=u,u=l,o*=2,s){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function e5(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function n5(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function qt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function r5(t,e,n){var r,i=this._x0,a=this._y0,o,u,l,s,c=this._x1,h=this._y1,f=[],d=this._root,m,v;for(d&&f.push(new qt(d,i,a,c,h)),n==null?n=1/0:(i=t-n,a=e-n,c=t+n,h=e+n,n*=n);m=f.pop();)if(!(!(d=m.node)||(o=m.x0)>c||(u=m.y0)>h||(l=m.x1)<i||(s=m.y1)<a))if(d.length){var p=(o+l)/2,g=(u+s)/2;f.push(new qt(d[3],p,g,l,s),new qt(d[2],o,g,p,s),new qt(d[1],p,u,l,g),new qt(d[0],o,u,p,g)),(v=(e>=g)<<1|t>=p)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-v],f[f.length-1-v]=m)}else{var _=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),y=_*_+b*b;if(y<n){var w=Math.sqrt(n=y);i=t-w,a=e-w,c=t+w,h=e+w,r=d.data}}return r}function i5(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,u=this._y0,l=this._x1,s=this._y1,c,h,f,d,m,v,p,g;if(!n)return this;if(n.length)for(;;){if((m=c>=(f=(o+l)/2))?o=f:l=f,(v=h>=(d=(u+s)/2))?u=d:s=d,e=n,!(n=n[p=v<<1|m]))return this;if(!n.length)break;(e[p+1&3]||e[p+2&3]||e[p+3&3])&&(r=e,g=p)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[p]=a:delete e[p],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=a,this)}function a5(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function o5(){return this._root}function u5(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function s5(t){var e=[],n,r=this._root,i,a,o,u,l;for(r&&e.push(new qt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,u=n.x1,l=n.y1)&&r.length){var s=(a+u)/2,c=(o+l)/2;(i=r[3])&&e.push(new qt(i,s,c,u,l)),(i=r[2])&&e.push(new qt(i,a,c,s,l)),(i=r[1])&&e.push(new qt(i,s,o,u,c)),(i=r[0])&&e.push(new qt(i,a,o,s,c))}return this}function l5(t){var e=[],n=[],r;for(this._root&&e.push(new qt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,u=r.y0,l=r.x1,s=r.y1,c=(o+l)/2,h=(u+s)/2;(a=i[0])&&e.push(new qt(a,o,u,c,h)),(a=i[1])&&e.push(new qt(a,c,u,l,h)),(a=i[2])&&e.push(new qt(a,o,h,c,s)),(a=i[3])&&e.push(new qt(a,c,h,l,s))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function c5(t){return t[0]}function f5(t){return arguments.length?(this._x=t,this):this._x}function h5(t){return t[1]}function d5(t){return arguments.length?(this._y=t,this):this._y}function Ao(t,e,n){var r=new dl(e??c5,n??h5,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function dl(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function tf(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Qt=Ao.prototype=dl.prototype;Qt.copy=function(){var t=new dl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=tf(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=tf(r));return t};Qt.add=K3;Qt.addAll=Q3;Qt.cover=t5;Qt.data=e5;Qt.extent=n5;Qt.find=r5;Qt.remove=i5;Qt.removeAll=a5;Qt.root=o5;Qt.size=u5;Qt.visit=s5;Qt.visitAfter=l5;Qt.x=f5;Qt.y=d5;function Ct(t){return function(){return t}}function Je(t){return(t()-.5)*1e-6}function p5(t){return t.x+t.vx}function g5(t){return t.y+t.vy}function m5(t){var e,n,r,i=1,a=1;typeof t!="function"&&(t=Ct(t==null?1:+t));function o(){for(var s,c=e.length,h,f,d,m,v,p,g=0;g<a;++g)for(h=Ao(e,p5,g5).visitAfter(u),s=0;s<c;++s)f=e[s],v=n[f.index],p=v*v,d=f.x+f.vx,m=f.y+f.vy,h.visit(_);function _(b,y,w,x,A){var $=b.data,N=b.r,k=v+N;if($){if($.index>f.index){var P=d-$.x-$.vx,L=m-$.y-$.vy,T=P*P+L*L;T<k*k&&(P===0&&(P=Je(r),T+=P*P),L===0&&(L=Je(r),T+=L*L),T=(k-(T=Math.sqrt(T)))/T*i,f.vx+=(P*=T)*(k=(N*=N)/(p+N)),f.vy+=(L*=T)*k,$.vx-=P*(k=1-k),$.vy-=L*k)}return}return y>d+k||x<d-k||w>m+k||A<m-k}}function u(s){if(s.data)return s.r=n[s.data.index];for(var c=s.r=0;c<4;++c)s[c]&&s[c].r>s.r&&(s.r=s[c].r)}function l(){if(e){var s,c=e.length,h;for(n=new Array(c),s=0;s<c;++s)h=e[s],n[h.index]=+t(h,s,e)}}return o.initialize=function(s,c){e=s,r=c,l()},o.iterations=function(s){return arguments.length?(a=+s,o):a},o.strength=function(s){return arguments.length?(i=+s,o):i},o.radius=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),l(),o):t},o}function v5(t){return t.index}function ef(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function y5(t){var e=v5,n=h,r,i=Ct(30),a,o,u,l,s,c=1;t==null&&(t=[]);function h(p){return 1/Math.min(u[p.source.index],u[p.target.index])}function f(p){for(var g=0,_=t.length;g<c;++g)for(var b=0,y,w,x,A,$,N,k;b<_;++b)y=t[b],w=y.source,x=y.target,A=x.x+x.vx-w.x-w.vx||Je(s),$=x.y+x.vy-w.y-w.vy||Je(s),N=Math.sqrt(A*A+$*$),N=(N-a[b])/N*p*r[b],A*=N,$*=N,x.vx-=A*(k=l[b]),x.vy-=$*k,w.vx+=A*(k=1-k),w.vy+=$*k}function d(){if(o){var p,g=o.length,_=t.length,b=new Map(o.map((w,x)=>[e(w,x,o),w])),y;for(p=0,u=new Array(g);p<_;++p)y=t[p],y.index=p,typeof y.source!="object"&&(y.source=ef(b,y.source)),typeof y.target!="object"&&(y.target=ef(b,y.target)),u[y.source.index]=(u[y.source.index]||0)+1,u[y.target.index]=(u[y.target.index]||0)+1;for(p=0,l=new Array(_);p<_;++p)y=t[p],l[p]=u[y.source.index]/(u[y.source.index]+u[y.target.index]);r=new Array(_),m(),a=new Array(_),v()}}function m(){if(o)for(var p=0,g=t.length;p<g;++p)r[p]=+n(t[p],p,t)}function v(){if(o)for(var p=0,g=t.length;p<g;++p)a[p]=+i(t[p],p,t)}return f.initialize=function(p,g){o=p,s=g,d()},f.links=function(p){return arguments.length?(t=p,d(),f):t},f.id=function(p){return arguments.length?(e=p,f):e},f.iterations=function(p){return arguments.length?(c=+p,f):c},f.strength=function(p){return arguments.length?(n=typeof p=="function"?p:Ct(+p),m(),f):n},f.distance=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(+p),v(),f):i},f}const b5=1664525,_5=1013904223,nf=4294967296;function w5(){let t=1;return()=>(t=(b5*t+_5)%nf)/nf}function x5(t){return t.x}function M5(t){return t.y}var T5=10,S5=Math.PI*(3-Math.sqrt(5));function A5(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,l=xo(h),s=kn("tick","end"),c=w5();t==null&&(t=[]);function h(){f(),s.call("tick",e),n<r&&(l.stop(),s.call("end",e))}function f(v){var p,g=t.length,_;v===void 0&&(v=1);for(var b=0;b<v;++b)for(n+=(a-n)*i,u.forEach(function(y){y(n)}),p=0;p<g;++p)_=t[p],_.fx==null?_.x+=_.vx*=o:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=o:(_.y=_.fy,_.vy=0);return e}function d(){for(var v=0,p=t.length,g;v<p;++v){if(g=t[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var _=T5*Math.sqrt(.5+v),b=v*S5;g.x=_*Math.cos(b),g.y=_*Math.sin(b)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function m(v){return v.initialize&&v.initialize(t,c),v}return d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(t=v,d(),u.forEach(m),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(a=+v,e):a},velocityDecay:function(v){return arguments.length?(o=1-v,e):1-o},randomSource:function(v){return arguments.length?(c=v,u.forEach(m),e):c},force:function(v,p){return arguments.length>1?(p==null?u.delete(v):u.set(v,m(p)),e):u.get(v)},find:function(v,p,g){var _=0,b=t.length,y,w,x,A,$;for(g==null?g=1/0:g*=g,_=0;_<b;++_)A=t[_],y=v-A.x,w=p-A.y,x=y*y+w*w,x<g&&($=A,g=x);return $},on:function(v,p){return arguments.length>1?(s.on(v,p),e):s.on(v)}}}function $5(){var t,e,n,r,i=Ct(-30),a,o=1,u=1/0,l=.81;function s(d){var m,v=t.length,p=Ao(t,x5,M5).visitAfter(h);for(r=d,m=0;m<v;++m)e=t[m],p.visit(f)}function c(){if(t){var d,m=t.length,v;for(a=new Array(m),d=0;d<m;++d)v=t[d],a[v.index]=+i(v,d,t)}}function h(d){var m=0,v,p,g=0,_,b,y;if(d.length){for(_=b=y=0;y<4;++y)(v=d[y])&&(p=Math.abs(v.value))&&(m+=v.value,g+=p,_+=p*v.x,b+=p*v.y);d.x=_/g,d.y=b/g}else{v=d,v.x=v.data.x,v.y=v.data.y;do m+=a[v.data.index];while(v=v.next)}d.value=m}function f(d,m,v,p){if(!d.value)return!0;var g=d.x-e.x,_=d.y-e.y,b=p-m,y=g*g+_*_;if(b*b/l<y)return y<u&&(g===0&&(g=Je(n),y+=g*g),_===0&&(_=Je(n),y+=_*_),y<o&&(y=Math.sqrt(o*y)),e.vx+=g*d.value*r/y,e.vy+=_*d.value*r/y),!0;if(d.length||y>=u)return;(d.data!==e||d.next)&&(g===0&&(g=Je(n),y+=g*g),_===0&&(_=Je(n),y+=_*_),y<o&&(y=Math.sqrt(o*y)));do d.data!==e&&(b=a[d.data.index]*r/y,e.vx+=g*b,e.vy+=_*b);while(d=d.next)}return s.initialize=function(d,m){t=d,n=m,c()},s.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Ct(+d),c(),s):i},s.distanceMin=function(d){return arguments.length?(o=d*d,s):Math.sqrt(o)},s.distanceMax=function(d){return arguments.length?(u=d*d,s):Math.sqrt(u)},s.theta=function(d){return arguments.length?(l=d*d,s):Math.sqrt(l)},s}function C5(t,e,n){var r,i=Ct(.1),a,o;typeof t!="function"&&(t=Ct(+t)),e==null&&(e=0),n==null&&(n=0);function u(s){for(var c=0,h=r.length;c<h;++c){var f=r[c],d=f.x-e||1e-6,m=f.y-n||1e-6,v=Math.sqrt(d*d+m*m),p=(o[c]-v)*a[c]*s/v;f.vx+=d*p,f.vy+=m*p}}function l(){if(r){var s,c=r.length;for(a=new Array(c),o=new Array(c),s=0;s<c;++s)o[s]=+t(r[s],s,r),a[s]=isNaN(o[s])?0:+i(r[s],s,r)}}return u.initialize=function(s){r=s,l()},u.strength=function(s){return arguments.length?(i=typeof s=="function"?s:Ct(+s),l(),u):i},u.radius=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),l(),u):t},u.x=function(s){return arguments.length?(e=+s,u):e},u.y=function(s){return arguments.length?(n=+s,u):n},u}function N5(t){var e=Ct(.1),n,r,i;typeof t!="function"&&(t=Ct(t==null?0:+t));function a(u){for(var l=0,s=n.length,c;l<s;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*u}function o(){if(n){var u,l=n.length;for(r=new Array(l),i=new Array(l),u=0;u<l;++u)r[u]=isNaN(i[u]=+t(n[u],u,n))?0:+e(n[u],u,n)}}return a.initialize=function(u){n=u,o()},a.strength=function(u){return arguments.length?(e=typeof u=="function"?u:Ct(+u),o(),a):e},a.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),o(),a):t},a}function k5(t){var e=Ct(.1),n,r,i;typeof t!="function"&&(t=Ct(t==null?0:+t));function a(u){for(var l=0,s=n.length,c;l<s;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*u}function o(){if(n){var u,l=n.length;for(r=new Array(l),i=new Array(l),u=0;u<l;++u)r[u]=isNaN(i[u]=+t(n[u],u,n))?0:+e(n[u],u,n)}}return a.initialize=function(u){n=u,o()},a.strength=function(u){return arguments.length?(e=typeof u=="function"?u:Ct(+u),o(),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),o(),a):t},a}function P5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ka(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fr(t){return t=ka(Math.abs(t)),t?t[1]:NaN}function E5(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function R5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var j5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(t){if(!(e=j5.exec(t)))throw new Error("invalid format: "+t);var e;return new $o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hr.prototype=$o.prototype;function $o(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O5(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var y0;function I5(t,e){var n=ka(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(y0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ka(t,Math.max(0,e+a-1))[0]}function rf(t,e){var n=ka(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const af={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:P5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rf(t*100,e),r:rf,s:I5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function of(t){return t}var uf=Array.prototype.map,sf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b0(t){var e=t.grouping===void 0||t.thousands===void 0?of:E5(uf.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?of:R5(uf.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function s(h){h=hr(h);var f=h.fill,d=h.align,m=h.sign,v=h.symbol,p=h.zero,g=h.width,_=h.comma,b=h.precision,y=h.trim,w=h.type;w==="n"?(_=!0,w="g"):af[w]||(b===void 0&&(b=12),y=!0,w="g"),(p||f==="0"&&d==="=")&&(p=!0,f="0",d="=");var x=v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=v==="$"?r:/[%p]/.test(w)?o:"",$=af[w],N=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(P){var L=x,T=A,M,S,C;if(w==="c")T=$(P)+T,P="";else{P=+P;var O=P<0||1/P<0;if(P=isNaN(P)?l:$(Math.abs(P),b),y&&(P=O5(P)),O&&+P==0&&m!=="+"&&(O=!1),L=(O?m==="("?m:u:m==="-"||m==="("?"":m)+L,T=(w==="s"?sf[8+y0/3]:"")+T+(O&&m==="("?")":""),N){for(M=-1,S=P.length;++M<S;)if(C=P.charCodeAt(M),48>C||C>57){T=(C===46?i+P.slice(M+1):P.slice(M))+T,P=P.slice(0,M);break}}}_&&!p&&(P=e(P,1/0));var D=L.length+P.length+T.length,I=D<g?new Array(g-D+1).join(f):"";switch(_&&p&&(P=e(I+P,I.length?g-T.length:1/0),I=""),d){case"<":P=L+P+T+I;break;case"=":P=L+I+P+T;break;case"^":P=I.slice(0,D=I.length>>1)+L+P+T+I.slice(D);break;default:P=I+L+P+T;break}return a(P)}return k.toString=function(){return h+""},k}function c(h,f){var d=s((h=hr(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(fr(f)/3)))*3,v=Math.pow(10,-m),p=sf[8+m/3];return function(g){return d(v*g)+p}}return{format:s,formatPrefix:c}}var Gi,Co,pl;_0({thousands:",",grouping:[3],currency:["$",""]});function _0(t){return Gi=b0(t),Co=Gi.format,pl=Gi.formatPrefix,Gi}function w0(t){return Math.max(0,-fr(Math.abs(t)))}function x0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fr(e)/3)))*3-fr(Math.abs(t)))}function M0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fr(e)-fr(t))+1}var et=1e-6,hi=1e-12,ct=Math.PI,Mt=ct/2,Pa=ct/4,Jt=ct*2,mt=180/ct,nt=ct/180,ft=Math.abs,Tr=Math.atan,Zt=Math.atan2,Q=Math.cos,Hi=Math.ceil,T0=Math.exp,ss=Math.hypot,Ea=Math.log,bu=Math.pow,Z=Math.sin,fe=Math.sign||function(t){return t>0?1:t<0?-1:0},Rt=Math.sqrt,gl=Math.tan;function S0(t){return t>1?0:t<-1?ct:Math.acos(t)}function Kt(t){return t>1?Mt:t<-1?-Mt:Math.asin(t)}function lf(t){return(t=Z(t/2))*t}function _t(){}function Ra(t,e){t&&ff.hasOwnProperty(t.type)&&ff[t.type](t,e)}var cf={Feature:function(t,e){Ra(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ra(n[r].geometry,e)}},ff={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ls(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ls(n[r],e,0)},Polygon:function(t,e){hf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)hf(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ra(n[r],e)}};function ls(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function hf(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ls(t[n],e,1);e.polygonEnd()}function ge(t,e){t&&cf.hasOwnProperty(t.type)?cf[t.type](t,e):Ra(t,e)}var ja=new Nt,Oa=new Nt,A0,$0,cs,fs,hs,Ae={point:_t,lineStart:_t,lineEnd:_t,polygonStart:function(){ja=new Nt,Ae.lineStart=L5,Ae.lineEnd=z5},polygonEnd:function(){var t=+ja;Oa.add(t<0?Jt+t:t),this.lineStart=this.lineEnd=this.point=_t},sphere:function(){Oa.add(Jt)}};function L5(){Ae.point=D5}function z5(){C0(A0,$0)}function D5(t,e){Ae.point=C0,A0=t,$0=e,t*=nt,e*=nt,cs=t,fs=Q(e=e/2+Pa),hs=Z(e)}function C0(t,e){t*=nt,e*=nt,e=e/2+Pa;var n=t-cs,r=n>=0?1:-1,i=r*n,a=Q(e),o=Z(e),u=hs*o,l=fs*a+u*Q(i),s=u*r*Z(i);ja.add(Zt(s,l)),cs=t,fs=a,hs=o}function B5(t){return Oa=new Nt,ge(t,Ae),Oa*2}function Ia(t){return[Zt(t[1],t[0]),Kt(t[2])]}function Tn(t){var e=t[0],n=t[1],r=Q(n);return[r*Q(e),r*Z(e),Z(n)]}function Yi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _u(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ui(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function La(t){var e=Rt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var bt,re,xt,oe,fn,N0,k0,nr,Xr,We,He,Le={point:ds,lineStart:df,lineEnd:pf,polygonStart:function(){Le.point=E0,Le.lineStart=F5,Le.lineEnd=V5,Xr=new Nt,Ae.polygonStart()},polygonEnd:function(){Ae.polygonEnd(),Le.point=ds,Le.lineStart=df,Le.lineEnd=pf,ja<0?(bt=-(xt=180),re=-(oe=90)):Xr>et?oe=90:Xr<-et&&(re=-90),He[0]=bt,He[1]=xt},sphere:function(){bt=-(xt=180),re=-(oe=90)}};function ds(t,e){We.push(He=[bt=t,xt=t]),e<re&&(re=e),e>oe&&(oe=e)}function P0(t,e){var n=Tn([t*nt,e*nt]);if(nr){var r=dr(nr,n),i=[r[1],-r[0],0],a=dr(i,r);La(a),a=Ia(a);var o=t-fn,u=o>0?1:-1,l=a[0]*mt*u,s,c=ft(o)>180;c^(u*fn<l&&l<u*t)?(s=a[1]*mt,s>oe&&(oe=s)):(l=(l+360)%360-180,c^(u*fn<l&&l<u*t)?(s=-a[1]*mt,s<re&&(re=s)):(e<re&&(re=e),e>oe&&(oe=e))),c?t<fn?ie(bt,t)>ie(bt,xt)&&(xt=t):ie(t,xt)>ie(bt,xt)&&(bt=t):xt>=bt?(t<bt&&(bt=t),t>xt&&(xt=t)):t>fn?ie(bt,t)>ie(bt,xt)&&(xt=t):ie(t,xt)>ie(bt,xt)&&(bt=t)}else We.push(He=[bt=t,xt=t]);e<re&&(re=e),e>oe&&(oe=e),nr=n,fn=t}function df(){Le.point=P0}function pf(){He[0]=bt,He[1]=xt,Le.point=ds,nr=null}function E0(t,e){if(nr){var n=t-fn;Xr.add(ft(n)>180?n+(n>0?360:-360):n)}else N0=t,k0=e;Ae.point(t,e),P0(t,e)}function F5(){Ae.lineStart()}function V5(){E0(N0,k0),Ae.lineEnd(),ft(Xr)>et&&(bt=-(xt=180)),He[0]=bt,He[1]=xt,nr=null}function ie(t,e){return(e-=t)<0?e+360:e}function G5(t,e){return t[0]-e[0]}function gf(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function H5(t){var e,n,r,i,a,o,u;if(oe=xt=-(bt=re=1/0),We=[],ge(t,Le),n=We.length){for(We.sort(G5),e=1,r=We[0],a=[r];e<n;++e)i=We[e],gf(r,i[0])||gf(r,i[1])?(ie(r[0],i[1])>ie(r[0],r[1])&&(r[1]=i[1]),ie(i[0],r[1])>ie(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(u=ie(r[1],i[0]))>o&&(o=u,bt=i[0],xt=r[1])}return We=He=null,bt===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[bt,re],[xt,oe]]}var Dr,za,Da,Ba,Fa,Va,Ga,Ha,ps,gs,ms,R0,j0,Ht,Yt,Ut,me={sphere:_t,point:ml,lineStart:mf,lineEnd:vf,polygonStart:function(){me.lineStart=q5,me.lineEnd=W5},polygonEnd:function(){me.lineStart=mf,me.lineEnd=vf}};function ml(t,e){t*=nt,e*=nt;var n=Q(e);Ai(n*Q(t),n*Z(t),Z(e))}function Ai(t,e,n){++Dr,Da+=(t-Da)/Dr,Ba+=(e-Ba)/Dr,Fa+=(n-Fa)/Dr}function mf(){me.point=Y5}function Y5(t,e){t*=nt,e*=nt;var n=Q(e);Ht=n*Q(t),Yt=n*Z(t),Ut=Z(e),me.point=U5,Ai(Ht,Yt,Ut)}function U5(t,e){t*=nt,e*=nt;var n=Q(e),r=n*Q(t),i=n*Z(t),a=Z(e),o=Zt(Rt((o=Yt*a-Ut*i)*o+(o=Ut*r-Ht*a)*o+(o=Ht*i-Yt*r)*o),Ht*r+Yt*i+Ut*a);za+=o,Va+=o*(Ht+(Ht=r)),Ga+=o*(Yt+(Yt=i)),Ha+=o*(Ut+(Ut=a)),Ai(Ht,Yt,Ut)}function vf(){me.point=ml}function q5(){me.point=X5}function W5(){O0(R0,j0),me.point=ml}function X5(t,e){R0=t,j0=e,t*=nt,e*=nt,me.point=O0;var n=Q(e);Ht=n*Q(t),Yt=n*Z(t),Ut=Z(e),Ai(Ht,Yt,Ut)}function O0(t,e){t*=nt,e*=nt;var n=Q(e),r=n*Q(t),i=n*Z(t),a=Z(e),o=Yt*a-Ut*i,u=Ut*r-Ht*a,l=Ht*i-Yt*r,s=ss(o,u,l),c=Kt(s),h=s&&-c/s;ps.add(h*o),gs.add(h*u),ms.add(h*l),za+=c,Va+=c*(Ht+(Ht=r)),Ga+=c*(Yt+(Yt=i)),Ha+=c*(Ut+(Ut=a)),Ai(Ht,Yt,Ut)}function J5(t){Dr=za=Da=Ba=Fa=Va=Ga=Ha=0,ps=new Nt,gs=new Nt,ms=new Nt,ge(t,me);var e=+ps,n=+gs,r=+ms,i=ss(e,n,r);return i<hi&&(e=Va,n=Ga,r=Ha,za<et&&(e=Da,n=Ba,r=Fa),i=ss(e,n,r),i<hi)?[NaN,NaN]:[Zt(n,e)*mt,Kt(r/i)*mt]}function qn(t){return function(){return t}}function vs(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function ys(t,e){return ft(t)>ct&&(t-=Math.round(t/Jt)*Jt),[t,e]}ys.invert=ys;function vl(t,e,n){return(t%=Jt)?e||n?vs(bf(t),_f(e,n)):bf(t):e||n?_f(e,n):ys}function yf(t){return function(e,n){return e+=t,ft(e)>ct&&(e-=Math.round(e/Jt)*Jt),[e,n]}}function bf(t){var e=yf(t);return e.invert=yf(-t),e}function _f(t,e){var n=Q(t),r=Z(t),i=Q(e),a=Z(e);function o(u,l){var s=Q(l),c=Q(u)*s,h=Z(u)*s,f=Z(l),d=f*n+c*r;return[Zt(h*i-d*a,c*n-f*r),Kt(d*i+h*a)]}return o.invert=function(u,l){var s=Q(l),c=Q(u)*s,h=Z(u)*s,f=Z(l),d=f*i-h*a;return[Zt(h*i+f*a,c*n+d*r),Kt(d*n-c*r)]},o}function I0(t){t=vl(t[0]*nt,t[1]*nt,t.length>2?t[2]*nt:0);function e(n){return n=t(n[0]*nt,n[1]*nt),n[0]*=mt,n[1]*=mt,n}return e.invert=function(n){return n=t.invert(n[0]*nt,n[1]*nt),n[0]*=mt,n[1]*=mt,n},e}function L0(t,e,n,r,i,a){if(n){var o=Q(e),u=Z(e),l=r*n;i==null?(i=e+r*Jt,a=e-l/2):(i=wf(o,i),a=wf(o,a),(r>0?i<a:i>a)&&(i+=r*Jt));for(var s,c=i;r>0?c>a:c<a;c-=l)s=Ia([o,-u*Q(c),-u*Z(c)]),t.point(s[0],s[1])}}function wf(t,e){e=Tn(e),e[0]-=t,La(e);var n=S0(-e[1]);return((-e[2]<0?-n:n)+Jt-et)%Jt}function Z5(){var t=qn([0,0]),e=qn(90),n=qn(2),r,i,a={point:o};function o(l,s){r.push(l=i(l,s)),l[0]*=mt,l[1]*=mt}function u(){var l=t.apply(this,arguments),s=e.apply(this,arguments)*nt,c=n.apply(this,arguments)*nt;return r=[],i=vl(-l[0]*nt,-l[1]*nt,0).invert,L0(a,s,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return u.center=function(l){return arguments.length?(t=typeof l=="function"?l:qn([+l[0],+l[1]]),u):t},u.radius=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),u):e},u.precision=function(l){return arguments.length?(n=typeof l=="function"?l:qn(+l),u):n},u}function z0(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:_t,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function fa(t,e){return ft(t[0]-e[0])<et&&ft(t[1]-e[1])<et}function qi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function D0(t,e,n,r,i){var a=[],o=[],u,l;if(t.forEach(function(m){if(!((v=m.length-1)<=0)){var v,p=m[0],g=m[v],_;if(fa(p,g)){if(!p[2]&&!g[2]){for(i.lineStart(),u=0;u<v;++u)i.point((p=m[u])[0],p[1]);i.lineEnd();return}g[0]+=2*et}a.push(_=new qi(p,m,null,!0)),o.push(_.o=new qi(p,null,_,!1)),a.push(_=new qi(g,m,null,!1)),o.push(_.o=new qi(g,null,_,!0))}}),!!a.length){for(o.sort(e),xf(a),xf(o),u=0,l=o.length;u<l;++u)o[u].e=n=!n;for(var s=a[0],c,h;;){for(var f=s,d=!0;f.v;)if((f=f.n)===s)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(u=0,l=c.length;u<l;++u)i.point((h=c[u])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,u=c.length-1;u>=0;--u)i.point((h=c[u])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function xf(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function wu(t){return ft(t[0])<=ct?t[0]:fe(t[0])*((ft(t[0])+ct)%Jt-ct)}function B0(t,e){var n=wu(e),r=e[1],i=Z(r),a=[Z(n),-Q(n),0],o=0,u=0,l=new Nt;i===1?r=Mt+et:i===-1&&(r=-Mt-et);for(var s=0,c=t.length;s<c;++s)if(f=(h=t[s]).length)for(var h,f,d=h[f-1],m=wu(d),v=d[1]/2+Pa,p=Z(v),g=Q(v),_=0;_<f;++_,m=y,p=x,g=A,d=b){var b=h[_],y=wu(b),w=b[1]/2+Pa,x=Z(w),A=Q(w),$=y-m,N=$>=0?1:-1,k=N*$,P=k>ct,L=p*x;if(l.add(Zt(L*N*Z(k),g*A+L*Q(k))),o+=P?$+N*Jt:$,P^m>=n^y>=n){var T=dr(Tn(d),Tn(b));La(T);var M=dr(a,T);La(M);var S=(P^$>=0?-1:1)*Kt(M[2]);(r>S||r===S&&(T[0]||T[1]))&&(u+=P^$>=0?1:-1)}}return(o<-et||o<et&&l<-hi)^u&1}function F0(t,e,n,r){return function(i){var a=e(i),o=z0(),u=e(o),l=!1,s,c,h,f={point:d,lineStart:v,lineEnd:p,polygonStart:function(){f.point=g,f.lineStart=_,f.lineEnd=b,c=[],s=[]},polygonEnd:function(){f.point=d,f.lineStart=v,f.lineEnd=p,c=Ys(c);var y=B0(s,r);c.length?(l||(i.polygonStart(),l=!0),D0(c,Q5,y,n,i)):y&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=s=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,w){t(y,w)&&i.point(y,w)}function m(y,w){a.point(y,w)}function v(){f.point=m,a.lineStart()}function p(){f.point=d,a.lineEnd()}function g(y,w){h.push([y,w]),u.point(y,w)}function _(){u.lineStart(),h=[]}function b(){g(h[0][0],h[0][1]),u.lineEnd();var y=u.clean(),w=o.result(),x,A=w.length,$,N,k;if(h.pop(),s.push(h),h=null,!!A){if(y&1){if(N=w[0],($=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),x=0;x<$;++x)i.point((k=N[x])[0],k[1]);i.lineEnd()}return}A>1&&y&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(K5))}}return f}}function K5(t){return t.length>1}function Q5(t,e){return((t=t.x)[0]<0?t[1]-Mt-et:Mt-t[1])-((e=e.x)[0]<0?e[1]-Mt-et:Mt-e[1])}const bs=F0(function(){return!0},tx,nx,[-ct,-Mt]);function tx(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var u=a>0?ct:-ct,l=ft(a-e);ft(l-ct)<et?(t.point(e,n=(n+o)/2>0?Mt:-Mt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),t.point(a,n),i=0):r!==u&&l>=ct&&(ft(e-r)<et&&(e-=r*et),ft(a-u)<et&&(a-=u*et),n=ex(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(u,n),i=0),t.point(e=a,n=o),r=u},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function ex(t,e,n,r){var i,a,o=Z(t-n);return ft(o)>et?Tr((Z(e)*(a=Q(r))*Z(n)-Z(r)*(i=Q(e))*Z(t))/(i*a*o)):(e+r)/2}function nx(t,e,n,r){var i;if(t==null)i=n*Mt,r.point(-ct,i),r.point(0,i),r.point(ct,i),r.point(ct,0),r.point(ct,-i),r.point(0,-i),r.point(-ct,-i),r.point(-ct,0),r.point(-ct,i);else if(ft(t[0]-e[0])>et){var a=t[0]<e[0]?ct:-ct;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function V0(t){var e=Q(t),n=2*nt,r=e>0,i=ft(e)>et;function a(c,h,f,d){L0(d,t,n,f,c,h)}function o(c,h){return Q(c)*Q(h)>e}function u(c){var h,f,d,m,v;return{lineStart:function(){m=d=!1,v=1},point:function(p,g){var _=[p,g],b,y=o(p,g),w=r?y?0:s(p,g):y?s(p+(p<0?ct:-ct),g):0;if(!h&&(m=d=y)&&c.lineStart(),y!==d&&(b=l(h,_),(!b||fa(h,b)||fa(_,b))&&(_[2]=1)),y!==d)v=0,y?(c.lineStart(),b=l(_,h),c.point(b[0],b[1])):(b=l(h,_),c.point(b[0],b[1],2),c.lineEnd()),h=b;else if(i&&h&&r^y){var x;!(w&f)&&(x=l(_,h,!0))&&(v=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}y&&(!h||!fa(h,_))&&c.point(_[0],_[1]),h=_,d=y,f=w},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return v|(m&&d)<<1}}}function l(c,h,f){var d=Tn(c),m=Tn(h),v=[1,0,0],p=dr(d,m),g=Yi(p,p),_=p[0],b=g-_*_;if(!b)return!f&&c;var y=e*g/b,w=-e*_/b,x=dr(v,p),A=Ui(v,y),$=Ui(p,w);_u(A,$);var N=x,k=Yi(A,N),P=Yi(N,N),L=k*k-P*(Yi(A,A)-1);if(!(L<0)){var T=Rt(L),M=Ui(N,(-k-T)/P);if(_u(M,A),M=Ia(M),!f)return M;var S=c[0],C=h[0],O=c[1],D=h[1],I;C<S&&(I=S,S=C,C=I);var R=C-S,j=ft(R-ct)<et,z=j||R<et;if(!j&&D<O&&(I=O,O=D,D=I),z?j?O+D>0^M[1]<(ft(M[0]-S)<et?O:D):O<=M[1]&&M[1]<=D:R>ct^(S<=M[0]&&M[0]<=C)){var F=Ui(N,(-k+T)/P);return _u(F,A),[M,Ia(F)]}}}function s(c,h){var f=r?t:ct-t,d=0;return c<-f?d|=1:c>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return F0(o,u,a,r?[0,-t]:[-ct,t-ct])}function rx(t,e,n,r,i,a){var o=t[0],u=t[1],l=e[0],s=e[1],c=0,h=1,f=l-o,d=s-u,m;if(m=n-o,!(!f&&m>0)){if(m/=f,f<0){if(m<c)return;m<h&&(h=m)}else if(f>0){if(m>h)return;m>c&&(c=m)}if(m=i-o,!(!f&&m<0)){if(m/=f,f<0){if(m>h)return;m>c&&(c=m)}else if(f>0){if(m<c)return;m<h&&(h=m)}if(m=r-u,!(!d&&m>0)){if(m/=d,d<0){if(m<c)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>c&&(c=m)}if(m=a-u,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>c&&(c=m)}else if(d>0){if(m<c)return;m<h&&(h=m)}return c>0&&(t[0]=o+c*f,t[1]=u+c*d),h<1&&(e[0]=o+h*f,e[1]=u+h*d),!0}}}}}var Br=1e9,Wi=-Br;function No(t,e,n,r){function i(s,c){return t<=s&&s<=n&&e<=c&&c<=r}function a(s,c,h,f){var d=0,m=0;if(s==null||(d=o(s,h))!==(m=o(c,h))||l(s,c)<0^h>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==m);else f.point(c[0],c[1])}function o(s,c){return ft(s[0]-t)<et?c>0?0:3:ft(s[0]-n)<et?c>0?2:1:ft(s[1]-e)<et?c>0?1:0:c>0?3:2}function u(s,c){return l(s.x,c.x)}function l(s,c){var h=o(s,1),f=o(c,1);return h!==f?h-f:h===0?c[1]-s[1]:h===1?s[0]-c[0]:h===2?s[1]-c[1]:c[0]-s[0]}return function(s){var c=s,h=z0(),f,d,m,v,p,g,_,b,y,w,x,A={point:$,lineStart:L,lineEnd:T,polygonStart:k,polygonEnd:P};function $(S,C){i(S,C)&&c.point(S,C)}function N(){for(var S=0,C=0,O=d.length;C<O;++C)for(var D=d[C],I=1,R=D.length,j=D[0],z,F,G=j[0],H=j[1];I<R;++I)z=G,F=H,j=D[I],G=j[0],H=j[1],F<=r?H>r&&(G-z)*(r-F)>(H-F)*(t-z)&&++S:H<=r&&(G-z)*(r-F)<(H-F)*(t-z)&&--S;return S}function k(){c=h,f=[],d=[],x=!0}function P(){var S=N(),C=x&&S,O=(f=Ys(f)).length;(C||O)&&(s.polygonStart(),C&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),O&&D0(f,u,S,a,s),s.polygonEnd()),c=s,f=d=m=null}function L(){A.point=M,d&&d.push(m=[]),w=!0,y=!1,_=b=NaN}function T(){f&&(M(v,p),g&&y&&h.rejoin(),f.push(h.result())),A.point=$,y&&c.lineEnd()}function M(S,C){var O=i(S,C);if(d&&m.push([S,C]),w)v=S,p=C,g=O,w=!1,O&&(c.lineStart(),c.point(S,C));else if(O&&y)c.point(S,C);else{var D=[_=Math.max(Wi,Math.min(Br,_)),b=Math.max(Wi,Math.min(Br,b))],I=[S=Math.max(Wi,Math.min(Br,S)),C=Math.max(Wi,Math.min(Br,C))];rx(D,I,t,e,n,r)?(y||(c.lineStart(),c.point(D[0],D[1])),c.point(I[0],I[1]),O||c.lineEnd(),x=!1):O&&(c.lineStart(),c.point(S,C),x=!1)}_=S,b=C,y=O}return A}}function ix(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(u){return i&&a===u?i:i=No(t,e,n,r)(a=u)},extent:function(u){return arguments.length?(t=+u[0][0],e=+u[0][1],n=+u[1][0],r=+u[1][1],i=a=null,o):[[t,e],[n,r]]}}}var _s,ws,ha,da,pr={sphere:_t,point:_t,lineStart:ax,lineEnd:_t,polygonStart:_t,polygonEnd:_t};function ax(){pr.point=ux,pr.lineEnd=ox}function ox(){pr.point=pr.lineEnd=_t}function ux(t,e){t*=nt,e*=nt,ws=t,ha=Z(e),da=Q(e),pr.point=sx}function sx(t,e){t*=nt,e*=nt;var n=Z(e),r=Q(e),i=ft(t-ws),a=Q(i),o=Z(i),u=r*o,l=da*n-ha*r*a,s=ha*n+da*r*a;_s.add(Zt(Rt(u*u+l*l),s)),ws=t,ha=n,da=r}function G0(t){return _s=new Nt,ge(t,pr),+_s}var xs=[null,null],lx={type:"LineString",coordinates:xs};function Ya(t,e){return xs[0]=t,xs[1]=e,G0(lx)}var Mf={Feature:function(t,e){return Ua(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ua(n[r].geometry,e))return!0;return!1}},Tf={Sphere:function(){return!0},Point:function(t,e){return Sf(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Sf(n[r],e))return!0;return!1},LineString:function(t,e){return Af(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Af(n[r],e))return!0;return!1},Polygon:function(t,e){return $f(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($f(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ua(n[r],e))return!0;return!1}};function Ua(t,e){return t&&Tf.hasOwnProperty(t.type)?Tf[t.type](t,e):!1}function Sf(t,e){return Ya(t,e)===0}function Af(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=Ya(t[a],e),r===0||a>0&&(i=Ya(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<hi*i))return!0;n=r}return!1}function $f(t,e){return!!B0(t.map(cx),H0(e))}function cx(t){return t=t.map(H0),t.pop(),t}function H0(t){return[t[0]*nt,t[1]*nt]}function fx(t,e){return(t&&Mf.hasOwnProperty(t.type)?Mf[t.type]:Ua)(t,e)}function Cf(t,e,n){var r=Xe(t,e-et,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function Nf(t,e,n){var r=Xe(t,e-et,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Y0(){var t,e,n,r,i,a,o,u,l=10,s=l,c=90,h=360,f,d,m,v,p=2.5;function g(){return{type:"MultiLineString",coordinates:_()}}function _(){return Xe(Hi(r/c)*c,n,c).map(m).concat(Xe(Hi(u/h)*h,o,h).map(v)).concat(Xe(Hi(e/l)*l,t,l).filter(function(b){return ft(b%c)>et}).map(f)).concat(Xe(Hi(a/s)*s,i,s).filter(function(b){return ft(b%h)>et}).map(d))}return g.lines=function(){return _().map(function(b){return{type:"LineString",coordinates:b}})},g.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(v(o).slice(1),m(n).reverse().slice(1),v(u).reverse().slice(1))]}},g.extent=function(b){return arguments.length?g.extentMajor(b).extentMinor(b):g.extentMinor()},g.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],u=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),u>o&&(b=u,u=o,o=b),g.precision(p)):[[r,u],[n,o]]},g.extentMinor=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],a=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),a>i&&(b=a,a=i,i=b),g.precision(p)):[[e,a],[t,i]]},g.step=function(b){return arguments.length?g.stepMajor(b).stepMinor(b):g.stepMinor()},g.stepMajor=function(b){return arguments.length?(c=+b[0],h=+b[1],g):[c,h]},g.stepMinor=function(b){return arguments.length?(l=+b[0],s=+b[1],g):[l,s]},g.precision=function(b){return arguments.length?(p=+b,f=Cf(a,i,90),d=Nf(e,t,p),m=Cf(u,o,90),v=Nf(r,n,p),g):p},g.extentMajor([[-180,-90+et],[180,90-et]]).extentMinor([[-180,-80-et],[180,80+et]])}function hx(){return Y0()()}function dx(t,e){var n=t[0]*nt,r=t[1]*nt,i=e[0]*nt,a=e[1]*nt,o=Q(r),u=Z(r),l=Q(a),s=Z(a),c=o*Q(n),h=o*Z(n),f=l*Q(i),d=l*Z(i),m=2*Kt(Rt(lf(a-r)+o*l*lf(i-n))),v=Z(m),p=m?function(g){var _=Z(g*=m)/v,b=Z(m-g)/v,y=b*c+_*f,w=b*h+_*d,x=b*u+_*s;return[Zt(w,y)*mt,Zt(x,Rt(y*y+w*w))*mt]}:function(){return[n*mt,r*mt]};return p.distance=m,p}const di=t=>t;var xu=new Nt,Ms=new Nt,U0,q0,Ts,Ss,ze={point:_t,lineStart:_t,lineEnd:_t,polygonStart:function(){ze.lineStart=px,ze.lineEnd=mx},polygonEnd:function(){ze.lineStart=ze.lineEnd=ze.point=_t,xu.add(ft(Ms)),Ms=new Nt},result:function(){var t=xu/2;return xu=new Nt,t}};function px(){ze.point=gx}function gx(t,e){ze.point=W0,U0=Ts=t,q0=Ss=e}function W0(t,e){Ms.add(Ss*t-Ts*e),Ts=t,Ss=e}function mx(){W0(U0,q0)}var gr=1/0,qa=gr,pi=-gr,Wa=pi,Xa={point:vx,lineStart:_t,lineEnd:_t,polygonStart:_t,polygonEnd:_t,result:function(){var t=[[gr,qa],[pi,Wa]];return pi=Wa=-(qa=gr=1/0),t}};function vx(t,e){t<gr&&(gr=t),t>pi&&(pi=t),e<qa&&(qa=e),e>Wa&&(Wa=e)}var As=0,$s=0,Fr=0,Ja=0,Za=0,Kn=0,Cs=0,Ns=0,Vr=0,X0,J0,_e,we,ce={point:Sn,lineStart:kf,lineEnd:Pf,polygonStart:function(){ce.lineStart=_x,ce.lineEnd=wx},polygonEnd:function(){ce.point=Sn,ce.lineStart=kf,ce.lineEnd=Pf},result:function(){var t=Vr?[Cs/Vr,Ns/Vr]:Kn?[Ja/Kn,Za/Kn]:Fr?[As/Fr,$s/Fr]:[NaN,NaN];return As=$s=Fr=Ja=Za=Kn=Cs=Ns=Vr=0,t}};function Sn(t,e){As+=t,$s+=e,++Fr}function kf(){ce.point=yx}function yx(t,e){ce.point=bx,Sn(_e=t,we=e)}function bx(t,e){var n=t-_e,r=e-we,i=Rt(n*n+r*r);Ja+=i*(_e+t)/2,Za+=i*(we+e)/2,Kn+=i,Sn(_e=t,we=e)}function Pf(){ce.point=Sn}function _x(){ce.point=xx}function wx(){Z0(X0,J0)}function xx(t,e){ce.point=Z0,Sn(X0=_e=t,J0=we=e)}function Z0(t,e){var n=t-_e,r=e-we,i=Rt(n*n+r*r);Ja+=i*(_e+t)/2,Za+=i*(we+e)/2,Kn+=i,i=we*t-_e*e,Cs+=i*(_e+t),Ns+=i*(we+e),Vr+=i*3,Sn(_e=t,we=e)}function K0(t){this._context=t}K0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Jt);break}}},result:_t};var ks=new Nt,Mu,Q0,t1,Gr,Hr,gi={point:_t,lineStart:function(){gi.point=Mx},lineEnd:function(){Mu&&e1(Q0,t1),gi.point=_t},polygonStart:function(){Mu=!0},polygonEnd:function(){Mu=null},result:function(){var t=+ks;return ks=new Nt,t}};function Mx(t,e){gi.point=e1,Q0=Gr=t,t1=Hr=e}function e1(t,e){Gr-=t,Hr-=e,ks.add(Rt(Gr*Gr+Hr*Hr)),Gr=t,Hr=e}let Ef,Ka,Rf,jf;class Of{constructor(e){this._append=e==null?n1:Tx(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Rf||this._append!==Ka){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Rf=r,Ka=this._append,jf=this._,this._=i}this._+=jf;break}}}result(){const e=this._;return this._="",e.length?e:null}}function n1(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Tx(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return n1;if(e!==Ef){const n=10**e;Ef=e,Ka=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Ka}function Sx(t,e){let n=3,r=4.5,i,a;function o(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),ge(u,i(a))),a.result()}return o.area=function(u){return ge(u,i(ze)),ze.result()},o.measure=function(u){return ge(u,i(gi)),gi.result()},o.bounds=function(u){return ge(u,i(Xa)),Xa.result()},o.centroid=function(u){return ge(u,i(ce)),ce.result()},o.projection=function(u){return arguments.length?(i=u==null?(t=null,di):(t=u).stream,o):t},o.context=function(u){return arguments.length?(a=u==null?(e=null,new Of(n)):new K0(e=u),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),o):r},o.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const l=Math.floor(u);if(!(l>=0))throw new RangeError(`invalid digits: ${u}`);n=l}return e===null&&(a=new Of(n)),o},o.projection(t).digits(n).context(e)}function Ax(t){return{stream:$i(t)}}function $i(t){return function(e){var n=new Ps;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ps(){}Ps.prototype={constructor:Ps,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function yl(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ge(n,t.stream(Xa)),e(Xa.result()),r!=null&&t.clipExtent(r),t}function ko(t,e,n){return yl(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([u,l])},n)}function bl(t,e,n){return ko(t,[[0,0],e],n)}function _l(t,e,n){return yl(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];t.scale(150*a).translate([o,u])},n)}function wl(t,e,n){return yl(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,u])},n)}var If=16,$x=Q(30*nt);function Lf(t,e){return+e?Nx(t,e):Cx(t)}function Cx(t){return $i({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Nx(t,e){function n(r,i,a,o,u,l,s,c,h,f,d,m,v,p){var g=s-r,_=c-i,b=g*g+_*_;if(b>4*e&&v--){var y=o+f,w=u+d,x=l+m,A=Rt(y*y+w*w+x*x),$=Kt(x/=A),N=ft(ft(x)-1)<et||ft(a-h)<et?(a+h)/2:Zt(w,y),k=t(N,$),P=k[0],L=k[1],T=P-r,M=L-i,S=_*T-g*M;(S*S/b>e||ft((g*T+_*M)/b-.5)>.3||o*f+u*d+l*m<$x)&&(n(r,i,a,o,u,l,P,L,N,y/=A,w/=A,x,v,p),p.point(P,L),n(P,L,N,y,w,x,s,c,h,f,d,m,v,p))}}return function(r){var i,a,o,u,l,s,c,h,f,d,m,v,p={point:g,lineStart:_,lineEnd:y,polygonStart:function(){r.polygonStart(),p.lineStart=w},polygonEnd:function(){r.polygonEnd(),p.lineStart=_}};function g($,N){$=t($,N),r.point($[0],$[1])}function _(){h=NaN,p.point=b,r.lineStart()}function b($,N){var k=Tn([$,N]),P=t($,N);n(h,f,c,d,m,v,h=P[0],f=P[1],c=$,d=k[0],m=k[1],v=k[2],If,r),r.point(h,f)}function y(){p.point=g,r.lineEnd()}function w(){_(),p.point=x,p.lineEnd=A}function x($,N){b(i=$,N),a=h,o=f,u=d,l=m,s=v,p.point=b}function A(){n(h,f,c,d,m,v,a,o,i,u,l,s,If,r),p.lineEnd=y,y()}return p}}var kx=$i({point:function(t,e){this.stream.point(t*nt,e*nt)}});function Px(t){return $i({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Ex(t,e,n,r,i){function a(o,u){return o*=r,u*=i,[e+t*o,n-t*u]}return a.invert=function(o,u){return[(o-e)/t*r,(n-u)/t*i]},a}function zf(t,e,n,r,i,a){if(!a)return Ex(t,e,n,r,i);var o=Q(a),u=Z(a),l=o*t,s=u*t,c=o/t,h=u/t,f=(u*n-o*e)/t,d=(u*e+o*n)/t;function m(v,p){return v*=r,p*=i,[l*v-s*p+e,n-s*v-l*p]}return m.invert=function(v,p){return[r*(c*v-h*p+f),i*(d-h*v-c*p)]},m}function ke(t){return xl(function(){return t})()}function xl(t){var e,n=150,r=480,i=250,a=0,o=0,u=0,l=0,s=0,c,h=0,f=1,d=1,m=null,v=bs,p=null,g,_,b,y=di,w=.5,x,A,$,N,k;function P(S){return $(S[0]*nt,S[1]*nt)}function L(S){return S=$.invert(S[0],S[1]),S&&[S[0]*mt,S[1]*mt]}P.stream=function(S){return N&&k===S?N:N=kx(Px(c)(v(x(y(k=S)))))},P.preclip=function(S){return arguments.length?(v=S,m=void 0,M()):v},P.postclip=function(S){return arguments.length?(y=S,p=g=_=b=null,M()):y},P.clipAngle=function(S){return arguments.length?(v=+S?V0(m=S*nt):(m=null,bs),M()):m*mt},P.clipExtent=function(S){return arguments.length?(y=S==null?(p=g=_=b=null,di):No(p=+S[0][0],g=+S[0][1],_=+S[1][0],b=+S[1][1]),M()):p==null?null:[[p,g],[_,b]]},P.scale=function(S){return arguments.length?(n=+S,T()):n},P.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],T()):[r,i]},P.center=function(S){return arguments.length?(a=S[0]%360*nt,o=S[1]%360*nt,T()):[a*mt,o*mt]},P.rotate=function(S){return arguments.length?(u=S[0]%360*nt,l=S[1]%360*nt,s=S.length>2?S[2]%360*nt:0,T()):[u*mt,l*mt,s*mt]},P.angle=function(S){return arguments.length?(h=S%360*nt,T()):h*mt},P.reflectX=function(S){return arguments.length?(f=S?-1:1,T()):f<0},P.reflectY=function(S){return arguments.length?(d=S?-1:1,T()):d<0},P.precision=function(S){return arguments.length?(x=Lf(A,w=S*S),M()):Rt(w)},P.fitExtent=function(S,C){return ko(P,S,C)},P.fitSize=function(S,C){return bl(P,S,C)},P.fitWidth=function(S,C){return _l(P,S,C)},P.fitHeight=function(S,C){return wl(P,S,C)};function T(){var S=zf(n,0,0,f,d,h).apply(null,e(a,o)),C=zf(n,r-S[0],i-S[1],f,d,h);return c=vl(u,l,s),A=vs(e,C),$=vs(c,A),x=Lf(A,w),M()}function M(){return N=k=null,P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&L,T()}}function Ml(t){var e=0,n=ct/3,r=xl(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*nt,n=a[1]*nt):[e*mt,n*mt]},i}function Rx(t){var e=Q(t);function n(r,i){return[r*e,Z(i)/e]}return n.invert=function(r,i){return[r/e,Kt(i*e)]},n}function r1(t,e){var n=Z(t),r=(n+Z(e))/2;if(ft(r)<et)return Rx(t);var i=1+n*(2*r-n),a=Rt(i)/r;function o(u,l){var s=Rt(i-2*r*Z(l))/r;return[s*Z(u*=r),a-s*Q(u)]}return o.invert=function(u,l){var s=a-l,c=Zt(u,ft(s))*fe(s);return s*r<0&&(c-=ct*fe(u)*fe(s)),[c/r,Kt((i-(u*u+s*s)*r*r)/(2*r))]},o}function Qa(){return Ml(r1).scale(155.424).center([0,33.6442])}function i1(){return Qa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jx(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ox(){var t,e,n=i1(),r,i=Qa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Qa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,l,s={point:function(f,d){l=[f,d]}};function c(f){var d=f[0],m=f[1];return l=null,r.point(d,m),l||(a.point(d,m),l)||(u.point(d,m),l)}c.invert=function(f){var d=n.scale(),m=n.translate(),v=(f[0]-m[0])/d,p=(f[1]-m[1])/d;return(p>=.12&&p<.234&&v>=-.425&&v<-.214?i:p>=.166&&p<.234&&v>=-.214&&v<-.115?o:n).invert(f)},c.stream=function(f){return t&&e===f?t:t=jx([n.stream(e=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),h()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),m=+f[0],v=+f[1];return r=n.translate(f).clipExtent([[m-.455*d,v-.238*d],[m+.455*d,v+.238*d]]).stream(s),a=i.translate([m-.307*d,v+.201*d]).clipExtent([[m-.425*d+et,v+.12*d+et],[m-.214*d-et,v+.234*d-et]]).stream(s),u=o.translate([m-.205*d,v+.212*d]).clipExtent([[m-.214*d+et,v+.166*d+et],[m-.115*d-et,v+.234*d-et]]).stream(s),h()},c.fitExtent=function(f,d){return ko(c,f,d)},c.fitSize=function(f,d){return bl(c,f,d)},c.fitWidth=function(f,d){return _l(c,f,d)},c.fitHeight=function(f,d){return wl(c,f,d)};function h(){return t=e=null,c}return c.scale(1070)}function a1(t){return function(e,n){var r=Q(e),i=Q(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Z(e),a*Z(n)]}}function Ci(t){return function(e,n){var r=Rt(e*e+n*n),i=t(r),a=Z(i),o=Q(i);return[Zt(e*a,r*o),Kt(r&&n*a/r)]}}var Tl=a1(function(t){return Rt(2/(1+t))});Tl.invert=Ci(function(t){return 2*Kt(t/2)});function Ix(){return ke(Tl).scale(124.75).clipAngle(180-.001)}var Sl=a1(function(t){return(t=S0(t))&&t/Z(t)});Sl.invert=Ci(function(t){return t});function Lx(){return ke(Sl).scale(79.4188).clipAngle(180-.001)}function Ni(t,e){return[t,Ea(gl((Mt+e)/2))]}Ni.invert=function(t,e){return[t,2*Tr(T0(e))-Mt]};function zx(){return o1(Ni).scale(961/Jt)}function o1(t){var e=ke(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,u,l,s;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?o=u=l=s=null:(o=+h[0][0],u=+h[0][1],l=+h[1][0],s=+h[1][1]),c()):o==null?null:[[o,u],[l,s]]};function c(){var h=ct*r(),f=e(I0(e.rotate()).invert([0,0]));return a(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Ni?[[Math.max(f[0]-h,o),u],[Math.min(f[0]+h,l),s]]:[[o,Math.max(f[1]-h,u)],[l,Math.min(f[1]+h,s)]])}return c()}function Xi(t){return gl((Mt+t)/2)}function u1(t,e){var n=Q(t),r=t===e?Z(t):Ea(n/Q(e))/Ea(Xi(e)/Xi(t)),i=n*bu(Xi(t),r)/r;if(!r)return Ni;function a(o,u){i>0?u<-Mt+et&&(u=-Mt+et):u>Mt-et&&(u=Mt-et);var l=i/bu(Xi(u),r);return[l*Z(r*o),i-l*Q(r*o)]}return a.invert=function(o,u){var l=i-u,s=fe(r)*Rt(o*o+l*l),c=Zt(o,ft(l))*fe(l);return l*r<0&&(c-=ct*fe(o)*fe(l)),[c/r,2*Tr(bu(i/s,1/r))-Mt]},a}function Dx(){return Ml(u1).scale(109.5).parallels([30,30])}function mi(t,e){return[t,e]}mi.invert=mi;function Bx(){return ke(mi).scale(152.63)}function s1(t,e){var n=Q(t),r=t===e?Z(t):(n-Q(e))/(e-t),i=n/r+t;if(ft(r)<et)return mi;function a(o,u){var l=i-u,s=r*o;return[l*Z(s),i-l*Q(s)]}return a.invert=function(o,u){var l=i-u,s=Zt(o,ft(l))*fe(l);return l*r<0&&(s-=ct*fe(o)*fe(l)),[s/r,i-fe(r)*Rt(o*o+l*l)]},a}function Fx(){return Ml(s1).scale(131.154).center([0,13.9389])}var Jr=1.340264,Zr=-.081106,Kr=893e-6,Qr=.003796,to=Rt(3)/2,Vx=12;function Al(t,e){var n=Kt(to*Z(e)),r=n*n,i=r*r*r;return[t*Q(n)/(to*(Jr+3*Zr*r+i*(7*Kr+9*Qr*r))),n*(Jr+Zr*r+i*(Kr+Qr*r))]}Al.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,u,l;a<Vx&&(u=n*(Jr+Zr*r+i*(Kr+Qr*r))-e,l=Jr+3*Zr*r+i*(7*Kr+9*Qr*r),n-=o=u/l,r=n*n,i=r*r*r,!(ft(o)<hi));++a);return[to*t*(Jr+3*Zr*r+i*(7*Kr+9*Qr*r))/Q(n),Kt(Z(n)/to)]};function Gx(){return ke(Al).scale(177.158)}function $l(t,e){var n=Q(e),r=Q(t)*n;return[n*Z(t)/r,Z(e)/r]}$l.invert=Ci(Tr);function Hx(){return ke($l).scale(144.049).clipAngle(60)}function Yx(){var t=1,e=0,n=0,r=1,i=1,a=0,o,u,l=null,s,c,h,f=1,d=1,m=$i({point:function(y,w){var x=b([y,w]);this.stream.point(x[0],x[1])}}),v=di,p,g;function _(){return f=t*r,d=t*i,p=g=null,b}function b(y){var w=y[0]*f,x=y[1]*d;if(a){var A=x*o-w*u;w=w*o+x*u,x=A}return[w+e,x+n]}return b.invert=function(y){var w=y[0]-e,x=y[1]-n;if(a){var A=x*o+w*u;w=w*o-x*u,x=A}return[w/f,x/d]},b.stream=function(y){return p&&g===y?p:p=m(v(g=y))},b.postclip=function(y){return arguments.length?(v=y,l=s=c=h=null,_()):v},b.clipExtent=function(y){return arguments.length?(v=y==null?(l=s=c=h=null,di):No(l=+y[0][0],s=+y[0][1],c=+y[1][0],h=+y[1][1]),_()):l==null?null:[[l,s],[c,h]]},b.scale=function(y){return arguments.length?(t=+y,_()):t},b.translate=function(y){return arguments.length?(e=+y[0],n=+y[1],_()):[e,n]},b.angle=function(y){return arguments.length?(a=y%360*nt,u=Z(a),o=Q(a),_()):a*mt},b.reflectX=function(y){return arguments.length?(r=y?-1:1,_()):r<0},b.reflectY=function(y){return arguments.length?(i=y?-1:1,_()):i<0},b.fitExtent=function(y,w){return ko(b,y,w)},b.fitSize=function(y,w){return bl(b,y,w)},b.fitWidth=function(y,w){return _l(b,y,w)},b.fitHeight=function(y,w){return wl(b,y,w)},b}function Cl(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Cl.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(ft(i)>et&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Ux(){return ke(Cl).scale(175.295)}function Nl(t,e){return[Q(e)*Z(t),Z(e)]}Nl.invert=Ci(Kt);function qx(){return ke(Nl).scale(249.5).clipAngle(90+et)}function kl(t,e){var n=Q(e),r=1+Q(t)*n;return[n*Z(t)/r,Z(e)/r]}kl.invert=Ci(function(t){return 2*Tr(t)});function Wx(){return ke(kl).scale(250).clipAngle(142)}function Pl(t,e){return[Ea(gl((Mt+e)/2)),-t]}Pl.invert=function(t,e){return[-e,2*Tr(T0(t))-Mt]};function Xx(){var t=o1(Pl),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Jx(t,e){return t.parent===e.parent?1:2}function Zx(t){return t.reduce(Kx,0)/t.length}function Kx(t,e){return t+e.x}function Qx(t){return 1+t.reduce(t6,0)}function t6(t,e){return Math.max(t,e.y)}function e6(t){for(var e;e=t.children;)t=e[0];return t}function n6(t){for(var e;e=t.children;)t=e[e.length-1];return t}function r6(){var t=Jx,e=1,n=1,r=!1;function i(a){var o,u=0;a.eachAfter(function(f){var d=f.children;d?(f.x=Zx(d),f.y=Qx(d)):(f.x=o?u+=t(f,o):0,f.y=0,o=f)});var l=e6(a),s=n6(a),c=l.x-t(l,s)/2,h=s.x+t(s,l)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*e,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function i6(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function a6(){return this.eachAfter(i6)}function o6(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function u6(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function s6(t,e){for(var n=this,r=[n],i=[],a,o,u,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,u=a.length;o<u;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function l6(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function c6(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function f6(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function h6(t){for(var e=this,n=d6(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function d6(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function p6(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function g6(){return Array.from(this)}function m6(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function v6(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*y6(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function El(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=w6)):e===void 0&&(e=_6);for(var n=new An(t),r,i=[n],a,o,u,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,u=l-1;u>=0;--u)i.push(a=o[u]=new An(o[u])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(l1)}function b6(){return El(this).eachBefore(x6)}function _6(t){return t.children}function w6(t){return Array.isArray(t)?t[1]:null}function x6(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function l1(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function An(t){this.data=t,this.depth=this.height=0,this.parent=null}An.prototype=El.prototype={constructor:An,count:a6,each:o6,eachAfter:s6,eachBefore:u6,find:l6,sum:c6,sort:f6,path:h6,ancestors:p6,descendants:g6,leaves:m6,links:v6,copy:b6,[Symbol.iterator]:y6};function pa(t){return t==null?null:c1(t)}function c1(t){if(typeof t!="function")throw new Error;return t}function hn(){return 0}function Jn(t){return function(){return t}}const M6=1664525,T6=1013904223,Df=4294967296;function Rl(){let t=1;return()=>(t=(M6*t+T6)%Df)/Df}function S6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function A6(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function $6(t){return f1(t,Rl())}function f1(t,e){for(var n=0,r=(t=A6(Array.from(t),e)).length,i=[],a,o;n<r;)a=t[n],o&&h1(o,a)?++n:(o=N6(i=C6(i,a)),n=0);return o}function C6(t,e){var n,r;if(Tu(e,t))return[e];for(n=0;n<t.length;++n)if(Ji(e,t[n])&&Tu(Yr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ji(Yr(t[n],t[r]),e)&&Ji(Yr(t[n],e),t[r])&&Ji(Yr(t[r],e),t[n])&&Tu(d1(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ji(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function h1(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Tu(t,e){for(var n=0;n<e.length;++n)if(!h1(t,e[n]))return!1;return!0}function N6(t){switch(t.length){case 1:return k6(t[0]);case 2:return Yr(t[0],t[1]);case 3:return d1(t[0],t[1],t[2])}}function k6(t){return{x:t.x,y:t.y,r:t.r}}function Yr(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,u=e.r,l=a-n,s=o-r,c=u-i,h=Math.sqrt(l*l+s*s);return{x:(n+a+l/h*c)/2,y:(r+o+s/h*c)/2,r:(h+i+u)/2}}function d1(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,u=e.y,l=e.r,s=n.x,c=n.y,h=n.r,f=r-o,d=r-s,m=i-u,v=i-c,p=l-a,g=h-a,_=r*r+i*i-a*a,b=_-o*o-u*u+l*l,y=_-s*s-c*c+h*h,w=d*m-f*v,x=(m*y-v*b)/(w*2)-r,A=(v*p-m*g)/w,$=(d*b-f*y)/(w*2)-i,N=(f*g-d*p)/w,k=A*A+N*N-1,P=2*(a+x*A+$*N),L=x*x+$*$-a*a,T=-(Math.abs(k)>1e-6?(P+Math.sqrt(P*P-4*k*L))/(2*k):L/P);return{x:r+x+A*T,y:i+$+N*T,r:T}}function Bf(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,u,l,s=r*r+o*o;s?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(i=(s+l-a)/(2*s),u=Math.sqrt(Math.max(0,l/s-i*i)),n.x=t.x-i*r-u*o,n.y=t.y-i*o+u*r):(i=(s+a-l)/(2*s),u=Math.sqrt(Math.max(0,a/s-i*i)),n.x=e.x+i*r-u*o,n.y=e.y+i*o+u*r)):(n.x=e.x+n.r,n.y=e.y)}function Ff(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Vf(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Zi(t){this._=t,this.next=null,this.previous=null}function p1(t,e){if(!(a=(t=S6(t)).length))return 0;var n,r,i,a,o,u,l,s,c,h,f;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;Bf(r,n,i=t[2]),n=new Zi(n),r=new Zi(r),i=new Zi(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<a;++l){Bf(n._,r._,i=t[l]),i=new Zi(i),s=r.next,c=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(Ff(s._,i._)){r=s,n.next=r,r.previous=n,--l;continue t}h+=s._.r,s=s.next}else{if(Ff(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue t}f+=c._.r,c=c.previous}while(s!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=Vf(n);(i=i.next)!==r;)(u=Vf(i))<o&&(n=i,o=u);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=f1(n,e),l=0;l<a;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function P6(t){return p1(t,Rl()),t}function E6(t){return Math.sqrt(t.value)}function R6(){var t=null,e=1,n=1,r=hn;function i(a){const o=Rl();return a.x=e/2,a.y=n/2,t?a.eachBefore(Gf(t)).eachAfter(Su(r,.5,o)).eachBefore(Hf(1)):a.eachBefore(Gf(E6)).eachAfter(Su(hn,1,o)).eachAfter(Su(r,a.r/Math.min(e,n),o)).eachBefore(Hf(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=pa(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Jn(+a),i):r},i}function Gf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Su(t,e,n){return function(r){if(i=r.children){var i,a,o=i.length,u=t(r)*e||0,l;if(u)for(a=0;a<o;++a)i[a].r+=u;if(l=p1(i,n),u)for(a=0;a<o;++a)i[a].r-=u;r.r=l+u}}}function Hf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function g1(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ki(t,e,n,r,i){for(var a=t.children,o,u=-1,l=a.length,s=t.value&&(r-e)/t.value;++u<l;)o=a[u],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*s}function j6(){var t=1,e=1,n=0,r=!1;function i(o){var u=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/u,o.eachBefore(a(e,u)),r&&o.eachBefore(g1),o}function a(o,u){return function(l){l.children&&ki(l,l.x0,o*(l.depth+1)/u,l.x1,o*(l.depth+2)/u);var s=l.x0,c=l.y0,h=l.x1-n,f=l.y1-n;h<s&&(s=h=(s+h)/2),f<c&&(c=f=(c+f)/2),l.x0=s,l.y0=c,l.x1=h,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var O6={depth:-1},Yf={},Au={};function I6(t){return t.id}function L6(t){return t.parentId}function z6(){var t=I6,e=L6,n;function r(i){var a=Array.from(i),o=t,u=e,l,s,c,h,f,d,m,v,p=new Map;if(n!=null){const g=a.map((y,w)=>D6(n(y,w,i))),_=g.map(Uf),b=new Set(g).add("");for(const y of _)b.has(y)||(b.add(y),g.push(y),_.push(Uf(y)),a.push(Au));o=(y,w)=>g[w],u=(y,w)=>_[w]}for(c=0,l=a.length;c<l;++c)s=a[c],d=a[c]=new An(s),(m=o(s,c,i))!=null&&(m+="")&&(v=d.id=m,p.set(v,p.has(v)?Yf:d)),(m=u(s,c,i))!=null&&(m+="")&&(d.parent=m);for(c=0;c<l;++c)if(d=a[c],m=d.parent){if(f=p.get(m),!f)throw new Error("missing: "+m);if(f===Yf)throw new Error("ambiguous: "+m);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===Au&&h.children.length===1;)h=h.children[0],--l;for(let g=a.length-1;g>=0&&(d=a[g],d.data===Au);--g)d.data=null}if(h.parent=O6,h.eachBefore(function(g){g.depth=g.parent.depth+1,--l}).eachBefore(l1),h.parent=null,l>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=pa(i),r):t},r.parentId=function(i){return arguments.length?(e=pa(i),r):e},r.path=function(i){return arguments.length?(n=pa(i),r):n},r}function D6(t){t=`${t}`;let e=t.length;return Es(t,e-1)&&!Es(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Uf(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Es(t,e););return t.slice(0,e)}function Es(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function B6(t,e){return t.parent===e.parent?1:2}function $u(t){var e=t.children;return e?e[0]:t.t}function Cu(t){var e=t.children;return e?e[e.length-1]:t.t}function F6(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function V6(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function G6(t,e,n){return t.a.parent===e.parent?t.a:n}function ga(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}ga.prototype=Object.create(An.prototype);function H6(t){for(var e=new ga(t,0),n,r=[e],i,a,o,u;n=r.pop();)if(a=n._.children)for(n.children=new Array(u=a.length),o=u-1;o>=0;--o)r.push(i=n.children[o]=new ga(a[o],o)),i.parent=n;return(e.parent=new ga(null,0)).children=[e],e}function Y6(){var t=B6,e=1,n=1,r=null;function i(s){var c=H6(s);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)s.eachBefore(l);else{var h=s,f=s,d=s;s.eachBefore(function(_){_.x<h.x&&(h=_),_.x>f.x&&(f=_),_.depth>d.depth&&(d=_)});var m=h===f?1:t(h,f)/2,v=m-h.x,p=e/(f.x+m+v),g=n/(d.depth||1);s.eachBefore(function(_){_.x=(_.x+v)*p,_.y=_.depth*g})}return s}function a(s){var c=s.children,h=s.parent.children,f=s.i?h[s.i-1]:null;if(c){V6(s);var d=(c[0].z+c[c.length-1].z)/2;f?(s.z=f.z+t(s._,f._),s.m=s.z-d):s.z=d}else f&&(s.z=f.z+t(s._,f._));s.parent.A=u(s,f,s.parent.A||h[0])}function o(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function u(s,c,h){if(c){for(var f=s,d=s,m=c,v=f.parent.children[0],p=f.m,g=d.m,_=m.m,b=v.m,y;m=Cu(m),f=$u(f),m&&f;)v=$u(v),d=Cu(d),d.a=s,y=m.z+_-f.z-p+t(m._,f._),y>0&&(F6(G6(m,s,h),s,y),p+=y,g+=y),_+=m.m,p+=f.m,b+=v.m,g+=d.m;m&&!Cu(d)&&(d.t=m,d.m+=_-g),f&&!$u(v)&&(v.t=f,v.m+=p-b,h=s)}return h}function l(s){s.x*=e,s.y=s.depth*n}return i.separation=function(s){return arguments.length?(t=s,i):t},i.size=function(s){return arguments.length?(r=!1,e=+s[0],n=+s[1],i):r?null:[e,n]},i.nodeSize=function(s){return arguments.length?(r=!0,e=+s[0],n=+s[1],i):r?[e,n]:null},i}function Po(t,e,n,r,i){for(var a=t.children,o,u=-1,l=a.length,s=t.value&&(i-n)/t.value;++u<l;)o=a[u],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*s}var m1=(1+Math.sqrt(5))/2;function v1(t,e,n,r,i,a){for(var o=[],u=e.children,l,s,c=0,h=0,f=u.length,d,m,v=e.value,p,g,_,b,y,w,x;c<f;){d=i-n,m=a-r;do p=u[h++].value;while(!p&&h<f);for(g=_=p,w=Math.max(m/d,d/m)/(v*t),x=p*p*w,y=Math.max(_/x,x/g);h<f;++h){if(p+=s=u[h].value,s<g&&(g=s),s>_&&(_=s),x=p*p*w,b=Math.max(_/x,x/g),b>y){p-=s;break}y=b}o.push(l={value:p,dice:d<m,children:u.slice(c,h)}),l.dice?ki(l,n,r,i,v?r+=m*p/v:a):Po(l,n,r,v?n+=d*p/v:i,a),v-=p,c=h}return o}const y1=function t(e){function n(r,i,a,o,u){v1(e,r,i,a,o,u)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(m1);function U6(){var t=y1,e=!1,n=1,r=1,i=[0],a=hn,o=hn,u=hn,l=hn,s=hn;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(g1),f}function h(f){var d=i[f.depth],m=f.x0+d,v=f.y0+d,p=f.x1-d,g=f.y1-d;p<m&&(m=p=(m+p)/2),g<v&&(v=g=(v+g)/2),f.x0=m,f.y0=v,f.x1=p,f.y1=g,f.children&&(d=i[f.depth+1]=a(f)/2,m+=s(f)-d,v+=o(f)-d,p-=u(f)-d,g-=l(f)-d,p<m&&(m=p=(m+p)/2),g<v&&(v=g=(v+g)/2),t(f,m,v,p,g))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=c1(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Jn(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Jn(+f),c):o},c.paddingRight=function(f){return arguments.length?(u=typeof f=="function"?f:Jn(+f),c):u},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Jn(+f),c):l},c.paddingLeft=function(f){return arguments.length?(s=typeof f=="function"?f:Jn(+f),c):s},c}function q6(t,e,n,r,i){var a=t.children,o,u=a.length,l,s=new Array(u+1);for(s[0]=l=o=0;o<u;++o)s[o+1]=l+=a[o].value;c(0,u,t.value,e,n,r,i);function c(h,f,d,m,v,p,g){if(h>=f-1){var _=a[h];_.x0=m,_.y0=v,_.x1=p,_.y1=g;return}for(var b=s[h],y=d/2+b,w=h+1,x=f-1;w<x;){var A=w+x>>>1;s[A]<y?w=A+1:x=A}y-s[w-1]<s[w]-y&&h+1<w&&--w;var $=s[w]-b,N=d-$;if(p-m>g-v){var k=d?(m*N+p*$)/d:p;c(h,w,$,m,v,k,g),c(w,f,N,k,v,p,g)}else{var P=d?(v*N+g*$)/d:g;c(h,w,$,m,v,p,P),c(w,f,N,m,P,p,g)}}}function W6(t,e,n,r,i){(t.depth&1?Po:ki)(t,e,n,r,i)}const X6=function t(e){function n(r,i,a,o,u){if((l=r._squarify)&&l.ratio===e)for(var l,s,c,h,f=-1,d,m=l.length,v=r.value;++f<m;){for(s=l[f],c=s.children,h=s.value=0,d=c.length;h<d;++h)s.value+=c[h].value;s.dice?ki(s,i,a,o,v?a+=(u-a)*s.value/v:u):Po(s,i,a,v?i+=(o-i)*s.value/v:o,u),v-=s.value}else r._squarify=l=v1(e,r,i,a,o,u),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(m1);function J6(t){for(var e=-1,n=t.length,r,i=t[n-1],a=0;++e<n;)r=i,i=t[e],a+=r[1]*i[0]-r[0]*i[1];return a/2}function Z6(t){for(var e=-1,n=t.length,r=0,i=0,a,o=t[n-1],u,l=0;++e<n;)a=o,o=t[e],l+=u=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*u,i+=(a[1]+o[1])*u;return l*=3,[r/l,i/l]}function K6(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Q6(t,e){return t[0]-e[0]||t[1]-e[1]}function qf(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&K6(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function t4(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Q6),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=qf(r),o=qf(i),u=o[0]===a[0],l=o[o.length-1]===a[a.length-1],s=[];for(e=a.length-1;e>=0;--e)s.push(t[r[a[e]][2]]);for(e=+u;e<o.length-l;++e)s.push(t[r[o[e]][2]]);return s}function e4(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],u=r[1],l,s,c=!1,h=0;h<n;++h)r=t[h],l=r[0],s=r[1],s>a!=u>a&&i<(o-l)*(a-s)/(u-s)+l&&(c=!c),o=l,u=s;return c}function n4(t){for(var e=-1,n=t.length,r=t[n-1],i,a,o=r[0],u=r[1],l=0;++e<n;)i=o,a=u,r=t[e],o=r[0],u=r[1],i-=o,a-=u,l+=Math.hypot(i,a);return l}const Ot=Math.random,r4=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Ot),i4=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(Ot),jl=function t(e){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var u;if(a!=null)u=a,a=null;else do a=e()*2-1,u=e()*2-1,o=a*a+u*u;while(!o||o>1);return r+i*u*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(Ot),a4=function t(e){var n=jl.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(Ot),b1=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=e();return i+a*e()}}return n.source=t,n}(Ot),o4=function t(e){var n=b1.source(e);function r(i){if((i=+i)==0)return e;var a=n(i);return function(){return a()/i}}return r.source=t,r}(Ot),u4=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(Ot),s4=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(Ot),l4=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(Ot),_1=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(Ot),Ol=function t(e){var n=jl.source(e)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-e())*a;var o=(i<1?i+1:i)-1/3,u=1/(3*Math.sqrt(o)),l=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var s=n(),c=1+u*s;while(c<=0);c*=c*c;var h=1-e()}while(h>=1-.0331*s*s*s*s&&Math.log(h)>=.5*s*s+o*(1-c+Math.log(c)));return o*c*l()*a}}return r.source=t,r}(Ot),w1=function t(e){var n=Ol.source(e);function r(i,a){var o=n(i),u=n(a);return function(){var l=o();return l===0?0:l/(l+u())}}return r.source=t,r}(Ot),x1=function t(e){var n=_1.source(e),r=w1.source(e);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var u=0,l=a,s=o;l*s>16&&l*(1-s)>16;){var c=Math.floor((l+1)*s),h=r(c,l-c+1)();h<=s?(u+=c,l-=c,s=(s-h)/(1-h)):(l=c-1,s/=h)}for(var f=s<.5,d=f?s:1-s,m=n(d),v=m(),p=0;v<=l;++p)v+=m();return u+(f?p:l-p)}}return i.source=t,i}(Ot),c4=function t(e){function n(r,i,a){var o;return(r=+r)==0?o=u=>-Math.log(u):(r=1/r,o=u=>Math.pow(u,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-e()))}}return n.source=t,n}(Ot),f4=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(Ot),h4=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=e();return r+i*Math.log(a/(1-a))}}return n.source=t,n}(Ot),d4=function t(e){var n=Ol.source(e),r=x1.source(e);function i(a){return function(){for(var o=0,u=a;u>16;){var l=Math.floor(.875*u),s=n(l)();if(s>u)return o+r(l-1,u/s)();o+=l,u-=s}for(var c=-Math.log1p(-e()),h=0;c<=u;++h)c-=Math.log1p(-e());return o+h}}return i.source=t,i}(Ot),p4=1664525,g4=1013904223,Wf=1/4294967296;function m4(t=Math.random()){let e=(0<=t&&t<1?t/Wf:Math.abs(t))|0;return()=>(e=p4*e+g4|0,Wf*(e>>>0))}function de(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ue(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Rs=Symbol("implicit");function Il(){var t=new ei,e=[],n=[],r=Rs;function i(a){let o=t.get(a);if(o===void 0){if(r!==Rs)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new ei;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Il(e,n).unknown(r)},de.apply(i,arguments),i}function Ll(){var t=Il().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,l=0,s=0,c=.5;delete t.unknown;function h(){var f=e().length,d=i<r,m=d?i:r,v=d?r:i;a=(v-m)/Math.max(1,f-l+s*2),u&&(a=Math.floor(a)),m+=(v-m-a*(f-l))*c,o=a*(1-l),u&&(m=Math.round(m),o=Math.round(o));var p=Xe(f).map(function(g){return m+a*g});return n(d?p.reverse():p)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,u=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(u=!!f,h()):u},t.padding=function(f){return arguments.length?(l=Math.min(1,s=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(s=+f,h()):s},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return Ll(e(),[r,i]).round(u).paddingInner(l).paddingOuter(s).align(c)},de.apply(h(),arguments)}function M1(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return M1(e())},t}function v4(){return M1(Ll.apply(null,arguments).paddingInner(1))}function y4(t){return function(){return t}}function eo(t){return+t}var Xf=[0,1];function Wt(t){return t}function js(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:y4(isNaN(e)?NaN:.5)}function b4(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _4(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=js(i,r),a=n(o,a)):(r=js(r,i),a=n(a,o)),function(u){return a(r(u))}}function w4(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=js(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var l=Ke(t,u,1,r)-1;return a[l](i[l](u))}}function Pi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Eo(){var t=Xf,e=Xf,n=an,r,i,a,o=Wt,u,l,s;function c(){var f=Math.min(t.length,e.length);return o!==Wt&&(o=b4(t[0],t[f-1])),u=f>2?w4:_4,l=s=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=u(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((s||(s=u(e,t.map(r),le)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,eo),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=bo,c()},h.clamp=function(f){return arguments.length?(o=f?!0:Wt,c()):o!==Wt},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function zl(){return Eo()(Wt,Wt)}function T1(t,e,n,r){var i=ba(t,e,n),a;switch(r=hr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=x0(i,o))&&(r.precision=a),pl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=M0(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=w0(i))&&(r.precision=a-(r.type==="%")*2);break}}return Co(r)}function on(t){var e=t.domain;return t.ticks=function(n){var r=e();return bn(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return T1(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],l,s,c=10;for(u<o&&(s=o,o=u,u=s,s=i,i=a,a=s);c-- >0;){if(s=_n(o,u,n),s===l)return r[i]=o,r[a]=u,e(r);if(s>0)o=Math.floor(o/s)*s,u=Math.ceil(u/s)*s;else if(s<0)o=Math.ceil(o*s)/s,u=Math.floor(u*s)/s;else break;l=s}return t},t}function S1(){var t=zl();return t.copy=function(){return Pi(t,S1())},de.apply(t,arguments),on(t)}function A1(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,eo),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return A1(t).unknown(e)},t=arguments.length?Array.from(t,eo):[0,1],on(n)}function $1(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Jf(t){return Math.log(t)}function Zf(t){return Math.exp(t)}function x4(t){return-Math.log(-t)}function M4(t){return-Math.exp(-t)}function T4(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S4(t){return t===10?T4:t===Math.E?Math.exp:e=>Math.pow(t,e)}function A4(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Kf(t){return(e,n)=>-t(-e,n)}function Dl(t){const e=t(Jf,Zf),n=e.domain;let r=10,i,a;function o(){return i=A4(r),a=S4(r),n()[0]<0?(i=Kf(i),a=Kf(a),t(x4,M4)):t(Jf,Zf),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const l=n();let s=l[0],c=l[l.length-1];const h=c<s;h&&([s,c]=[c,s]);let f=i(s),d=i(c),m,v;const p=u==null?10:+u;let g=[];if(!(r%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),s>0){for(;f<=d;++f)for(m=1;m<r;++m)if(v=f<0?m/a(-f):m*a(f),!(v<s)){if(v>c)break;g.push(v)}}else for(;f<=d;++f)for(m=r-1;m>=1;--m)if(v=f>0?m/a(-f):m*a(f),!(v<s)){if(v>c)break;g.push(v)}g.length*2<p&&(g=bn(s,c,p))}else g=bn(f,d,Math.min(d-f,p)).map(a);return h?g.reverse():g},e.tickFormat=(u,l)=>{if(u==null&&(u=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hr(l)).precision==null&&(l.trim=!0),l=Co(l)),u===1/0)return l;const s=Math.max(1,r*u/e.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=s?l(c):""}},e.nice=()=>n($1(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function C1(){const t=Dl(Eo()).domain([1,10]);return t.copy=()=>Pi(t,C1()).base(t.base()),de.apply(t,arguments),t}function Qf(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function th(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Bl(t){var e=1,n=t(Qf(e),th(e));return n.constant=function(r){return arguments.length?t(Qf(e=+r),th(e)):e},on(n)}function N1(){var t=Bl(Eo());return t.copy=function(){return Pi(t,N1()).constant(t.constant())},de.apply(t,arguments)}function eh(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $4(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C4(t){return t<0?-t*t:t*t}function Fl(t){var e=t(Wt,Wt),n=1;function r(){return n===1?t(Wt,Wt):n===.5?t($4,C4):t(eh(n),eh(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},on(e)}function Vl(){var t=Fl(Eo());return t.copy=function(){return Pi(t,Vl()).exponent(t.exponent())},de.apply(t,arguments),t}function N4(){return Vl.apply(null,arguments).exponent(.5)}function nh(t){return Math.sign(t)*t*t}function k4(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function k1(){var t=zl(),e=[0,1],n=!1,r;function i(a){var o=k4(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(nh(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,eo)).map(nh)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return k1(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},de.apply(i,arguments),on(i)}function P1(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=ad(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Ke(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(wt),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return P1().domain(t).range(e).unknown(r)},de.apply(a,arguments)}function E1(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Ke(r,l,0,n)]:a}function u(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,u()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,u()):i.slice()},o.invertExtent=function(l){var s=i.indexOf(l);return s<0?[NaN,NaN]:s<1?[t,r[0]]:s>=n?[r[n-1],e]:[r[s-1],r[s]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return E1().domain([t,e]).range(i).unknown(a)},de.apply(on(o),arguments)}function R1(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ke(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return R1().domain(t).range(e).unknown(n)},de.apply(i,arguments)}const Nu=new Date,ku=new Date;function At(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const l=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return l;let s;do l.push(s=new Date(+a)),e(a,u),t(a);while(s<a&&a<o);return l},i.filter=a=>At(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Nu.setTime(+a),ku.setTime(+o),t(Nu),t(ku),Math.floor(n(Nu,ku))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const mr=At(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mr.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?At(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mr);const rh=mr.range,Be=1e3,he=Be*60,Fe=he*60,Ye=Fe*24,Gl=Ye*7,ih=Ye*30,Pu=Ye*365,Ve=At(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Be)},(t,e)=>(e-t)/Be,t=>t.getUTCSeconds()),ah=Ve.range,Ro=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Be)},(t,e)=>{t.setTime(+t+e*he)},(t,e)=>(e-t)/he,t=>t.getMinutes()),P4=Ro.range,jo=At(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*he)},(t,e)=>(e-t)/he,t=>t.getUTCMinutes()),E4=jo.range,Oo=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Be-t.getMinutes()*he)},(t,e)=>{t.setTime(+t+e*Fe)},(t,e)=>(e-t)/Fe,t=>t.getHours()),R4=Oo.range,Io=At(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fe)},(t,e)=>(e-t)/Fe,t=>t.getUTCHours()),j4=Io.range,Sr=At(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*he)/Ye,t=>t.getDate()-1),O4=Sr.range,Ei=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ye,t=>t.getUTCDate()-1),I4=Ei.range,Hl=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ye,t=>Math.floor(t/Ye)),L4=Hl.range;function jn(t){return At(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*he)/Gl)}const vr=jn(0),vi=jn(1),j1=jn(2),O1=jn(3),$n=jn(4),I1=jn(5),L1=jn(6),oh=vr.range,z4=vi.range,D4=j1.range,B4=O1.range,F4=$n.range,V4=I1.range,G4=L1.range;function On(t){return At(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Gl)}const yr=On(0),yi=On(1),z1=On(2),D1=On(3),Cn=On(4),B1=On(5),F1=On(6),uh=yr.range,H4=yi.range,Y4=z1.range,U4=D1.range,q4=Cn.range,W4=B1.range,X4=F1.range,Lo=At(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),J4=Lo.range,zo=At(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Z4=zo.range,$e=At(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$e.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const K4=$e.range,Ce=At(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ce.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const Q4=Ce.range;function V1(t,e,n,r,i,a){const o=[[Ve,1,Be],[Ve,5,5*Be],[Ve,15,15*Be],[Ve,30,30*Be],[a,1,he],[a,5,5*he],[a,15,15*he],[a,30,30*he],[i,1,Fe],[i,3,3*Fe],[i,6,6*Fe],[i,12,12*Fe],[r,1,Ye],[r,2,2*Ye],[n,1,Gl],[e,1,ih],[e,3,3*ih],[t,1,Pu]];function u(s,c,h){const f=c<s;f&&([s,c]=[c,s]);const d=h&&typeof h.range=="function"?h:l(s,c,h),m=d?d.range(s,+c+1):[];return f?m.reverse():m}function l(s,c,h){const f=Math.abs(c-s)/h,d=uo(([,,p])=>p).right(o,f);if(d===o.length)return t.every(ba(s/Pu,c/Pu,h));if(d===0)return mr.every(Math.max(ba(s,c,h),1));const[m,v]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return m.every(v)}return[u,l]}const[G1,H1]=V1(Ce,zo,yr,Hl,Io,jo),[Y1,U1]=V1($e,Lo,vr,Sr,Oo,Ro);function Eu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ru(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Er(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function q1(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,s=Rr(i),c=jr(i),h=Rr(a),f=jr(a),d=Rr(o),m=jr(o),v=Rr(u),p=jr(u),g=Rr(l),_=jr(l),b={a:O,A:D,b:I,B:R,c:null,d:dh,e:dh,f:x8,g:E8,G:j8,H:b8,I:_8,j:w8,L:W1,m:M8,M:T8,p:j,q:z,Q:mh,s:vh,S:S8,u:A8,U:$8,V:C8,w:N8,W:k8,x:null,X:null,y:P8,Y:R8,Z:O8,"%":gh},y={a:F,A:G,b:H,B:J,c:null,d:ph,e:ph,f:D8,g:X8,G:Z8,H:I8,I:L8,j:z8,L:J1,m:B8,M:F8,p:W,q:X,Q:mh,s:vh,S:V8,u:G8,U:H8,V:Y8,w:U8,W:q8,x:null,X:null,y:W8,Y:J8,Z:K8,"%":gh},w={a:k,A:P,b:L,B:T,c:M,d:fh,e:fh,f:g8,g:ch,G:lh,H:hh,I:hh,j:f8,L:p8,m:c8,M:h8,p:N,q:l8,Q:v8,s:y8,S:d8,u:i8,U:a8,V:o8,w:r8,W:u8,x:S,X:C,y:ch,Y:lh,Z:s8,"%":m8};b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y);function x(V,Y){return function(K){var B=[],tt=-1,at=0,ot=V.length,rt,q,it;for(K instanceof Date||(K=new Date(+K));++tt<ot;)V.charCodeAt(tt)===37&&(B.push(V.slice(at,tt)),(q=sh[rt=V.charAt(++tt)])!=null?rt=V.charAt(++tt):q=rt==="e"?" ":"0",(it=Y[rt])&&(rt=it(K,q)),B.push(rt),at=tt+1);return B.push(V.slice(at,tt)),B.join("")}}function A(V,Y){return function(K){var B=Er(1900,void 0,1),tt=$(B,V,K+="",0),at,ot;if(tt!=K.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(Y&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(at=Ru(Er(B.y,0,1)),ot=at.getUTCDay(),at=ot>4||ot===0?yi.ceil(at):yi(at),at=Ei.offset(at,(B.V-1)*7),B.y=at.getUTCFullYear(),B.m=at.getUTCMonth(),B.d=at.getUTCDate()+(B.w+6)%7):(at=Eu(Er(B.y,0,1)),ot=at.getDay(),at=ot>4||ot===0?vi.ceil(at):vi(at),at=Sr.offset(at,(B.V-1)*7),B.y=at.getFullYear(),B.m=at.getMonth(),B.d=at.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),ot="Z"in B?Ru(Er(B.y,0,1)).getUTCDay():Eu(Er(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(ot+5)%7:B.w+B.U*7-(ot+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Ru(B)):Eu(B)}}function $(V,Y,K,B){for(var tt=0,at=Y.length,ot=K.length,rt,q;tt<at;){if(B>=ot)return-1;if(rt=Y.charCodeAt(tt++),rt===37){if(rt=Y.charAt(tt++),q=w[rt in sh?Y.charAt(tt++):rt],!q||(B=q(V,K,B))<0)return-1}else if(rt!=K.charCodeAt(B++))return-1}return B}function N(V,Y,K){var B=s.exec(Y.slice(K));return B?(V.p=c.get(B[0].toLowerCase()),K+B[0].length):-1}function k(V,Y,K){var B=d.exec(Y.slice(K));return B?(V.w=m.get(B[0].toLowerCase()),K+B[0].length):-1}function P(V,Y,K){var B=h.exec(Y.slice(K));return B?(V.w=f.get(B[0].toLowerCase()),K+B[0].length):-1}function L(V,Y,K){var B=g.exec(Y.slice(K));return B?(V.m=_.get(B[0].toLowerCase()),K+B[0].length):-1}function T(V,Y,K){var B=v.exec(Y.slice(K));return B?(V.m=p.get(B[0].toLowerCase()),K+B[0].length):-1}function M(V,Y,K){return $(V,e,Y,K)}function S(V,Y,K){return $(V,n,Y,K)}function C(V,Y,K){return $(V,r,Y,K)}function O(V){return o[V.getDay()]}function D(V){return a[V.getDay()]}function I(V){return l[V.getMonth()]}function R(V){return u[V.getMonth()]}function j(V){return i[+(V.getHours()>=12)]}function z(V){return 1+~~(V.getMonth()/3)}function F(V){return o[V.getUTCDay()]}function G(V){return a[V.getUTCDay()]}function H(V){return l[V.getUTCMonth()]}function J(V){return u[V.getUTCMonth()]}function W(V){return i[+(V.getUTCHours()>=12)]}function X(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var Y=x(V+="",b);return Y.toString=function(){return V},Y},parse:function(V){var Y=A(V+="",!1);return Y.toString=function(){return V},Y},utcFormat:function(V){var Y=x(V+="",y);return Y.toString=function(){return V},Y},utcParse:function(V){var Y=A(V+="",!0);return Y.toString=function(){return V},Y}}}var sh={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,t8=/^%/,e8=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function n8(t){return t.replace(e8,"\\$&")}function Rr(t){return new RegExp("^(?:"+t.map(n8).join("|")+")","i")}function jr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function r8(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function i8(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function a8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function o8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function u8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function lh(t,e,n){var r=jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ch(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function s8(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function l8(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function c8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fh(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function f8(t,e,n){var r=jt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hh(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function h8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function d8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function p8(t,e,n){var r=jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function g8(t,e,n){var r=jt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function m8(t,e,n){var r=t8.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function v8(t,e,n){var r=jt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function y8(t,e,n){var r=jt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function dh(t,e){return dt(t.getDate(),e,2)}function b8(t,e){return dt(t.getHours(),e,2)}function _8(t,e){return dt(t.getHours()%12||12,e,2)}function w8(t,e){return dt(1+Sr.count($e(t),t),e,3)}function W1(t,e){return dt(t.getMilliseconds(),e,3)}function x8(t,e){return W1(t,e)+"000"}function M8(t,e){return dt(t.getMonth()+1,e,2)}function T8(t,e){return dt(t.getMinutes(),e,2)}function S8(t,e){return dt(t.getSeconds(),e,2)}function A8(t){var e=t.getDay();return e===0?7:e}function $8(t,e){return dt(vr.count($e(t)-1,t),e,2)}function X1(t){var e=t.getDay();return e>=4||e===0?$n(t):$n.ceil(t)}function C8(t,e){return t=X1(t),dt($n.count($e(t),t)+($e(t).getDay()===4),e,2)}function N8(t){return t.getDay()}function k8(t,e){return dt(vi.count($e(t)-1,t),e,2)}function P8(t,e){return dt(t.getFullYear()%100,e,2)}function E8(t,e){return t=X1(t),dt(t.getFullYear()%100,e,2)}function R8(t,e){return dt(t.getFullYear()%1e4,e,4)}function j8(t,e){var n=t.getDay();return t=n>=4||n===0?$n(t):$n.ceil(t),dt(t.getFullYear()%1e4,e,4)}function O8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function ph(t,e){return dt(t.getUTCDate(),e,2)}function I8(t,e){return dt(t.getUTCHours(),e,2)}function L8(t,e){return dt(t.getUTCHours()%12||12,e,2)}function z8(t,e){return dt(1+Ei.count(Ce(t),t),e,3)}function J1(t,e){return dt(t.getUTCMilliseconds(),e,3)}function D8(t,e){return J1(t,e)+"000"}function B8(t,e){return dt(t.getUTCMonth()+1,e,2)}function F8(t,e){return dt(t.getUTCMinutes(),e,2)}function V8(t,e){return dt(t.getUTCSeconds(),e,2)}function G8(t){var e=t.getUTCDay();return e===0?7:e}function H8(t,e){return dt(yr.count(Ce(t)-1,t),e,2)}function Z1(t){var e=t.getUTCDay();return e>=4||e===0?Cn(t):Cn.ceil(t)}function Y8(t,e){return t=Z1(t),dt(Cn.count(Ce(t),t)+(Ce(t).getUTCDay()===4),e,2)}function U8(t){return t.getUTCDay()}function q8(t,e){return dt(yi.count(Ce(t)-1,t),e,2)}function W8(t,e){return dt(t.getUTCFullYear()%100,e,2)}function X8(t,e){return t=Z1(t),dt(t.getUTCFullYear()%100,e,2)}function J8(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function Z8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cn(t):Cn.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function K8(){return"+0000"}function gh(){return"%"}function mh(t){return+t}function vh(t){return Math.floor(+t/1e3)}var Wn,Yl,K1,Do,Ul;Q1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q1(t){return Wn=q1(t),Yl=Wn.format,K1=Wn.parse,Do=Wn.utcFormat,Ul=Wn.utcParse,Wn}var tp="%Y-%m-%dT%H:%M:%S.%LZ";function Q8(t){return t.toISOString()}var t7=Date.prototype.toISOString?Q8:Do(tp);function e7(t){var e=new Date(t);return isNaN(e)?null:e}var n7=+new Date("2000-01-01T00:00:00.000Z")?e7:Ul(tp);function r7(t){return new Date(t)}function i7(t){return t instanceof Date?+t:+new Date(+t)}function ql(t,e,n,r,i,a,o,u,l,s){var c=zl(),h=c.invert,f=c.domain,d=s(".%L"),m=s(":%S"),v=s("%I:%M"),p=s("%I %p"),g=s("%a %d"),_=s("%b %d"),b=s("%B"),y=s("%Y");function w(x){return(l(x)<x?d:u(x)<x?m:o(x)<x?v:a(x)<x?p:r(x)<x?i(x)<x?g:_:n(x)<x?b:y)(x)}return c.invert=function(x){return new Date(h(x))},c.domain=function(x){return arguments.length?f(Array.from(x,i7)):f().map(r7)},c.ticks=function(x){var A=f();return t(A[0],A[A.length-1],x??10)},c.tickFormat=function(x,A){return A==null?w:s(A)},c.nice=function(x){var A=f();return(!x||typeof x.range!="function")&&(x=e(A[0],A[A.length-1],x??10)),x?f($1(A,x)):c},c.copy=function(){return Pi(c,ql(t,e,n,r,i,a,o,u,l,s))},c}function a7(){return de.apply(ql(Y1,U1,$e,Lo,vr,Sr,Oo,Ro,Ve,Yl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o7(){return de.apply(ql(G1,H1,Ce,zo,yr,Ei,Io,jo,Ve,Do).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bo(){var t=0,e=1,n,r,i,a,o=Wt,u=!1,l;function s(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-n)*i,u?Math.max(0,Math.min(1,h)):h))}s.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),s):[t,e]},s.clamp=function(h){return arguments.length?(u=!!h,s):u},s.interpolator=function(h){return arguments.length?(o=h,s):o};function c(h){return function(f){var d,m;return arguments.length?([d,m]=f,o=h(d,m),s):[o(0),o(1)]}}return s.range=c(an),s.rangeRound=c(bo),s.unknown=function(h){return arguments.length?(l=h,s):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),s}}function un(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ep(){var t=on(Bo()(Wt));return t.copy=function(){return un(t,ep())},Ue.apply(t,arguments)}function np(){var t=Dl(Bo()).domain([1,10]);return t.copy=function(){return un(t,np()).base(t.base())},Ue.apply(t,arguments)}function rp(){var t=Bl(Bo());return t.copy=function(){return un(t,rp()).constant(t.constant())},Ue.apply(t,arguments)}function Wl(){var t=Fl(Bo());return t.copy=function(){return un(t,Wl()).exponent(t.exponent())},Ue.apply(t,arguments)}function u7(){return Wl.apply(null,arguments).exponent(.5)}function ip(){var t=[],e=Wt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ke(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wt),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ri(t,a/r))},n.copy=function(){return ip(e).domain(t)},Ue.apply(n,arguments)}function Fo(){var t=0,e=.5,n=1,r=1,i,a,o,u,l,s=Wt,c,h=!1,f;function d(v){return isNaN(v=+v)?f:(v=.5+((v=+c(v))-a)*(r*v<r*a?u:l),s(h?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),a=c(e=+e),o=c(n=+n),u=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d):[t,e,n]},d.clamp=function(v){return arguments.length?(h=!!v,d):h},d.interpolator=function(v){return arguments.length?(s=v,d):s};function m(v){return function(p){var g,_,b;return arguments.length?([g,_,b]=p,s=Zd(v,[g,_,b]),d):[s(0),s(.5),s(1)]}}return d.range=m(an),d.rangeRound=m(bo),d.unknown=function(v){return arguments.length?(f=v,d):f},function(v){return c=v,i=v(t),a=v(e),o=v(n),u=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function ap(){var t=on(Fo()(Wt));return t.copy=function(){return un(t,ap())},Ue.apply(t,arguments)}function op(){var t=Dl(Fo()).domain([.1,1,10]);return t.copy=function(){return un(t,op()).base(t.base())},Ue.apply(t,arguments)}function up(){var t=Bl(Fo());return t.copy=function(){return un(t,up()).constant(t.constant())},Ue.apply(t,arguments)}function Xl(){var t=Fl(Fo());return t.copy=function(){return un(t,Xl()).exponent(t.exponent())},Ue.apply(t,arguments)}function s7(){return Xl.apply(null,arguments).exponent(.5)}function lt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const l7=lt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),c7=lt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),f7=lt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),h7=lt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),d7=lt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),p7=lt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),g7=lt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),m7=lt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),v7=lt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),y7=lt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),b7=lt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),vt=t=>zd(t[t.length-1]);var sp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(lt);const _7=vt(sp);var lp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(lt);const w7=vt(lp);var cp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(lt);const x7=vt(cp);var fp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(lt);const M7=vt(fp);var hp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(lt);const T7=vt(hp);var dp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(lt);const S7=vt(dp);var pp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(lt);const A7=vt(pp);var gp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(lt);const $7=vt(gp);var mp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(lt);const C7=vt(mp);var vp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(lt);const N7=vt(vp);var yp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(lt);const k7=vt(yp);var bp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(lt);const P7=vt(bp);var _p=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(lt);const E7=vt(_p);var wp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(lt);const R7=vt(wp);var xp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(lt);const j7=vt(xp);var Mp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(lt);const O7=vt(Mp);var Tp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(lt);const I7=vt(Tp);var Sp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(lt);const L7=vt(Sp);var Ap=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(lt);const z7=vt(Ap);var $p=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(lt);const D7=vt($p);var Cp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(lt);const B7=vt(Cp);var Np=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(lt);const F7=vt(Np);var kp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(lt);const V7=vt(kp);var Pp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(lt);const G7=vt(Pp);var Ep=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(lt);const H7=vt(Ep);var Rp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(lt);const Y7=vt(Rp);var jp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(lt);const U7=vt(jp);function q7(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const W7=_o(ye(300,.5,0),ye(-240,.5,1));var X7=_o(ye(-100,.75,.35),ye(80,1.5,.8)),J7=_o(ye(260,.75,.35),ye(80,1.5,.8)),Ki=ye();function Z7(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ki.h=360*t-100,Ki.s=1.5-1.5*e,Ki.l=.8-.9*e,Ki+""}var Qi=sr(),K7=Math.PI/3,Q7=Math.PI*2/3;function t9(t){var e;return t=(.5-t)*Math.PI,Qi.r=255*(e=Math.sin(t))*e,Qi.g=255*(e=Math.sin(t+K7))*e,Qi.b=255*(e=Math.sin(t+Q7))*e,Qi+""}function e9(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Vo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const n9=Vo(lt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var r9=Vo(lt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i9=Vo(lt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),a9=Vo(lt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ut(t){return function(){return t}}const yh=Math.abs,Dt=Math.atan2,Ie=Math.cos,o9=Math.max,rr=Math.min,ee=Math.sin,yt=Math.sqrt,Bt=1e-12,en=Math.PI,no=en/2,Ze=2*en;function u9(t){return t>1?0:t<-1?en:Math.acos(t)}function bh(t){return t>=1?no:t<=-1?-no:Math.asin(t)}function Ri(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ti(e)}function s9(t){return t.innerRadius}function l9(t){return t.outerRadius}function c9(t){return t.startAngle}function f9(t){return t.endAngle}function h9(t){return t&&t.padAngle}function d9(t,e,n,r,i,a,o,u){var l=n-t,s=r-e,c=o-i,h=u-a,f=h*l-c*s;if(!(f*f<Bt))return f=(c*(e-a)-h*(t-i))/f,[t+f*l,e+f*s]}function ta(t,e,n,r,i,a,o){var u=t-n,l=e-r,s=(o?a:-a)/yt(u*u+l*l),c=s*l,h=-s*u,f=t+c,d=e+h,m=n+c,v=r+h,p=(f+m)/2,g=(d+v)/2,_=m-f,b=v-d,y=_*_+b*b,w=i-a,x=f*v-m*d,A=(b<0?-1:1)*yt(o9(0,w*w*y-x*x)),$=(x*b-_*A)/y,N=(-x*_-b*A)/y,k=(x*b+_*A)/y,P=(-x*_+b*A)/y,L=$-p,T=N-g,M=k-p,S=P-g;return L*L+T*T>M*M+S*S&&($=k,N=P),{cx:$,cy:N,x01:-c,y01:-h,x11:$*(i/w-1),y11:N*(i/w-1)}}function p9(){var t=s9,e=l9,n=ut(0),r=null,i=c9,a=f9,o=h9,u=null,l=Ri(s);function s(){var c,h,f=+t.apply(this,arguments),d=+e.apply(this,arguments),m=i.apply(this,arguments)-no,v=a.apply(this,arguments)-no,p=yh(v-m),g=v>m;if(u||(u=c=l()),d<f&&(h=d,d=f,f=h),!(d>Bt))u.moveTo(0,0);else if(p>Ze-Bt)u.moveTo(d*Ie(m),d*ee(m)),u.arc(0,0,d,m,v,!g),f>Bt&&(u.moveTo(f*Ie(v),f*ee(v)),u.arc(0,0,f,v,m,g));else{var _=m,b=v,y=m,w=v,x=p,A=p,$=o.apply(this,arguments)/2,N=$>Bt&&(r?+r.apply(this,arguments):yt(f*f+d*d)),k=rr(yh(d-f)/2,+n.apply(this,arguments)),P=k,L=k,T,M;if(N>Bt){var S=bh(N/f*ee($)),C=bh(N/d*ee($));(x-=S*2)>Bt?(S*=g?1:-1,y+=S,w-=S):(x=0,y=w=(m+v)/2),(A-=C*2)>Bt?(C*=g?1:-1,_+=C,b-=C):(A=0,_=b=(m+v)/2)}var O=d*Ie(_),D=d*ee(_),I=f*Ie(w),R=f*ee(w);if(k>Bt){var j=d*Ie(b),z=d*ee(b),F=f*Ie(y),G=f*ee(y),H;if(p<en)if(H=d9(O,D,F,G,j,z,I,R)){var J=O-H[0],W=D-H[1],X=j-H[0],V=z-H[1],Y=1/ee(u9((J*X+W*V)/(yt(J*J+W*W)*yt(X*X+V*V)))/2),K=yt(H[0]*H[0]+H[1]*H[1]);P=rr(k,(f-K)/(Y-1)),L=rr(k,(d-K)/(Y+1))}else P=L=0}A>Bt?L>Bt?(T=ta(F,G,O,D,d,L,g),M=ta(j,z,I,R,d,L,g),u.moveTo(T.cx+T.x01,T.cy+T.y01),L<k?u.arc(T.cx,T.cy,L,Dt(T.y01,T.x01),Dt(M.y01,M.x01),!g):(u.arc(T.cx,T.cy,L,Dt(T.y01,T.x01),Dt(T.y11,T.x11),!g),u.arc(0,0,d,Dt(T.cy+T.y11,T.cx+T.x11),Dt(M.cy+M.y11,M.cx+M.x11),!g),u.arc(M.cx,M.cy,L,Dt(M.y11,M.x11),Dt(M.y01,M.x01),!g))):(u.moveTo(O,D),u.arc(0,0,d,_,b,!g)):u.moveTo(O,D),!(f>Bt)||!(x>Bt)?u.lineTo(I,R):P>Bt?(T=ta(I,R,j,z,f,-P,g),M=ta(O,D,F,G,f,-P,g),u.lineTo(T.cx+T.x01,T.cy+T.y01),P<k?u.arc(T.cx,T.cy,P,Dt(T.y01,T.x01),Dt(M.y01,M.x01),!g):(u.arc(T.cx,T.cy,P,Dt(T.y01,T.x01),Dt(T.y11,T.x11),!g),u.arc(0,0,f,Dt(T.cy+T.y11,T.cx+T.x11),Dt(M.cy+M.y11,M.cx+M.x11),g),u.arc(M.cx,M.cy,P,Dt(M.y11,M.x11),Dt(M.y01,M.x01),!g))):u.arc(0,0,f,w,y,g)}if(u.closePath(),c)return u=null,c+""||null}return s.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-en/2;return[Ie(h)*c,ee(h)*c]},s.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ut(+c),s):t},s.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ut(+c),s):e},s.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ut(+c),s):n},s.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ut(+c),s):r},s.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ut(+c),s):i},s.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:ut(+c),s):a},s.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ut(+c),s):o},s.context=function(c){return arguments.length?(u=c??null,s):u},s}var g9=Array.prototype.slice;function Go(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Op(t){this._context=t}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ho(t){return new Op(t)}function Jl(t){return t[0]}function Zl(t){return t[1]}function Kl(t,e){var n=ut(!0),r=null,i=Ho,a=null,o=Ri(u);t=typeof t=="function"?t:t===void 0?Jl:ut(t),e=typeof e=="function"?e:e===void 0?Zl:ut(e);function u(l){var s,c=(l=Go(l)).length,h,f=!1,d;for(r==null&&(a=i(d=o())),s=0;s<=c;++s)!(s<c&&n(h=l[s],s,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,s,l),+e(h,s,l));if(d)return a=null,d+""||null}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:ut(+l),u):t},u.y=function(l){return arguments.length?(e=typeof l=="function"?l:ut(+l),u):e},u.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ut(!!l),u):n},u.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),u):i},u.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),u):r},u}function Ip(t,e,n){var r=null,i=ut(!0),a=null,o=Ho,u=null,l=Ri(s);t=typeof t=="function"?t:t===void 0?Jl:ut(+t),e=typeof e=="function"?e:ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Zl:ut(+n);function s(h){var f,d,m,v=(h=Go(h)).length,p,g=!1,_,b=new Array(v),y=new Array(v);for(a==null&&(u=o(_=l())),f=0;f<=v;++f){if(!(f<v&&i(p=h[f],f,h))===g)if(g=!g)d=f,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),m=f-1;m>=d;--m)u.point(b[m],y[m]);u.lineEnd(),u.areaEnd()}g&&(b[f]=+t(p,f,h),y[f]=+e(p,f,h),u.point(r?+r(p,f,h):b[f],n?+n(p,f,h):y[f]))}if(_)return u=null,_+""||null}function c(){return Kl().defined(i).curve(o).context(a)}return s.x=function(h){return arguments.length?(t=typeof h=="function"?h:ut(+h),r=null,s):t},s.x0=function(h){return arguments.length?(t=typeof h=="function"?h:ut(+h),s):t},s.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ut(+h),s):r},s.y=function(h){return arguments.length?(e=typeof h=="function"?h:ut(+h),n=null,s):e},s.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ut(+h),s):e},s.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ut(+h),s):n},s.lineX0=s.lineY0=function(){return c().x(t).y(e)},s.lineY1=function(){return c().x(t).y(n)},s.lineX1=function(){return c().x(r).y(e)},s.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ut(!!h),s):i},s.curve=function(h){return arguments.length?(o=h,a!=null&&(u=o(a)),s):o},s.context=function(h){return arguments.length?(h==null?a=u=null:u=o(a=h),s):a},s}function m9(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function v9(t){return t}function y9(){var t=v9,e=m9,n=null,r=ut(0),i=ut(Ze),a=ut(0);function o(u){var l,s=(u=Go(u)).length,c,h,f=0,d=new Array(s),m=new Array(s),v=+r.apply(this,arguments),p=Math.min(Ze,Math.max(-Ze,i.apply(this,arguments)-v)),g,_=Math.min(Math.abs(p)/s,a.apply(this,arguments)),b=_*(p<0?-1:1),y;for(l=0;l<s;++l)(y=m[d[l]=l]=+t(u[l],l,u))>0&&(f+=y);for(e!=null?d.sort(function(w,x){return e(m[w],m[x])}):n!=null&&d.sort(function(w,x){return n(u[w],u[x])}),l=0,h=f?(p-s*b)/f:0;l<s;++l,v=g)c=d[l],y=m[c],g=v+(y>0?y*h:0)+b,m[c]={data:u[c],index:l,value:y,startAngle:v,endAngle:g,padAngle:_};return m}return o.value=function(u){return arguments.length?(t=typeof u=="function"?u:ut(+u),o):t},o.sortValues=function(u){return arguments.length?(e=u,n=null,o):e},o.sort=function(u){return arguments.length?(n=u,e=null,o):n},o.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:ut(+u),o):r},o.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:ut(+u),o):i},o.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:ut(+u),o):a},o}var Lp=Ql(Ho);function zp(t){this._curve=t}zp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Ql(t){function e(n){return new zp(t(n))}return e._curve=t,e}function Ur(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Ql(n)):e()._curve},t}function _h(){return Ur(Kl().curve(Lp))}function wh(){var t=Ip().curve(Lp),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Ur(n())},delete t.lineX0,t.lineEndAngle=function(){return Ur(r())},delete t.lineX1,t.lineInnerRadius=function(){return Ur(i())},delete t.lineY0,t.lineOuterRadius=function(){return Ur(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(Ql(o)):e()._curve},t}function qr(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Dp{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class b9{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=qr(this._x0,this._y0),i=qr(this._x0,this._y0=(this._y0+n)/2),a=qr(e,this._y0),o=qr(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=e,this._y0=n}}function Bp(t){return new Dp(t,!0)}function Fp(t){return new Dp(t,!1)}function _9(t){return new b9(t)}function w9(t){return t.source}function x9(t){return t.target}function Yo(t){let e=w9,n=x9,r=Jl,i=Zl,a=null,o=null,u=Ri(l);function l(){let s;const c=g9.call(arguments),h=e.apply(this,c),f=n.apply(this,c);if(a==null&&(o=t(s=u())),o.lineStart(),c[0]=h,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),s)return o=null,s+""||null}return l.source=function(s){return arguments.length?(e=s,l):e},l.target=function(s){return arguments.length?(n=s,l):n},l.x=function(s){return arguments.length?(r=typeof s=="function"?s:ut(+s),l):r},l.y=function(s){return arguments.length?(i=typeof s=="function"?s:ut(+s),l):i},l.context=function(s){return arguments.length?(s==null?a=o=null:o=t(a=s),l):a},l}function M9(){return Yo(Bp)}function T9(){return Yo(Fp)}function S9(){const t=Yo(_9);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const A9=yt(3),Vp={draw(t,e){const n=yt(e+rr(e/28,.75))*.59436,r=n/2,i=r*A9;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Uo={draw(t,e){const n=yt(e/en);t.moveTo(n,0),t.arc(0,0,n,0,Ze)}},Gp={draw(t,e){const n=yt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Hp=yt(1/3),$9=Hp*2,Yp={draw(t,e){const n=yt(e/$9),r=n*Hp;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Up={draw(t,e){const n=yt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},qp={draw(t,e){const n=yt(e-rr(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Wp={draw(t,e){const n=yt(e),r=-n/2;t.rect(r,r,n,n)}},Xp={draw(t,e){const n=yt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},C9=.8908130915292852,Jp=ee(en/10)/ee(7*en/10),N9=ee(Ze/10)*Jp,k9=-Ie(Ze/10)*Jp,Zp={draw(t,e){const n=yt(e*C9),r=N9*n,i=k9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Ze*a/5,u=Ie(o),l=ee(o);t.lineTo(l*n,-u*n),t.lineTo(u*r-l*i,l*r+u*i)}t.closePath()}},ju=yt(3),Kp={draw(t,e){const n=-yt(e/(ju*3));t.moveTo(0,n*2),t.lineTo(-ju*n,-n),t.lineTo(ju*n,-n),t.closePath()}},P9=yt(3),Qp={draw(t,e){const n=yt(e)*.6824,r=n/2,i=n*P9/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},ue=-.5,se=yt(3)/2,Os=1/yt(12),E9=(Os/2+1)*3,tg={draw(t,e){const n=yt(e/E9),r=n/2,i=n*Os,a=r,o=n*Os+n,u=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,l),t.lineTo(ue*r-se*i,se*r+ue*i),t.lineTo(ue*a-se*o,se*a+ue*o),t.lineTo(ue*u-se*l,se*u+ue*l),t.lineTo(ue*r+se*i,ue*i-se*r),t.lineTo(ue*a+se*o,ue*o-se*a),t.lineTo(ue*u+se*l,ue*l-se*u),t.closePath()}},Is={draw(t,e){const n=yt(e-rr(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},xh=[Uo,Gp,Yp,Wp,Zp,Kp,tg],R9=[Uo,qp,Is,Qp,Vp,Xp,Up];function j9(t,e){let n=null,r=Ri(i);t=typeof t=="function"?t:ut(t||Uo),e=typeof e=="function"?e:ut(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function nn(){}function ro(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qo(t){this._context=t}qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ro(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ro(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O9(t){return new qo(t)}function eg(t){this._context=t}eg.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ro(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I9(t){return new eg(t)}function ng(t){this._context=t}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ro(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L9(t){return new ng(t)}function rg(t,e){this._basis=new qo(t),this._beta=e}rg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,u=-1,l;++u<=n;)l=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+l*a),this._beta*e[u]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const z9=function t(e){function n(r){return e===1?new qo(r):new rg(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function io(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function tc(t,e){this._context=t,this._k=(1-e)/6}tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:io(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:io(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const D9=function t(e){function n(r){return new tc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ec(t,e){this._context=t,this._k=(1-e)/6}ec.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:io(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const B9=function t(e){function n(r){return new ec(r,e)}return n.tension=function(r){return t(+r)},n}(0);function nc(t,e){this._context=t,this._k=(1-e)/6}nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:io(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const F9=function t(e){function n(r){return new nc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function rc(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Bt){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Bt){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*s+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function ig(t,e){this._context=t,this._alpha=e}ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:rc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const V9=function t(e){function n(r){return e?new ig(r,e):new tc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ag(t,e){this._context=t,this._alpha=e}ag.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G9=function t(e){function n(r){return e?new ag(r,e):new ec(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function og(t,e){this._context=t,this._alpha=e}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const H9=function t(e){function n(r){return e?new og(r,e):new nc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ug(t){this._context=t}ug.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Y9(t){return new ug(t)}function Mh(t){return t<0?-1:1}function Th(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(Mh(a)+Mh(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function Sh(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ou(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function ao(t){this._context=t}ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ou(this,this._t0,Sh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ou(this,Sh(this,n=Th(this,t,e)),n);break;default:Ou(this,this._t0,n=Th(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sg(t){this._context=new lg(t)}(sg.prototype=Object.create(ao.prototype)).point=function(t,e){ao.prototype.point.call(this,e,t)};function lg(t){this._context=t}lg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function U9(t){return new ao(t)}function q9(t){return new sg(t)}function cg(t){this._context=t}cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ah(t),i=Ah(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ah(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function W9(t){return new cg(t)}function Wo(t,e){this._context=t,this._t=e}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function X9(t){return new Wo(t,.5)}function J9(t){return new Wo(t,0)}function Z9(t){return new Wo(t,1)}function br(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _r(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function K9(t,e){return t[e]}function Q9(t){const e=[];return e.key=t,e}function tM(){var t=ut([]),e=_r,n=br,r=K9;function i(a){var o=Array.from(t.apply(this,arguments),Q9),u,l=o.length,s=-1,c;for(const h of a)for(u=0,++s;u<l;++u)(o[u][s]=[0,+r(h,o[u].key,s,a)]).data=h;for(u=0,c=Go(e(o));u<l;++u)o[c[u]].index=u;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ut(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?_r:typeof a=="function"?a:ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??br,i):n},i}function eM(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}br(t,e)}}function nM(t,e){if((l=t.length)>0)for(var n,r=0,i,a,o,u,l,s=t[e[0]].length;r<s;++r)for(o=u=0,n=0;n<l;++n)(a=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=u,i[0]=u+=a):(i[0]=0,i[1]=a)}function rM(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}br(t,e)}}function iM(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,l=0,s=0;u<o;++u){for(var c=t[e[u]],h=c[r][1]||0,f=c[r-1][1]||0,d=(h-f)/2,m=0;m<u;++m){var v=t[e[m]],p=v[r][1]||0,g=v[r-1][1]||0;d+=p-g}l+=h,s+=d*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=s/l)}i[r-1][1]+=i[r-1][0]=n,br(t,e)}}function fg(t){var e=t.map(aM);return _r(t).sort(function(n,r){return e[n]-e[r]})}function aM(t){for(var e=-1,n=0,r=t.length,i,a=-1/0;++e<r;)(i=+t[e][1])>a&&(a=i,n=e);return n}function hg(t){var e=t.map(dg);return _r(t).sort(function(n,r){return e[n]-e[r]})}function dg(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function oM(t){return hg(t).reverse()}function uM(t){var e=t.length,n,r,i=t.map(dg),a=fg(t),o=0,u=0,l=[],s=[];for(n=0;n<e;++n)r=a[n],o<u?(o+=i[r],l.push(r)):(u+=i[r],s.push(r));return s.reverse().concat(l)}function sM(t){return _r(t).reverse()}const ea=t=>()=>t;function lM(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Me(t,e,n){this.k=t,this.x=e,this.y=n}Me.prototype={constructor:Me,scale:function(t){return t===1?this:new Me(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Me(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xo=new Me(1,0,0);pg.prototype=Me.prototype;function pg(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xo;return t.__zoom}function Iu(t){t.stopImmediatePropagation()}function Or(t){t.preventDefault(),t.stopImmediatePropagation()}function cM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function fM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function $h(){return this.__zoom||Xo}function hM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function dM(){return navigator.maxTouchPoints||"ontouchstart"in this}function pM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function gM(){var t=cM,e=fM,n=pM,r=hM,i=dM,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,l=qd,s=kn("start","zoom","end"),c,h,f,d=500,m=150,v=0,p=10;function g(M){M.property("__zoom",$h).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(M,S,C,O){var D=M.selection?M.selection():M;D.property("__zoom",$h),M!==D?w(M,S,C,O):D.interrupt().each(function(){x(this,arguments).event(O).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},g.scaleBy=function(M,S,C,O){g.scaleTo(M,function(){var D=this.__zoom.k,I=typeof S=="function"?S.apply(this,arguments):S;return D*I},C,O)},g.scaleTo=function(M,S,C,O){g.transform(M,function(){var D=e.apply(this,arguments),I=this.__zoom,R=C==null?y(D):typeof C=="function"?C.apply(this,arguments):C,j=I.invert(R),z=typeof S=="function"?S.apply(this,arguments):S;return n(b(_(I,z),R,j),D,o)},C,O)},g.translateBy=function(M,S,C,O){g.transform(M,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),o)},null,O)},g.translateTo=function(M,S,C,O,D){g.transform(M,function(){var I=e.apply(this,arguments),R=this.__zoom,j=O==null?y(I):typeof O=="function"?O.apply(this,arguments):O;return n(Xo.translate(j[0],j[1]).scale(R.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof C=="function"?-C.apply(this,arguments):-C),I,o)},O,D)};function _(M,S){return S=Math.max(a[0],Math.min(a[1],S)),S===M.k?M:new Me(S,M.x,M.y)}function b(M,S,C){var O=S[0]-C[0]*M.k,D=S[1]-C[1]*M.k;return O===M.x&&D===M.y?M:new Me(M.k,O,D)}function y(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function w(M,S,C,O){M.on("start.zoom",function(){x(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(O).end()}).tween("zoom",function(){var D=this,I=arguments,R=x(D,I).event(O),j=e.apply(D,I),z=C==null?y(j):typeof C=="function"?C.apply(D,I):C,F=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),G=D.__zoom,H=typeof S=="function"?S.apply(D,I):S,J=l(G.invert(z).concat(F/G.k),H.invert(z).concat(F/H.k));return function(W){if(W===1)W=H;else{var X=J(W),V=F/X[2];W=new Me(V,z[0]-X[0]*V,z[1]-X[1]*V)}R.zoom(null,W)}})}function x(M,S,C){return!C&&M.__zooming||new A(M,S)}function A(M,S){this.that=M,this.args=S,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,S),this.taps=0}A.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,S){return this.mouse&&M!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var S=Ft(this.that).datum();s.call(M,this.that,new lM(M,{sourceEvent:this.sourceEvent,target:g,type:M,transform:this.that.__zoom,dispatch:s}),S)}};function $(M,...S){if(!t.apply(this,arguments))return;var C=x(this,S).event(M),O=this.__zoom,D=Math.max(a[0],Math.min(a[1],O.k*Math.pow(2,r.apply(this,arguments)))),I=ae(M);if(C.wheel)(C.mouse[0][0]!==I[0]||C.mouse[0][1]!==I[1])&&(C.mouse[1]=O.invert(C.mouse[0]=I)),clearTimeout(C.wheel);else{if(O.k===D)return;C.mouse=[I,O.invert(I)],vn(this),C.start()}Or(M),C.wheel=setTimeout(R,m),C.zoom("mouse",n(b(_(O,D),C.mouse[0],C.mouse[1]),C.extent,o));function R(){C.wheel=null,C.end()}}function N(M,...S){if(f||!t.apply(this,arguments))return;var C=M.currentTarget,O=x(this,S,!0).event(M),D=Ft(M.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",F,!0),I=ae(M,C),R=M.clientX,j=M.clientY;po(M.view),Iu(M),O.mouse=[I,this.__zoom.invert(I)],vn(this),O.start();function z(G){if(Or(G),!O.moved){var H=G.clientX-R,J=G.clientY-j;O.moved=H*H+J*J>v}O.event(G).zoom("mouse",n(b(O.that.__zoom,O.mouse[0]=ae(G,C),O.mouse[1]),O.extent,o))}function F(G){D.on("mousemove.zoom mouseup.zoom",null),go(G.view,O.moved),Or(G),O.event(G).end()}}function k(M,...S){if(t.apply(this,arguments)){var C=this.__zoom,O=ae(M.changedTouches?M.changedTouches[0]:M,this),D=C.invert(O),I=C.k*(M.shiftKey?.5:2),R=n(b(_(C,I),O,D),e.apply(this,S),o);Or(M),u>0?Ft(this).transition().duration(u).call(w,R,O,M):Ft(this).call(g.transform,R,O,M)}}function P(M,...S){if(t.apply(this,arguments)){var C=M.touches,O=C.length,D=x(this,S,M.changedTouches.length===O).event(M),I,R,j,z;for(Iu(M),R=0;R<O;++R)j=C[R],z=ae(j,this),z=[z,this.__zoom.invert(z),j.identifier],D.touch0?!D.touch1&&D.touch0[2]!==z[2]&&(D.touch1=z,D.taps=0):(D.touch0=z,I=!0,D.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(D.taps<2&&(h=z[0],c=setTimeout(function(){c=null},d)),vn(this),D.start())}}function L(M,...S){if(this.__zooming){var C=x(this,S).event(M),O=M.changedTouches,D=O.length,I,R,j,z;for(Or(M),I=0;I<D;++I)R=O[I],j=ae(R,this),C.touch0&&C.touch0[2]===R.identifier?C.touch0[0]=j:C.touch1&&C.touch1[2]===R.identifier&&(C.touch1[0]=j);if(R=C.that.__zoom,C.touch1){var F=C.touch0[0],G=C.touch0[1],H=C.touch1[0],J=C.touch1[1],W=(W=H[0]-F[0])*W+(W=H[1]-F[1])*W,X=(X=J[0]-G[0])*X+(X=J[1]-G[1])*X;R=_(R,Math.sqrt(W/X)),j=[(F[0]+H[0])/2,(F[1]+H[1])/2],z=[(G[0]+J[0])/2,(G[1]+J[1])/2]}else if(C.touch0)j=C.touch0[0],z=C.touch0[1];else return;C.zoom("touch",n(b(R,j,z),C.extent,o))}}function T(M,...S){if(this.__zooming){var C=x(this,S).event(M),O=M.changedTouches,D=O.length,I,R;for(Iu(M),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),I=0;I<D;++I)R=O[I],C.touch0&&C.touch0[2]===R.identifier?delete C.touch0:C.touch1&&C.touch1[2]===R.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(R=ae(R,this),Math.hypot(h[0]-R[0],h[1]-R[1])<p)){var j=Ft(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return g.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:ea(+M),g):r},g.filter=function(M){return arguments.length?(t=typeof M=="function"?M:ea(!!M),g):t},g.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:ea(!!M),g):i},g.extent=function(M){return arguments.length?(e=typeof M=="function"?M:ea([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),g):e},g.scaleExtent=function(M){return arguments.length?(a[0]=+M[0],a[1]=+M[1],g):[a[0],a[1]]},g.translateExtent=function(M){return arguments.length?(o[0][0]=+M[0][0],o[1][0]=+M[1][0],o[0][1]=+M[0][1],o[1][1]=+M[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(M){return arguments.length?(n=M,g):n},g.duration=function(M){return arguments.length?(u=+M,g):u},g.interpolate=function(M){return arguments.length?(l=M,g):l},g.on=function(){var M=s.on.apply(s,arguments);return M===s?g:M},g.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,g):Math.sqrt(v)},g.tapDistance=function(M){return arguments.length?(p=+M,g):p},g}const mM=Object.freeze(Object.defineProperty({__proto__:null,Adder:Nt,Delaunay:fl,FormatSpecifier:$o,InternMap:ei,InternSet:yn,Node:An,Path:Ti,Voronoi:h0,ZoomTransform:Me,active:fw,arc:p9,area:Ip,areaRadial:wh,ascending:wt,autoType:O3,axisBottom:e2,axisLeft:n2,axisRight:t2,axisTop:Qv,bin:fc,bisect:Ke,bisectCenter:Xm,bisectLeft:Wm,bisectRight:Ke,bisector:uo,blob:z3,blur:Jm,blur2:Hh,blurImage:Zm,brush:Tw,brushSelection:ww,brushX:xw,brushY:Mw,buffer:B3,chord:Aw,chordDirected:Cw,chordTranspose:$w,cluster:r6,color:Qe,contourDensity:t3,contours:os,count:so,create:Ly,creator:fo,cross:iv,csv:G3,csvFormat:T3,csvFormatBody:S3,csvFormatRow:$3,csvFormatRows:A3,csvFormatValue:C3,csvParse:p0,csvParseRows:M3,cubehelix:ye,cumsum:av,curveBasis:O9,curveBasisClosed:I9,curveBasisOpen:L9,curveBumpX:Bp,curveBumpY:Fp,curveBundle:z9,curveCardinal:D9,curveCardinalClosed:B9,curveCardinalOpen:F9,curveCatmullRom:V9,curveCatmullRomClosed:G9,curveCatmullRomOpen:H9,curveLinear:Ho,curveLinearClosed:Y9,curveMonotoneX:U9,curveMonotoneY:q9,curveNatural:W9,curveStep:X9,curveStepAfter:Z9,curveStepBefore:J9,descending:Vh,deviation:qh,difference:Fv,disjoint:Vv,dispatch:kn,drag:Uy,dragDisable:po,dragEnable:go,dsv:V3,dsvFormat:To,easeBack:Oc,easeBackIn:rw,easeBackInOut:Oc,easeBackOut:iw,easeBounce:ci,easeBounceIn:ew,easeBounceInOut:nw,easeBounceOut:ci,easeCircle:jc,easeCircleIn:Y_,easeCircleInOut:jc,easeCircleOut:U_,easeCubic:es,easeCubicIn:L_,easeCubicInOut:es,easeCubicOut:z_,easeElastic:Ic,easeElasticIn:aw,easeElasticInOut:ow,easeElasticOut:Ic,easeExp:Rc,easeExpIn:G_,easeExpInOut:Rc,easeExpOut:H_,easeLinear:j_,easePoly:Pc,easePolyIn:D_,easePolyInOut:Pc,easePolyOut:B_,easeQuad:kc,easeQuadIn:O_,easeQuadInOut:kc,easeQuadOut:I_,easeSin:Ec,easeSinIn:F_,easeSinInOut:Ec,easeSinOut:V_,every:Ov,extent:Wr,fcumsum:uv,filter:Lv,flatGroup:sv,flatRollup:lv,forceCenter:Z3,forceCollide:m5,forceLink:y5,forceManyBody:$5,forceRadial:C5,forceSimulation:A5,forceX:N5,forceY:k5,get format(){return Co},formatDefaultLocale:_0,formatLocale:b0,get formatPrefix(){return pl},formatSpecifier:hr,fsum:ov,geoAlbers:i1,geoAlbersUsa:Ox,geoArea:B5,geoAzimuthalEqualArea:Ix,geoAzimuthalEqualAreaRaw:Tl,geoAzimuthalEquidistant:Lx,geoAzimuthalEquidistantRaw:Sl,geoBounds:H5,geoCentroid:J5,geoCircle:Z5,geoClipAntimeridian:bs,geoClipCircle:V0,geoClipExtent:ix,geoClipRectangle:No,geoConicConformal:Dx,geoConicConformalRaw:u1,geoConicEqualArea:Qa,geoConicEqualAreaRaw:r1,geoConicEquidistant:Fx,geoConicEquidistantRaw:s1,geoContains:fx,geoDistance:Ya,geoEqualEarth:Gx,geoEqualEarthRaw:Al,geoEquirectangular:Bx,geoEquirectangularRaw:mi,geoGnomonic:Hx,geoGnomonicRaw:$l,geoGraticule:Y0,geoGraticule10:hx,geoIdentity:Yx,geoInterpolate:dx,geoLength:G0,geoMercator:zx,geoMercatorRaw:Ni,geoNaturalEarth1:Ux,geoNaturalEarth1Raw:Cl,geoOrthographic:qx,geoOrthographicRaw:Nl,geoPath:Sx,geoProjection:ke,geoProjectionMutator:xl,geoRotation:I0,geoStereographic:Wx,geoStereographicRaw:kl,geoStream:ge,geoTransform:Ax,geoTransverseMercator:Xx,geoTransverseMercatorRaw:Pl,gray:ib,greatest:id,greatestIndex:Nv,group:Zh,groupSort:hv,groups:Kh,hcl:Aa,hierarchy:El,histogram:fc,hsl:Ma,html:X3,image:Y3,index:cv,indexes:fv,interpolate:an,interpolateArray:cb,interpolateBasis:jd,interpolateBasisClosed:Od,interpolateBlues:F7,interpolateBrBG:_7,interpolateBuGn:N7,interpolateBuPu:k7,interpolateCividis:q7,interpolateCool:J7,interpolateCubehelix:Sb,interpolateCubehelixDefault:W7,interpolateCubehelixLong:_o,interpolateDate:Fd,interpolateDiscrete:db,interpolateGnBu:P7,interpolateGreens:V7,interpolateGreys:G7,interpolateHcl:Mb,interpolateHclLong:Tb,interpolateHsl:_b,interpolateHslLong:wb,interpolateHue:pb,interpolateInferno:i9,interpolateLab:xb,interpolateMagma:r9,interpolateNumber:le,interpolateNumberArray:tl,interpolateObject:Vd,interpolateOrRd:E7,interpolateOranges:U7,interpolatePRGn:w7,interpolatePiYG:x7,interpolatePlasma:a9,interpolatePuBu:j7,interpolatePuBuGn:R7,interpolatePuOr:M7,interpolatePuRd:O7,interpolatePurples:H7,interpolateRainbow:Z7,interpolateRdBu:T7,interpolateRdGy:S7,interpolateRdPu:I7,interpolateRdYlBu:A7,interpolateRdYlGn:$7,interpolateReds:Y7,interpolateRgb:ui,interpolateRgbBasis:zd,interpolateRgbBasisClosed:lb,interpolateRound:bo,interpolateSinebow:t9,interpolateSpectral:C7,interpolateString:el,interpolateTransformCss:Yd,interpolateTransformSvg:Ud,interpolateTurbo:e9,interpolateViridis:n9,interpolateWarm:X7,interpolateYlGn:z7,interpolateYlGnBu:L7,interpolateYlOrBr:D7,interpolateYlOrRd:B7,interpolateZoom:qd,interrupt:vn,intersection:Gv,interval:kb,isoFormat:t7,isoParse:n7,json:q3,lab:Sa,lch:ab,least:Cv,leastIndex:ud,line:Kl,lineRadial:_h,link:Yo,linkHorizontal:M9,linkRadial:S9,linkVertical:T9,local:bd,map:zv,matcher:qs,max:ni,maxIndex:Gs,mean:_v,median:wv,medianIndex:xv,merge:Ys,min:_a,minIndex:Hs,mode:Tv,namespace:wi,namespaces:Yu,nice:Fs,now:Mi,pack:R6,packEnclose:$6,packSiblings:P6,pairs:Sv,partition:j6,path:cl,pathRound:Pw,permute:rd,pie:y9,piecewise:Zd,pointRadial:qr,pointer:ae,pointers:Dy,polygonArea:J6,polygonCentroid:Z6,polygonContains:e4,polygonHull:t4,polygonLength:n4,precisionFixed:w0,precisionPrefix:x0,precisionRound:M0,quadtree:Ao,quantile:ri,quantileIndex:od,quantileSorted:ad,quantize:Ab,quickselect:lo,radialArea:wh,radialLine:_h,randomBates:o4,randomBernoulli:l4,randomBeta:w1,randomBinomial:x1,randomCauchy:f4,randomExponential:u4,randomGamma:Ol,randomGeometric:_1,randomInt:i4,randomIrwinHall:b1,randomLcg:m4,randomLogNormal:a4,randomLogistic:h4,randomNormal:jl,randomPareto:s4,randomPoisson:d4,randomUniform:r4,randomWeibull:c4,range:Xe,rank:$v,reduce:Dv,reverse:Bv,rgb:sr,ribbon:Dw,ribbonArrow:Bw,rollup:td,rollups:ed,scaleBand:Ll,scaleDiverging:ap,scaleDivergingLog:op,scaleDivergingPow:Xl,scaleDivergingSqrt:s7,scaleDivergingSymlog:up,scaleIdentity:A1,scaleImplicit:Rs,scaleLinear:S1,scaleLog:C1,scaleOrdinal:Il,scalePoint:v4,scalePow:Vl,scaleQuantile:P1,scaleQuantize:E1,scaleRadial:k1,scaleSequential:ep,scaleSequentialLog:np,scaleSequentialPow:Wl,scaleSequentialQuantile:ip,scaleSequentialSqrt:u7,scaleSequentialSymlog:rp,scaleSqrt:N4,scaleSymlog:N1,scaleThreshold:R1,scaleTime:a7,scaleUtc:o7,scan:kv,schemeAccent:c7,schemeBlues:Np,schemeBrBG:sp,schemeBuGn:vp,schemeBuPu:yp,schemeCategory10:l7,schemeDark2:f7,schemeGnBu:bp,schemeGreens:kp,schemeGreys:Pp,schemeObservable10:h7,schemeOrRd:_p,schemeOranges:jp,schemePRGn:lp,schemePaired:d7,schemePastel1:p7,schemePastel2:g7,schemePiYG:cp,schemePuBu:xp,schemePuBuGn:wp,schemePuOr:fp,schemePuRd:Mp,schemePurples:Ep,schemeRdBu:hp,schemeRdGy:dp,schemeRdPu:Tp,schemeRdYlBu:pp,schemeRdYlGn:gp,schemeReds:Rp,schemeSet1:m7,schemeSet2:v7,schemeSet3:y7,schemeSpectral:mp,schemeTableau10:b7,schemeYlGn:Ap,schemeYlGnBu:Sp,schemeYlOrBr:$p,schemeYlOrRd:Cp,select:Ft,selectAll:By,selection:Pn,selector:ho,selectorAll:Us,shuffle:Pv,shuffler:sd,some:Iv,sort:Vu,stack:tM,stackOffsetDiverging:nM,stackOffsetExpand:eM,stackOffsetNone:br,stackOffsetSilhouette:rM,stackOffsetWiggle:iM,stackOrderAppearance:fg,stackOrderAscending:hg,stackOrderDescending:oM,stackOrderInsideOut:uM,stackOrderNone:_r,stackOrderReverse:sM,stratify:z6,style:wn,subset:Yv,sum:Ev,superset:cd,svg:J3,symbol:j9,symbolAsterisk:Vp,symbolCircle:Uo,symbolCross:Gp,symbolDiamond:Yp,symbolDiamond2:Up,symbolPlus:qp,symbolSquare:Wp,symbolSquare2:Xp,symbolStar:Zp,symbolTimes:Is,symbolTriangle:Kp,symbolTriangle2:Qp,symbolWye:tg,symbolX:Is,symbols:xh,symbolsFill:xh,symbolsStroke:R9,text:So,thresholdFreedmanDiaconis:yv,thresholdScott:bv,thresholdSturges:Vs,tickFormat:T1,tickIncrement:_n,tickStep:ba,ticks:bn,timeDay:Sr,timeDays:O4,get timeFormat(){return Yl},timeFormatDefaultLocale:Q1,timeFormatLocale:q1,timeFriday:I1,timeFridays:V4,timeHour:Oo,timeHours:R4,timeInterval:At,timeMillisecond:mr,timeMilliseconds:rh,timeMinute:Ro,timeMinutes:P4,timeMonday:vi,timeMondays:z4,timeMonth:Lo,timeMonths:J4,get timeParse(){return K1},timeSaturday:L1,timeSaturdays:G4,timeSecond:Ve,timeSeconds:ah,timeSunday:vr,timeSundays:oh,timeThursday:$n,timeThursdays:F4,timeTickInterval:U1,timeTicks:Y1,timeTuesday:j1,timeTuesdays:D4,timeWednesday:O1,timeWednesdays:B4,timeWeek:vr,timeWeeks:oh,timeYear:$e,timeYears:K4,timeout:Zu,timer:xo,timerFlush:t0,transition:i0,transpose:ld,tree:Y6,treemap:U6,treemapBinary:q6,treemapDice:ki,treemapResquarify:X6,treemapSlice:Po,treemapSliceDice:W6,treemapSquarify:y1,tsv:H3,tsvFormat:k3,tsvFormatBody:P3,tsvFormatRow:R3,tsvFormatRows:E3,tsvFormatValue:j3,tsvParse:g0,tsvParseRows:N3,union:Uv,unixDay:Hl,unixDays:L4,utcDay:Ei,utcDays:I4,get utcFormat(){return Do},utcFriday:B1,utcFridays:W4,utcHour:Io,utcHours:j4,utcMillisecond:mr,utcMilliseconds:rh,utcMinute:jo,utcMinutes:E4,utcMonday:yi,utcMondays:H4,utcMonth:zo,utcMonths:Z4,get utcParse(){return Ul},utcSaturday:F1,utcSaturdays:X4,utcSecond:Ve,utcSeconds:ah,utcSunday:yr,utcSundays:uh,utcThursday:Cn,utcThursdays:q4,utcTickInterval:H1,utcTicks:G1,utcTuesday:z1,utcTuesdays:Y4,utcWednesday:D1,utcWednesdays:U4,utcWeek:yr,utcWeeks:uh,utcYear:Ce,utcYears:Q4,variance:Uh,window:Ws,xml:W3,zip:jv,zoom:gM,zoomIdentity:Xo,zoomTransform:pg},Symbol.toStringTag,{value:"Module"})),Jo=Og(mM);var je={},Lu={},Ch;function gg(){return Ch||(Ch=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultArc=t.getArcWidthByType=t.defaultSubArcs=void 0;var e=Ar();t.defaultSubArcs=[{limit:33,color:"#5BE12C"},{limit:66,color:"#F5CD19"},{color:"#EA4228"}];var n=function(r){var i,a=(i={},i[e.GaugeType.Grafana]=.25,i[e.GaugeType.Semicircle]=.15,i[e.GaugeType.Radial]=.2,i);return r||(r=e.defaultGaugeProps.type),a[r]};t.getArcWidthByType=n,t.defaultArc={padding:.05,width:.25,cornerRadius:7,nbSubArcs:void 0,emptyColor:"#5C5C5C",colorArray:void 0,subArcs:t.defaultSubArcs,gradient:!1}}(Lu)),Lu}var mg={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.defaultTickLabels=void 0;var vM={color:"rgb(173 172 171)",length:7,width:1,distanceFromArc:3,hide:!1},yM={formatTextValue:void 0,maxDecimalDigits:2,style:{fontSize:"10px",fill:"rgb(173 172 171)"},hide:!1},bM=[];ji.defaultTickLabels={type:"outer",hideMinMax:!1,ticks:bM,defaultTickValueConfig:yM,defaultTickLineConfig:vM};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLabels=t.defaultValueLabel=void 0;var e=ji;t.defaultValueLabel={formatTextValue:void 0,matchColorWithArc:!1,maxDecimalDigits:2,style:{fontSize:"35px",fill:"#fff",textShadow:"black 1px 0.5px 0px, black 0px 0px 0.03em, black 0px 0px 0.01em"},hide:!1},t.defaultLabels={valueLabel:t.defaultValueLabel,tickLabels:e.defaultTickLabels}})(mg);var Zo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPointer=t.defaultPointerRef=t.defaultPointerContext=t.PointerType=void 0;var e;(function(n){n.Needle="needle",n.Blob="blob",n.Arrow="arrow"})(e||(t.PointerType=e={})),t.defaultPointerContext={centerPoint:[0,0],pointerRadius:0,pathLength:0,currentPercent:0,prevPercent:0,prevProgress:0,pathStr:"",shouldDrawPath:!1,prevColor:""},t.defaultPointerRef={element:void 0,path:void 0,context:t.defaultPointerContext},t.defaultPointer={type:e.Needle,color:"#5A5A5A",baseColor:"white",length:.7,width:20,animate:!0,elastic:!1,hide:!1,animationDuration:3e3,animationDelay:100}})(Zo);var Nh;function Ar(){if(Nh)return je;Nh=1,Object.defineProperty(je,"__esModule",{value:!0}),je.getGaugeMarginByType=je.defaultGaugeProps=je.GaugeType=void 0;var t=gg(),e=mg,n=Zo,r;(function(a){a.Semicircle="semicircle",a.Radial="radial",a.Grafana="grafana"})(r||(je.GaugeType=r={})),je.defaultGaugeProps={id:"",className:"gauge-component-class",style:{width:"100%"},marginInPercent:.07,value:33,minValue:0,maxValue:100,arc:t.defaultArc,labels:e.defaultLabels,pointer:n.defaultPointer,type:r.Grafana};var i=function(a){var o,u=(o={},o[r.Grafana]={top:.12,bottom:0,left:.07,right:.07},o[r.Semicircle]={top:.08,bottom:0,left:.08,right:.08},o[r.Radial]={top:.07,bottom:0,left:.07,right:.07},o);return u[a]};return je.getGaugeMarginByType=i,je}var vg={},zu={},$r={};(function(t){var e=st&&st.__assign||function(){return e=Object.assign||function(f){for(var d,m=1,v=arguments.length;m<v;m++){d=arguments[m];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])}return f},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.camelCaseToKebabCase=t.getCurrentGaugeValueByPercentage=t.getCurrentGaugePercentageByValue=t.degToRad=t.normalize=t.floatingNumber=t.percentToRad=t.mergeObjects=t.isEmptyObject=t.calculatePercentage=void 0;var n=function(f,d,m){if(m<f)return 0;if(m>d)return 1;var v=(m-f)/(d-f);return v};t.calculatePercentage=n;var r=function(f){return Object.keys(f).length===0&&f.constructor===Object};t.isEmptyObject=r;var i=function(f,d){var m=e({},f);return Object.keys(d).forEach(function(v){var p=f[v],g=d[v];Array.isArray(p)&&Array.isArray(g)?m[v]=g:typeof p=="object"&&typeof g=="object"?m[v]=(0,t.mergeObjects)(p,g):g!==void 0&&(m[v]=g)}),m};t.mergeObjects=i;var a=function(f,d){return f*(Math.PI/d)};t.percentToRad=a;var o=function(f,d){return d===void 0&&(d=2),Math.round(f*Math.pow(10,d))/Math.pow(10,d)};t.floatingNumber=o;function u(f,d,m){return(f-d)/(m-d)*100}t.normalize=u;var l=function(f){return f*(Math.PI/180)};t.degToRad=l;var s=function(f,d){return(0,t.calculatePercentage)(d.minValue,d.maxValue,f)};t.getCurrentGaugePercentageByValue=s;var c=function(f,d){var m=d.props.minValue,v=d.props.maxValue,p=m+f*(v-m);return p};t.getCurrentGaugeValueByPercentage=c;var h=function(f){return f.replace(/[A-Z]/g,function(d){return"-".concat(d.toLowerCase())})};t.camelCaseToKebabCase=h})($r);var ic={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0,t.CONSTANTS={arcTooltipClassname:"gauge-component-arc-tooltip",tickLineClassname:"tick-line",tickValueClassname:"tick-value",valueLabelClassname:"value-text",debugTicksRadius:!1,debugSingleGauge:!1,rangeBetweenCenteredTickValueLabel:[.35,.65]},t.default=t.CONSTANTS})(ic);var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.defaultTooltipStyle=void 0;Ko.defaultTooltipStyle={borderColor:"#5A5A5A",borderStyle:"solid",borderWidth:"1px",borderRadius:"5px",color:"white",padding:"5px",fontSize:"15px",textShadow:"1px 1px 2px black, 0 0 1em black, 0 0 0.2em black"};var kh;function wr(){return kh||(kh=1,function(t){var e=st&&st.__createBinding||(Object.create?function(R,j,z,F){F===void 0&&(F=z);var G=Object.getOwnPropertyDescriptor(j,z);(!G||("get"in G?!j.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return j[z]}}),Object.defineProperty(R,F,G)}:function(R,j,z,F){F===void 0&&(F=z),R[F]=j[z]}),n=st&&st.__setModuleDefault||(Object.create?function(R,j){Object.defineProperty(R,"default",{enumerable:!0,value:j})}:function(R,j){R.default=j}),r=st&&st.__importStar||function(R){if(R&&R.__esModule)return R;var j={};if(R!=null)for(var z in R)z!=="default"&&Object.prototype.hasOwnProperty.call(R,z)&&e(j,R,z);return n(j,R),j},i=st&&st.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateArcs=t.clearOuterArcs=t.clearArcs=t.redrawArcs=t.getCoordByValue=t.createGradientElement=t.getColors=t.applyGradientColors=t.getArcDataByPercentage=t.getArcDataByValue=t.applyColors=t.setupTooltip=t.setupArcs=t.drawArc=t.setArcData=t.hideTooltip=void 0;var a=r($r),o=Jo,u=r(wr()),l=i(ic),s=Ko,c=Ar(),h=om,f=function(R,j,z){if(j.data.tooltip!=null){var F=j.data.tooltip.text!=z.tooltip.current.text();F&&(z.tooltip.current.html(j.data.tooltip.text).style("position","absolute").style("display","block").style("opacity",1),d(j.data.tooltip,j.data.color,z)),z.tooltip.current.style("left",R.pageX+15+"px").style("top",R.pageY-10+"px")}j.data.onMouseMove!=null&&j.data.onMouseMove(R)},d=function(R,j,z){Object.entries(s.defaultTooltipStyle).forEach(function(F){var G=F[0],H=F[1];return z.tooltip.current.style(a.camelCaseToKebabCase(G),H)}),z.tooltip.current.style("background-color",j),R.style!=null&&Object.entries(R.style).forEach(function(F){var G=F[0],H=F[1];return z.tooltip.current.style(a.camelCaseToKebabCase(G),H)})},m=function(R,j,z,F){F.cancel(),(0,t.hideTooltip)(z),j.data.onMouseLeave!=null&&j.data.onMouseLeave(R)},v=function(R){R.tooltip.current.html(" ").style("display","none")};t.hideTooltip=v;var p=function(R,j,z){R.target.style.stroke="none"},g=function(R,j){j.data.onMouseClick!=null&&j.data.onMouseClick(R)},_=function(R){var j,z,F=R.props.arc,G=R.props.minValue,H=R.props.maxValue,J=(F==null?void 0:F.nbSubArcs)||((j=F==null?void 0:F.subArcs)===null||j===void 0?void 0:j.length)||1,W=(0,t.getColors)(J,R);if(F!=null&&F.subArcs&&!(F!=null&&F.nbSubArcs)){var X=0,V=0,Y=[],K=[],B=[];(z=F==null?void 0:F.subArcs)===null||z===void 0||z.forEach(function(ot,rt){var q,it=0,Tt=0,gt=ot.limit;if(ot.length!=null)it=ot.length,gt=a.getCurrentGaugeValueByPercentage(it+V,R);else if(ot.limit==null){Tt=X;var ht=void 0,pt=(q=F==null?void 0:F.subArcs)===null||q===void 0?void 0:q.slice(rt),St=(1-a.calculatePercentage(G,H,X))*100;ht||(ht=St/Math.max((pt==null?void 0:pt.length)||1,1)/100),gt=X+ht*100,it=ht}else Tt=gt-X,rt!==0?it=a.calculatePercentage(G,H,gt)-V:it=a.calculatePercentage(G,H,Tt);Y.push(it),K.push(gt),V=Y.reduce(function(Vt,In){return Vt+In},0),X=gt,ot.tooltip!=null&&B.push(ot.tooltip)});var tt=F.subArcs;R.arcData.current=Y.map(function(ot,rt){return{value:ot,limit:K[rt],color:W[rt],showTick:tt[rt].showTick||!1,tooltip:tt[rt].tooltip||void 0,onMouseMove:tt[rt].onMouseMove,onMouseLeave:tt[rt].onMouseLeave,onMouseClick:tt[rt].onClick}})}else{var at=H/J;R.arcData.current=Array.from({length:J},function(ot,rt){return{value:at,limit:(rt+1)*at,color:W[rt],tooltip:void 0}})}};t.setArcData=_;var b=function(R,j){var z;j===void 0&&(j=void 0);var F=j??a.calculatePercentage(R.props.minValue,R.props.maxValue,R.props.value),G=(0,t.getArcDataByPercentage)(F,R),H={value:F,color:(G==null?void 0:G.color)||"white"},J={value:1-F,color:(z=R.props.arc)===null||z===void 0?void 0:z.emptyColor};return[H,J]},y=function(R,j){j===void 0&&(j=!1);var z=R.dimensions.current.outerRadius;if(R.props.type==c.GaugeType.Grafana&&j){R.doughnut.current.selectAll(".outerSubArc").remove();var F=(0,o.arc)().outerRadius(z+7).innerRadius(z+2).cornerRadius(0).padAngle(0),G=R.doughnut.current.selectAll("anyString").data(R.pieChart.current(R.arcData.current)).enter().append("g").attr("class","outerSubArc"),H=G.append("path").attr("d",F);(0,t.applyColors)(H,R);var J=(0,h.throttle)(function(W,X){return f(W,X,R)},20);G.on("mouseleave",function(W,X){return m(W,X,R,J)}).on("mouseout",function(W,X){return p(W)}).on("mousemove",J).on("click",function(W,X){return g(W,X)})}},w=function(R,j){var z,F;j===void 0&&(j=void 0);var G=R.props.arc,H=G.padding,J=G.cornerRadius,W=R.dimensions.current,X=W.innerRadius,V=W.outerRadius,Y={};!((F=(z=R.props)===null||z===void 0?void 0:z.arc)===null||F===void 0)&&F.gradient?Y=[{value:1}]:Y=R.arcData.current,R.props.type==c.GaugeType.Grafana&&(Y=b(R,j));var K=R.props.type==c.GaugeType.Grafana?0:H,B=R.props.type==c.GaugeType.Grafana?0:J,tt=(0,o.arc)().outerRadius(V).innerRadius(X).cornerRadius(B).padAngle(K),at=R.doughnut.current.selectAll("anyString").data(R.pieChart.current(Y)).enter().append("g").attr("class","subArc"),ot=at.append("path").attr("d",tt);(0,t.applyColors)(ot,R);var rt=(0,h.throttle)(function(q,it){return f(q,it,R)},20);at.on("mouseleave",function(q,it){return m(q,it,R,rt)}).on("mouseout",function(q,it){return p(q)}).on("mousemove",rt).on("click",function(q,it){return g(q,it)})};t.drawArc=w;var x=function(R,j){j===void 0&&(j=!1),(0,t.setupTooltip)(R),y(R,j),(0,t.drawArc)(R)};t.setupArcs=x;var A=function(R){var j=document.getElementsByClassName(l.default.arcTooltipClassname).length!=0;j||(0,o.select)("body").append("div").attr("class",l.default.arcTooltipClassname),R.tooltip.current=(0,o.select)(".".concat(l.default.arcTooltipClassname)),R.tooltip.current.on("mouseleave",function(){return u.hideTooltip(R)}).on("mouseout",function(){return u.hideTooltip(R)})};t.setupTooltip=A;var $=function(R,j){var z,F;if(!((F=(z=j.props)===null||z===void 0?void 0:z.arc)===null||F===void 0)&&F.gradient){var G="subArc-linear-gradient-".concat(Math.random()),H=(0,t.createGradientElement)(j.doughnut.current,G);(0,t.applyGradientColors)(H,j),R.style("fill",function(J){return"url(#".concat(G,")")})}else R.style("fill",function(J){return J.data.color})};t.applyColors=$;var N=function(R,j){return j.arcData.current.find(function(z){return R<=z.limit})};t.getArcDataByValue=N;var k=function(R,j){return(0,t.getArcDataByValue)(a.getCurrentGaugeValueByPercentage(R,j),j)};t.getArcDataByPercentage=k;var P=function(R,j){j.arcData.current.forEach(function(z){var F,G,H,J,W=a.normalize(z==null?void 0:z.limit,(G=(F=j==null?void 0:j.props)===null||F===void 0?void 0:F.minValue)!==null&&G!==void 0?G:0,(J=(H=j==null?void 0:j.props)===null||H===void 0?void 0:H.maxValue)!==null&&J!==void 0?J:100);R.append("stop").attr("offset","".concat(W,"%")).style("stop-color",z.color).style("stop-opacity",1)})};t.applyGradientColors=P;var L=function(R,j){var z,F=j.props.arc,G=[];if(F.colorArray)G=F.colorArray;else{var H=(z=F.subArcs)===null||z===void 0?void 0:z.map(function(Y){return Y.color});G=H!=null&&H.some(function(Y){return Y!=null})?H:l.default.defaultColors}G||(G=["#fff"]);var J=R===(G==null?void 0:G.length);if(J)return G;for(var W=(0,o.scaleLinear)().domain([1,R]).range([G[0],G[G.length-1]]).interpolate(o.interpolateHsl),X=[],V=1;V<=R;V++)X.push(W(V));return X};t.getColors=L;var T=function(R,j){var z=R.append("defs").append("linearGradient").attr("id",j).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");return z};t.createGradientElement=T;var M=function(R,j,z,F,G){var H;z===void 0&&(z="inner"),F===void 0&&(F=0),G===void 0&&(G=1);var J={outer:function(){return j.dimensions.current.outerRadius-F+2},inner:function(){return j.dimensions.current.innerRadius*G-F+9},between:function(){var gt=j.dimensions.current.outerRadius-j.dimensions.current.innerRadius,ht=j.dimensions.current.innerRadius+gt-5;return ht}},W=J[z]();j.props.type===c.GaugeType.Grafana?W+=5:j.props.type===c.GaugeType.Semicircle&&(W+=-2);var X=a.calculatePercentage(j.props.minValue,j.props.maxValue,R),V=(H={},H[c.GaugeType.Grafana]={startAngle:a.degToRad(-23),endAngle:a.degToRad(203)},H[c.GaugeType.Semicircle]={startAngle:a.degToRad(.9),endAngle:a.degToRad(179.1)},H[c.GaugeType.Radial]={startAngle:a.degToRad(-39),endAngle:a.degToRad(219)},H),Y=V[j.props.type],K=Y.startAngle,B=Y.endAngle,tt=K+X*(B-K),at=1*(j.dimensions.current.width/500),ot=[0,-at/2],rt=[ot[0]-W*Math.cos(tt),ot[1]-W*Math.sin(tt)],q=[j.dimensions.current.outerRadius,j.dimensions.current.outerRadius],it=q[0]+rt[0],Tt=q[1]+rt[1];return{x:it,y:Tt}};t.getCoordByValue=M;var S=function(R){(0,t.clearArcs)(R),(0,t.setArcData)(R),(0,t.setupArcs)(R)};t.redrawArcs=S;var C=function(R){R.doughnut.current.selectAll(".subArc").remove()};t.clearArcs=C;var O=function(R){R.doughnut.current.selectAll(".outerSubArc").remove()};t.clearOuterArcs=O;var D=function(R){I(R)};t.validateArcs=D;var I=function(R){for(var j,z=R.props.minValue,F=R.props.maxValue,G=R.props.arc,H=G.subArcs,J=void 0,W=0,X=((j=R.props.arc)===null||j===void 0?void 0:j.subArcs)||[];W<X.length;W++){var V=X[W],Y=V.limit;if(typeof Y<"u"){if(Y<z||Y>F)throw new Error("The limit of a subArc must be between the minValue and maxValue. The limit of the subArc is ".concat(Y));if(typeof J<"u"&&Y<=J)throw new Error("The limit of a subArc must be greater than the limit of the previous subArc. The limit of the subArc is ".concat(Y,`. If you're trying to specify length in percent of the arc, use property "length". refer to: https://github.com/antoniolago/react-gauge-component`));J=Y}}if(H.length>0){var K=H[H.length-1];K.limit<F&&(K.limit=F)}}}(zu)),zu}var yg={};(function(t){var e=st&&st.__assign||function(){return e=Object.assign||function(T){for(var M,S=1,C=arguments.length;S<C;S++){M=arguments[S];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(T[O]=M[O])}return T},e.apply(this,arguments)},n=st&&st.__createBinding||(Object.create?function(T,M,S,C){C===void 0&&(C=S);var O=Object.getOwnPropertyDescriptor(M,S);(!O||("get"in O?!M.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return M[S]}}),Object.defineProperty(T,C,O)}:function(T,M,S,C){C===void 0&&(C=S),T[C]=M[S]}),r=st&&st.__setModuleDefault||(Object.create?function(T,M){Object.defineProperty(T,"default",{enumerable:!0,value:M})}:function(T,M){T.default=M}),i=st&&st.__importStar||function(T){if(T&&T.__esModule)return T;var M={};if(T!=null)for(var S in T)S!=="default"&&Object.prototype.hasOwnProperty.call(T,S)&&n(M,T,S);return r(M,T),M},a=st&&st.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAnchorAndAngleByValue=t.clearTicks=t.clearValueLabel=t.addValueText=t.addText=t.getLabelCoordsByValue=t.addTick=t.addTickValue=t.addTickLine=t.mapTick=t.addArcTicks=t.setupTicks=t.setupValueLabel=t.setupLabels=void 0;var o=i($r),u=a(ic),l=ji,s=i(Jo),c=Ar(),h=wr(),f=function(T){(0,t.setupValueLabel)(T),(0,t.setupTicks)(T)};t.setupLabels=f;var d=function(T){var M,S=T.props.labels;!((M=S==null?void 0:S.valueLabel)===null||M===void 0)&&M.hide||(0,t.addValueText)(T)};t.setupValueLabel=d;var m=function(T){var M,S,C,O,D,I,R,j,z,F=T.props.labels,G=T.props.minValue,H=T.props.maxValue;if(u.default.debugTicksRadius)for(var J=0;J<H;J++){var W=(0,t.mapTick)(J,T);(0,t.addTick)(W,T)}else if(!(!((M=F.tickLabels)===null||M===void 0)&&M.hideMinMax)){var X=(C=(S=F.tickLabels)===null||S===void 0?void 0:S.ticks)===null||C===void 0?void 0:C.some(function(B){return B.value==G});if(!X){var V=(0,t.mapTick)(G,T);(0,t.addTick)(V,T)}var Y=(D=(O=F.tickLabels)===null||O===void 0?void 0:O.ticks)===null||D===void 0?void 0:D.some(function(B){return B.value==H});if(!Y){var K=(0,t.mapTick)(H,T);(0,t.addTick)(K,T)}}((R=(I=F.tickLabels)===null||I===void 0?void 0:I.ticks)===null||R===void 0?void 0:R.length)>0&&((z=(j=F.tickLabels)===null||j===void 0?void 0:j.ticks)===null||z===void 0||z.forEach(function(B){(0,t.addTick)(B,T)})),(0,t.addArcTicks)(T)};t.setupTicks=m;var v=function(T){var M;(M=T.arcData.current)===null||M===void 0||M.map(function(S){if(S.showTick)return S.limit}).forEach(function(S){S&&(0,t.addTick)((0,t.mapTick)(S,T),T)})};t.addArcTicks=v;var p=function(T,M){var S=M.props.labels.tickLabels;return{value:T,valueConfig:S==null?void 0:S.defaultTickValueConfig,lineConfig:S==null?void 0:S.defaultTickLineConfig}};t.mapTick=p;var g=function(T,M){var S,C,O,D,I,R,j,z,F,G,H,J,W,X,V,Y,K,B,tt=M.props.labels,at=(0,t.calculateAnchorAndAngleByValue)(T==null?void 0:T.value,M);at.tickAnchor;var ot=at.angle,rt=((S=T.lineConfig)===null||S===void 0?void 0:S.distanceFromArc)||((O=(C=tt==null?void 0:tt.tickLabels)===null||C===void 0?void 0:C.defaultTickLineConfig)===null||O===void 0?void 0:O.distanceFromArc)||0;((I=(D=M.props.labels)===null||D===void 0?void 0:D.tickLabels)===null||I===void 0?void 0:I.type)=="outer"&&(rt=-rt);var q=(0,t.getLabelCoordsByValue)(T==null?void 0:T.value,M,rt),it=((R=T.lineConfig)===null||R===void 0?void 0:R.color)||((z=(j=tt==null?void 0:tt.tickLabels)===null||j===void 0?void 0:j.defaultTickLineConfig)===null||z===void 0?void 0:z.color)||((F=l.defaultTickLabels.defaultTickLineConfig)===null||F===void 0?void 0:F.color),Tt=((G=T.lineConfig)===null||G===void 0?void 0:G.width)||((J=(H=tt==null?void 0:tt.tickLabels)===null||H===void 0?void 0:H.defaultTickLineConfig)===null||J===void 0?void 0:J.width)||((W=l.defaultTickLabels.defaultTickLineConfig)===null||W===void 0?void 0:W.width),gt=((X=T.lineConfig)===null||X===void 0?void 0:X.length)||((Y=(V=tt==null?void 0:tt.tickLabels)===null||V===void 0?void 0:V.defaultTickLineConfig)===null||Y===void 0?void 0:Y.length)||((K=l.defaultTickLabels.defaultTickLineConfig)===null||K===void 0?void 0:K.length),ht,pt;((B=tt==null?void 0:tt.tickLabels)===null||B===void 0?void 0:B.type)=="inner"?(ht=q.x+gt*Math.cos(ot*Math.PI/180),pt=q.y+gt*Math.sin(ot*Math.PI/180)):(ht=q.x-gt*Math.cos(ot*Math.PI/180),pt=q.y-gt*Math.sin(ot*Math.PI/180));var St=s.line(),Vt;Vt=[[q.x,q.y],[ht,pt]],M.g.current.append("path").datum(Vt).attr("class",u.default.tickLineClassname).attr("d",St).attr("stroke",it).attr("stroke-width",Tt).attr("fill","none")};t.addTickLine=g;var _=function(T,M){var S,C,O,D,I,R,j,z,F,G,H,J,W,X,V,Y,K,B=M.props.labels,tt=M.props.arc,at=tt.width,ot=T==null?void 0:T.value,rt=(0,t.calculateAnchorAndAngleByValue)(ot,M).tickAnchor,q=27-at*10,it=((S=B==null?void 0:B.tickLabels)===null||S===void 0?void 0:S.type)=="inner";it?q-=10:q=at*10-10;var Tt=((C=T.lineConfig)===null||C===void 0?void 0:C.distanceFromArc)||((D=(O=B==null?void 0:B.tickLabels)===null||O===void 0?void 0:O.defaultTickLineConfig)===null||D===void 0?void 0:D.distanceFromArc)||0,gt=((I=T.lineConfig)===null||I===void 0?void 0:I.length)||((j=(R=B==null?void 0:B.tickLabels)===null||R===void 0?void 0:R.defaultTickLineConfig)===null||j===void 0?void 0:j.length)||0,ht=P(T,M);ht||(it?(q+=Tt,q+=gt):(q-=Tt,q-=gt));var pt=(0,t.getLabelCoordsByValue)(ot,M,q),St=((z=T.valueConfig)===null||z===void 0?void 0:z.style)||((G=(F=B==null?void 0:B.tickLabels)===null||F===void 0?void 0:F.defaultTickValueConfig)===null||G===void 0?void 0:G.style)||{};St=e({},St);var Vt="",In=((H=T.valueConfig)===null||H===void 0?void 0:H.maxDecimalDigits)||((W=(J=B==null?void 0:B.tickLabels)===null||J===void 0?void 0:J.defaultTickValueConfig)===null||W===void 0?void 0:W.maxDecimalDigits);!((X=T.valueConfig)===null||X===void 0)&&X.formatTextValue?Vt=T.valueConfig.formatTextValue(o.floatingNumber(ot,In)):!((Y=(V=B==null?void 0:B.tickLabels)===null||V===void 0?void 0:V.defaultTickValueConfig)===null||Y===void 0)&&Y.formatTextValue?Vt=B.tickLabels.defaultTickValueConfig.formatTextValue(o.floatingNumber(ot,In)):M.props.minValue===0&&M.props.maxValue===100?(Vt=o.floatingNumber(ot,In).toString(),Vt+="%"):Vt=o.floatingNumber(ot,In).toString(),((K=B==null?void 0:B.tickLabels)===null||K===void 0?void 0:K.type)=="inner"?(rt==="end"&&(pt.x+=10),rt==="start"&&(pt.x-=10)):rt==="middle"&&(pt.y+=2),rt==="middle"?pt.y+=0:pt.y+=3,St.textAnchor=rt,(0,t.addText)(Vt,pt.x,pt.y,M,St,u.default.tickValueClassname)};t.addTickValue=_;var b=function(T,M){M.props.labels;var S=P(T,M),C=L(T,M);S||(0,t.addTickLine)(T,M),!u.default.debugTicksRadius&&!C&&(0,t.addTickValue)(T,M)};t.addTick=b;var y=function(T,M,S){var C;S===void 0&&(S=0);var O=M.props.labels,D=M.props.minValue,I=M.props.maxValue,R=(C=O.tickLabels)===null||C===void 0?void 0:C.type,j=(0,h.getCoordByValue)(T,M,R,S,.93),z=j.x,F=j.y;return o.calculatePercentage(D,I,T),M.props.type==c.GaugeType.Radial&&(F+=3),{x:z,y:F}};t.getLabelCoordsByValue=y;var w=function(T,M,S,C,O,D,I){I===void 0&&(I=0);var R=C.g.current.append("g").attr("class",D).attr("transform","translate(".concat(M,", ").concat(S,")")).append("text").text(T);x(R,O),R.attr("transform","rotate(".concat(I,")"))};t.addText=w;var x=function(T,M){Object.entries(M).forEach(function(S){var C=S[0],O=S[1];return T.style(o.camelCaseToKebabCase(C),O)}),M!=null&&Object.entries(M).forEach(function(S){var C=S[0],O=S[1];return T.style(o.camelCaseToKebabCase(C),O)})},A=function(T){var M,S,C,O=T.props.labels,D=T.props.value,I=O==null?void 0:O.valueLabel,R=20,j="",z=(M=O==null?void 0:O.valueLabel)===null||M===void 0?void 0:M.maxDecimalDigits,F=o.floatingNumber(D,z);I.formatTextValue?j=I.formatTextValue(F):T.props.minValue===0&&T.props.maxValue===100?(j=F.toString(),j+="%"):j=F.toString();var G=4,H=(j==null?void 0:j.length)||0,J=H>G?G/H*1.5:1,W=(S=I==null?void 0:I.style)===null||S===void 0?void 0:S.fontSize,X=e({},I.style),V=T.dimensions.current.outerRadius,Y=0;X.textAnchor="middle",T.props.type==c.GaugeType.Semicircle?Y=T.dimensions.current.outerRadius/1.5+R:T.props.type==c.GaugeType.Radial?Y=T.dimensions.current.outerRadius*1.45+R:T.props.type==c.GaugeType.Grafana&&(Y=T.dimensions.current.outerRadius*1+R);var K=(T.props.type==c.GaugeType.Radial,.003);J=T.dimensions.current.width*K*J;var B=parseInt(W,10)*J;X.fontSize=B+"px",I.matchColorWithArc&&(X.fill=((C=(0,h.getArcDataByValue)(D,T))===null||C===void 0?void 0:C.color)||"white"),(0,t.addText)(j,V,Y,T,X,u.default.valueLabelClassname)};t.addValueText=A;var $=function(T){return T.g.current.selectAll(".".concat(u.default.valueLabelClassname)).remove()};t.clearValueLabel=$;var N=function(T){T.g.current.selectAll(".".concat(u.default.tickLineClassname)).remove(),T.g.current.selectAll(".".concat(u.default.tickValueClassname)).remove()};t.clearTicks=N;var k=function(T,M){var S,C,O=M.props.labels,D=M.props.minValue,I=M.props.maxValue,R=o.calculatePercentage(D,I,T),j=(S={},S[c.GaugeType.Grafana]={startAngle:-20,endAngle:220},S[c.GaugeType.Semicircle]={startAngle:0,endAngle:180},S[c.GaugeType.Radial]={startAngle:-42,endAngle:266},S),z=j[M.props.type],F=z.startAngle,G=z.endAngle,H=F+R*100*G/100,J=R<.5,W=R>u.default.rangeBetweenCenteredTickValueLabel[0]&&R<u.default.rangeBetweenCenteredTickValueLabel[1],X="",V=((C=O==null?void 0:O.tickLabels)===null||C===void 0?void 0:C.type)=="inner";return W?X="middle":J?X=V?"start":"end":X=V?"end":"start",{tickAnchor:X,angle:H}};t.calculateAnchorAndAngleByValue=k;var P=function(T,M){var S,C,O,D,I=M.props.labels,R=(S=l.defaultTickLabels.defaultTickLineConfig)===null||S===void 0?void 0:S.hide,j=R,z=(O=(C=I==null?void 0:I.tickLabels)===null||C===void 0?void 0:C.defaultTickLineConfig)===null||O===void 0?void 0:O.hide;z!=null&&(j=z);var F=(D=T.lineConfig)===null||D===void 0?void 0:D.hide;return F!=null&&(j=F),j},L=function(T,M){var S,C,O,D,I=M.props.labels,R=(S=l.defaultTickLabels.defaultTickValueConfig)===null||S===void 0?void 0:S.hide,j=R,z=(O=(C=I==null?void 0:I.tickLabels)===null||C===void 0?void 0:C.defaultTickValueConfig)===null||O===void 0?void 0:O.hide;z!=null&&(j=z);var F=(D=T.valueConfig)===null||D===void 0?void 0:D.hide;return F!=null&&(j=F),j}})(yg);var bg={};(function(t){var e=st&&st.__createBinding||(Object.create?function(w,x,A,$){$===void 0&&($=A);var N=Object.getOwnPropertyDescriptor(x,A);(!N||("get"in N?!x.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return x[A]}}),Object.defineProperty(w,$,N)}:function(w,x,A,$){$===void 0&&($=A),w[$]=x[A]}),n=st&&st.__setModuleDefault||(Object.create?function(w,x){Object.defineProperty(w,"default",{enumerable:!0,value:x})}:function(w,x){w.default=x}),r=st&&st.__importStar||function(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&e(x,w,A);return n(x,w),x};Object.defineProperty(t,"__esModule",{value:!0}),t.clearPointerElement=t.addPointerElement=t.translatePointer=t.drawPointer=void 0;var i=Jo,a=Zo,o=wr(),u=r($r),l=r(wr()),s=Ar(),c=function(w,x){var A;x===void 0&&(x=!1),w.pointer.current.context=h(w);var $=w.pointer.current.context,N=$.prevPercent,k=$.currentPercent,P=$.prevProgress,L=w.props.pointer,T=((A=w.prevProps)===null||A===void 0?void 0:A.current.value)==null;(T||x)&&w.props.type!=s.GaugeType.Grafana&&f(w);var M=(!x||T)&&L.animate;M?w.doughnut.current.transition().delay(L.animationDelay).ease(L.elastic?i.easeElastic:i.easeExpOut).duration(L.animationDuration).tween("progress",function(){var S=(0,i.interpolateNumber)(N,k);return function(C){var O=S(C);v(O,P)&&(w.props.type==s.GaugeType.Grafana?(l.clearArcs(w),l.drawArc(w,O)):d(O,w)),w.pointer.current.context.prevProgress=O}}):d(k,w)};t.drawPointer=c;var h=function(w){var x,A=w.props.value,$=w.props.pointer,N=$.length,k=w.props.minValue,P=w.props.maxValue;w.pointer.current.context.pointerPath;var L=g(w),T=$.type==a.PointerType.Needle?N:.2,M=[a.PointerType.Needle,a.PointerType.Arrow],S={centerPoint:[0,-L/2],pointerRadius:g(w),pathLength:w.dimensions.current.outerRadius*T,currentPercent:u.calculatePercentage(k,P,A),prevPercent:u.calculatePercentage(k,P,((x=w.prevProps)===null||x===void 0?void 0:x.current.value)||k),prevProgress:0,pathStr:"",shouldDrawPath:M.includes($.type),prevColor:""};return S},f=function(w){var x=w.props.value,A=w.props.pointer,$=w.pointer.current.context,N=$.shouldDrawPath,k=$.centerPoint,P=$.pointerRadius;$.pathStr;var L=$.currentPercent,T=$.prevPercent;N&&(w.pointer.current.context.pathStr=p(w,T||L),w.pointer.current.path=w.pointer.current.element.append("path").attr("d",w.pointer.current.context.pathStr).attr("fill",A.color)),A.type==a.PointerType.Needle?w.pointer.current.element.append("circle").attr("cx",k[0]).attr("cy",k[1]).attr("r",P).attr("fill",A.color):A.type==a.PointerType.Blob&&w.pointer.current.element.append("circle").attr("cx",k[0]).attr("cy",k[1]).attr("r",P).attr("fill",A.baseColor).attr("stroke",A.color).attr("stroke-width",8*P/10),m(P,x,w)},d=function(w,x){var A,$=x.props.pointer,N=x.pointer.current.context,k=N.pointerRadius,P=N.shouldDrawPath,L=N.prevColor;if(m(k,w,x),P&&x.props.type!=s.GaugeType.Grafana&&x.pointer.current.path.attr("d",p(x,w)),$.type==a.PointerType.Blob){var T=(A=l.getArcDataByPercentage(w,x))===null||A===void 0?void 0:A.color,M=T!=L;M&&x.pointer.current.element.select("circle").attr("stroke",T),x.pointer.current.context.prevColor=T}},m=function(w,x,A){var $,N=A.props.pointer,k=N.type,P=A.dimensions,L=u.getCurrentGaugeValueByPercentage(x,A),T=($={},$[a.PointerType.Needle]=function(){(0,t.translatePointer)(P.current.outerRadius,P.current.outerRadius,A)},$[a.PointerType.Arrow]=function(){var M=(0,o.getCoordByValue)(L,A,"inner",0,.7),S=M.x,C=M.y;S-=1,C+=w-3,(0,t.translatePointer)(S,C,A)},$[a.PointerType.Blob]=function(){var M=(0,o.getCoordByValue)(L,A,"between",0,.75),S=M.x,C=M.y;S-=1,C+=w,(0,t.translatePointer)(S,C,A)},$);return T[k]()},v=function(w,x,A){var $=w>1||w<0,N=Math.abs(w-x)<1e-4,k=w==x;return!N&&!k&&!$},p=function(w,x){var A=w.pointer.current.context,$=A.centerPoint,N=A.pointerRadius,k=A.pathLength,P=u.degToRad(w.props.type==s.GaugeType.Semicircle?0:-42),L=u.degToRad(w.props.type==s.GaugeType.Semicircle?180:223),T=P+x*(L-P),M=[$[0]-k*Math.cos(T),$[1]-k*Math.sin(T)],S=T-Math.PI/2,C=[$[0]-N*Math.cos(S),$[1]-N*Math.sin(S)],O=T+Math.PI/2,D=[$[0]-N*Math.cos(O),$[1]-N*Math.sin(O)],I="M ".concat(C[0]," ").concat(C[1]," L ").concat(M[0]," ").concat(M[1]," L ").concat(D[0]," ").concat(D[1]);return I},g=function(w){var x=w.props.pointer,A=x.width;return A*(w.dimensions.current.width/500)},_=function(w,x,A){return A.pointer.current.element.attr("transform","translate("+w+", "+x+")")};t.translatePointer=_;var b=function(w){return w.pointer.current.element=w.g.current.append("g").attr("class","pointer")};t.addPointerElement=b;var y=function(w){return w.pointer.current.element.selectAll("*").remove()};t.clearPointerElement=y})(bg);(function(t){var e=st&&st.__createBinding||(Object.create?function(p,g,_,b){b===void 0&&(b=_);var y=Object.getOwnPropertyDescriptor(g,_);(!y||("get"in y?!g.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(p,b,y)}:function(p,g,_,b){b===void 0&&(b=_),p[b]=g[_]}),n=st&&st.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),r=st&&st.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var _ in p)_!=="default"&&Object.prototype.hasOwnProperty.call(p,_)&&e(g,p,_);return n(g,p),g};Object.defineProperty(t,"__esModule",{value:!0}),t.clearChart=t.centerGraph=t.calculateRadius=t.updateDimensions=t.renderChart=t.calculateAngles=t.initChart=void 0;var i=Ar(),a=r(wr()),o=r(yg),u=r(bg),l=r($r),s=function(p){var g=p.dimensions.current.angles,_=JSON.stringify(p.prevProps.current.value)!==JSON.stringify(p.props.value),b=l.isEmptyObject(p.svg.current);if(_&&!b){(0,t.renderChart)(p,!1);return}p.container.current.select("svg").remove(),p.svg.current=p.container.current.append("svg"),p.g.current=p.svg.current.append("g"),p.doughnut.current=p.g.current.append("g").attr("class","doughnut"),(0,t.calculateAngles)(p),p.pieChart.current.value(function(y){return y.value}).startAngle(g.startAngle).endAngle(g.endAngle).sort(null),u.addPointerElement(p),(0,t.renderChart)(p,!0)};t.initChart=s;var c=function(p){var g=p.dimensions.current.angles;p.props.type==i.GaugeType.Semicircle?(g.startAngle=-Math.PI/2+.02,g.endAngle=Math.PI/2-.02):p.props.type==i.GaugeType.Radial?(g.startAngle=-Math.PI/1.37,g.endAngle=Math.PI/1.37):p.props.type==i.GaugeType.Grafana&&(g.startAngle=-Math.PI/1.6,g.endAngle=Math.PI/1.6)};t.calculateAngles=c;var h=function(p,g){var _,b,y,w,x,A;g===void 0&&(g=!1);var $=p.dimensions,N=p.props.arc,k=p.props.labels;if(g){(0,t.updateDimensions)(p),p.g.current.attr("transform","translate("+$.current.margin.left+", 35)"),(0,t.calculateRadius)(p),p.doughnut.current.attr("transform","translate("+$.current.outerRadius+", "+$.current.outerRadius+")"),p.doughnut.current.on("mouseleave",function(){return a.hideTooltip(p)}).on("mouseout",function(){return a.hideTooltip(p)});var P=N.width;$.current.innerRadius=$.current.outerRadius*(1-P),(0,t.clearChart)(p),a.setArcData(p),a.setupArcs(p,g),o.setupLabels(p),!((y=(b=p.props)===null||b===void 0?void 0:b.pointer)===null||y===void 0)&&y.hide||u.drawPointer(p,g);var L=(_={},_[i.GaugeType.Semicircle]=50,_[i.GaugeType.Radial]=55,_[i.GaugeType.Grafana]=55,_),T=p.doughnut.current.node().getBoundingClientRect().height,M=p.container.current.node().getBoundingClientRect().width,S=p.props.type;p.svg.current.attr("width",M).attr("height",T+L[S])}else{var C=JSON.stringify(p.prevProps.current.arc)!==JSON.stringify(p.props.arc),O=JSON.stringify(p.prevProps.current.pointer)!==JSON.stringify(p.props.pointer),D=JSON.stringify(p.prevProps.current.value)!==JSON.stringify(p.props.value),I=JSON.stringify((w=p.prevProps.current.labels)===null||w===void 0?void 0:w.tickLabels)!==JSON.stringify(k.tickLabels),R=C;R&&(a.clearArcs(p),a.setArcData(p),a.setupArcs(p,g));var j=O||D&&!(!((A=(x=p.props)===null||x===void 0?void 0:x.pointer)===null||A===void 0)&&A.hide);j&&u.drawPointer(p),(C||I)&&(o.clearTicks(p),o.setupTicks(p)),D&&(o.clearValueLabel(p),o.setupValueLabel(p))}};t.renderChart=h;var f=function(p){var g=p.props.marginInPercent,_=p.dimensions,b=p.container.current.node().getBoundingClientRect(),y=b.width,w=b.height;_.current.fixedHeight==0&&(_.current.fixedHeight=w+200);var x=typeof g=="number",A=x?g:g.left,$=x?g:g.right,N=x?g:g.top,k=x?g:g.bottom;_.current.margin.left=y*A,_.current.margin.right=y*$,_.current.width=y-_.current.margin.left-_.current.margin.right,_.current.margin.top=_.current.fixedHeight*N,_.current.margin.bottom=_.current.fixedHeight*k,_.current.height=_.current.width/2-_.current.margin.top-_.current.margin.bottom};t.updateDimensions=f;var d=function(p){var g=p.dimensions;g.current.width<2*g.current.height?g.current.outerRadius=(g.current.width-g.current.margin.left-g.current.margin.right)/2:g.current.outerRadius=g.current.height-g.current.margin.top-g.current.margin.bottom+35,(0,t.centerGraph)(p)};t.calculateRadius=d;var m=function(p){var g=p.dimensions;g.current.margin.left=g.current.width/2-g.current.outerRadius+g.current.margin.right,p.g.current.attr("transform","translate("+g.current.margin.left+", "+g.current.margin.top+")")};t.centerGraph=m;var v=function(p){o.clearTicks(p),o.clearValueLabel(p),u.clearPointerElement(p),a.clearArcs(p)};t.clearChart=v})(vg);var _g={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDimensions=t.defaultAngles=t.defaultMargins=void 0,t.defaultMargins={top:0,right:0,bottom:0,left:0},t.defaultAngles={startAngle:0,endAngle:0,startAngleDeg:0,endAngleDeg:0},t.defaultDimensions={width:0,height:0,margin:t.defaultMargins,outerRadius:0,innerRadius:0,angles:t.defaultAngles,fixedHeight:0}})(_g);var ti=st&&st.__assign||function(){return ti=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ti.apply(this,arguments)},_M=st&&st.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wM=st&&st.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ac=st&&st.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&_M(e,t,n);return wM(e,t),e};Object.defineProperty(_i,"__esModule",{value:!0});_i.GaugeComponent=void 0;var $t=ac(U),Ph=Jo,na=Ar(),ra=ac(vg),xM=ac(wr()),Eh=$r,MM=_g,TM=Zo,SM=gg(),wg=function(t){var e,n,r,i,a=(0,$t.useRef)({}),o=(0,$t.useRef)({}),u=(0,$t.useRef)({}),l=(0,$t.useRef)({}),s=(0,$t.useRef)(!0),c=(0,$t.useRef)(0),h=(0,$t.useRef)(ti({},TM.defaultPointerRef)),f=(0,$t.useRef)({}),d=(0,$t.useRef)([]),m=(0,$t.useRef)((0,Ph.pie)()),v=(0,$t.useRef)(ti({},MM.defaultDimensions)),p=(0,$t.useRef)(t),g=(0,$t.useRef)({}),_=(0,$t.useRef)(null),b={props:p.current,prevProps:g,svg:a,g:u,dimensions:v,doughnut:l,isFirstRun:s,currentProgress:c,pointer:h,container:f,arcData:d,pieChart:m,tooltip:o},y=function(){var N,k,P=ti({},na.defaultGaugeProps);if(b.props=p.current=(0,Eh.mergeObjects)(P,t),((N=b.props.arc)===null||N===void 0?void 0:N.width)==((k=na.defaultGaugeProps.arc)===null||k===void 0?void 0:k.width)){var L=p.current.arc;L.width=(0,SM.getArcWidthByType)(b.props.type)}b.props.marginInPercent==na.defaultGaugeProps.marginInPercent&&(p.current.marginInPercent=(0,na.getGaugeMarginByType)(b.props.type)),xM.validateArcs(b)},w=function(){var N=JSON.stringify(g.current.arc)!==JSON.stringify(p.current.arc),k=JSON.stringify(g.current.pointer)!==JSON.stringify(p.current.pointer),P=JSON.stringify(g.current.value)!==JSON.stringify(p.current.value),L=JSON.stringify(g.current.minValue)!==JSON.stringify(p.current.minValue),T=JSON.stringify(g.current.maxValue)!==JSON.stringify(p.current.maxValue);return N||k||P||L||T};(0,$t.useLayoutEffect)(function(){y(),s.current=(0,Eh.isEmptyObject)(f.current),s.current&&(f.current=(0,Ph.select)(_.current)),w()&&ra.initChart(b),b.prevProps.current=p.current},[t]),(0,$t.useEffect)(function(){var N,k=new MutationObserver(function(){var P;setTimeout(function(){return window.dispatchEvent(new Event("resize"))},10),!((P=_.current)===null||P===void 0)&&P.offsetParent&&(ra.renderChart(b,!0),k.disconnect())});return k.observe((N=_.current)===null||N===void 0?void 0:N.parentNode,{attributes:!0,subtree:!1}),function(){return k.disconnect()}},[(n=(e=_.current)===null||e===void 0?void 0:e.parentNode)===null||n===void 0?void 0:n.offsetWidth,(i=(r=_.current)===null||r===void 0?void 0:r.parentNode)===null||i===void 0?void 0:i.offsetHeight]),(0,$t.useEffect)(function(){var N=function(){return ra.renderChart(b,!0)};return window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}},[t]),(0,$t.useEffect)(function(){var N=_.current;if(N){var k=function(){var L=N.parentNode;L&&ra.renderChart(b,!0)},P=new ResizeObserver(k);return N.parentNode&&P.observe(N.parentNode),function(){N.parentNode&&P.unobserve(N.parentNode)}}},[]);var x=t.id,A=t.style,$=t.className;return t.type,$t.default.createElement("div",{id:x,className:"".concat(b.props.type,"-gauge").concat($?" "+$:""),style:A,ref:function(N){return _.current=N}})};_i.GaugeComponent=wg;_i.default=wg;var AM=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});oo.GaugeComponent=void 0;var xg=AM(_i);oo.GaugeComponent=xg.default;oo.default=xg.default;const $M=({percentage:t=0})=>{const a=Math.PI*120,o=a-t/100*a,[u,l]=U.useState(0);U.useEffect(()=>{const v=setInterval(()=>{l(p=>p>=t?(clearInterval(v),t):p+1)},10);return()=>clearInterval(v)},[t]);const s=(v,p=120)=>{const g=v/100*180,_=g*Math.PI/180,b=150+p*Math.cos(Math.PI+_),y=150+p*Math.sin(Math.PI+_);return{x:b,y,angle:g}},c=[{pos:0,color:"#E0517F"},{pos:33,color:"#7B63D6"},{pos:66,color:"#4E94E4"},{pos:100,color:"#54D699"}],h=(v,p)=>{const g=w=>w.replace(/^#/,"").match(/.{2}/g).map(x=>parseInt(x,16)),_=w=>`#${w.map(x=>x.toString(16).padStart(2,"0")).join("")}`,b=(w,x,A)=>w+A*(x-w),y=(w,x,A)=>[Math.round(b(w[0],x[0],A)),Math.round(b(w[1],x[1],A)),Math.round(b(w[2],x[2],A))];for(let w=1;w<p.length;w++)if(v<=p[w].pos){const x=p[w-1],A=p[w],$=A.pos-x.pos,N=(v-x.pos)/$,k=g(x.color),P=g(A.color),L=y(k,P,N);return _(L)}return p[p.length-1].color},f=s(u),d=s(u,120*.65),m=h(t,c);return E.jsxs("div",{style:{position:"relative",width:"100%",height:"150px"},className:"flex flex-col items-center justify-center",children:[E.jsxs("svg",{width:"300",height:"150",children:[E.jsx("path",{d:"M 30,150 A 120,120 0 0,1 270,150",fill:"#F5F5F5",stroke:"none",filter:"url(#drop-shadow)"}),E.jsxs("defs",{children:[E.jsxs("linearGradient",{id:"background-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#E0517F"}),E.jsx("stop",{offset:"33%",stopColor:"#7B63D6"}),E.jsx("stop",{offset:"66%",stopColor:"#4E94E4"}),E.jsx("stop",{offset:"100%",stopColor:"#54D699"})]}),E.jsxs("linearGradient",{id:"progress-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#E0517F"}),E.jsx("stop",{offset:"33%",stopColor:"#7B63D6"}),E.jsx("stop",{offset:"66%",stopColor:"#4E94E4"}),E.jsx("stop",{offset:"100%",stopColor:"#54D699"})]}),E.jsxs("filter",{id:"drop-shadow",x:"-100%",y:"-100%",width:"400%",height:"400%",children:[E.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"8"}),E.jsx("feOffset",{dx:"0",dy:"3"}),E.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.10 0"}),E.jsx("feGaussianBlur",{stdDeviation:"7",result:"glow"}),E.jsxs("feMerge",{children:[E.jsx("feMergeNode",{}),E.jsx("feMergeNode",{in:"glow"}),E.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),E.jsx("path",{d:"M 30,150 A 120,120 0 0,1 270,150",fill:"transparent",stroke:"url(#background-gradient)",strokeWidth:10}),E.jsx("path",{d:"M 30,150 A 120,120 0 0,1 270,150",fill:"transparent",stroke:"url(#progress-gradient)",strokeWidth:10,strokeDasharray:a,strokeDashoffset:o,style:{strokeDashoffset:o,transition:"stroke-dashoffset 1s linear"}}),E.jsx("circle",{cx:f.x,cy:f.y,r:"10",fill:"white",stroke:m,strokeWidth:"7"}),E.jsx("line",{x1:150,y1:150,x2:d.x,y2:d.y,stroke:m,strokeWidth:"7",markerEnd:"url(#arrowhead)"}),E.jsx("defs",{children:E.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto",children:E.jsx("polygon",{points:"0,0 10,5 0,10",fill:m})})}),E.jsx("path",{d:"M 70,150 A 75,75 0 0,1 230,150",fill:"white",stroke:"none",filter:"url(#drop-shadow)"})]}),E.jsxs("div",{style:{position:"absolute",top:"80%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontSize:"1.2em"},children:[E.jsx("h2",{style:{margin:0,fontSize:"1.8em",lineHeight:"0.7",fontWeight:"bold"},className:"text-2xl",children:u}),E.jsx("p",{style:{margin:0},className:"text-sm",children:"Health Score"})]})]})};function CM(){var s,c,h,f,d,m,v,p,g,_,b,y,w,x;const{sleepData:t,elderlyDetails:e}=U.useContext(Nn),[n,r]=U.useState(!1),i={合格:"Pass",不合格:"Fail",睡眠时长偏少:"Sleep duration is too short"},[a,o]=U.useState([]),u=A=>{const $={};return A==null||A.forEach(N=>{const{category:k}=N;$[k]||($[k]=[]),$[k].push(N)}),$};U.useEffect(()=>{o(u(e.comments))},[e]);const l=(A="")=>{var N,k,P,L;const $=A==null?void 0:A.split(" ");return`${((k=(N=$[0])==null?void 0:N[0])==null?void 0:k.toUpperCase())||""}${((L=(P=$[1])==null?void 0:P[0])==null?void 0:L.toUpperCase())||""}`};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-col gap-5",children:[E.jsxs("div",{className:"overflow-hidden relative flex flex-col gap-0 !text-text-primary rounded-2xl ",children:[E.jsx("div",{id:"profileHeader",className:"z-50 flex flex-col items-start justify-start gap-4 rounded-t-2xl p-6 w-full bg-white",children:E.jsxs("div",{className:"flex items-start gap-4 w-full",children:[E.jsxs("span",{className:"relative flex h-[80px] w-[80px]",children:[NM.status!=="normal",E.jsx("span",{className:"relative rounded-full h-[80px] w-[80px] bg-green-500 border-green-500 !border-0 flex items-center justify-center overflow-hidden border-0 bg-[#80CAA7] font-semibold text-3xl text-white",children:l(e==null?void 0:e.name)}),E.jsx("div",{id:"age",className:"absolute -bottom-1 -right-1",children:E.jsx("p",{className:"text-sm text-text-white/70 px-1.5 py-1.5 rounded-full font-semibold leading-none border-2 border-white/20 border-inner",style:{backgroundColor:"white",border:"1px solid #E0E0E0"},children:e==null?void 0:e.age})})]}),E.jsxs("div",{id:"elderlyNameAndAddress",className:"pt-4",children:[E.jsx("h1",{className:"text-[24px] font-bold",children:e==null?void 0:e.name}),E.jsx("div",{id:"addresandGoogleMapButton",className:"flex items-center gap-2 md:flex-row flex-col",children:E.jsx(uc,{title:"View on Google Map",children:E.jsx("a",{href:`https://www.google.com/maps?q=${e.latitude},${e.longitude}`,target:"_blank",className:"cursor-pointer font-normal hover:text-text-primary transition-all duration-300 text-[17px] text-text-primary/80 flex items-center gap-1",children:e==null?void 0:e.address})})})]})]})}),E.jsx("div",{id:"healthScoreGauge",className:" items-center justify-center flex flex-col bg-white rounded-b-2xl",children:E.jsx("div",{className:"w-[340px] relative",children:E.jsx($M,{percentage:t==null?void 0:t.score})})}),E.jsxs("div",{className:" w-full grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-3 mt-4",children:[E.jsx(Xn,{score:(t==null?void 0:t.ahi)||"--",label:"AHI Index",status:i[(s=t==null?void 0:t.evaluation)==null?void 0:s.ahi_unqualified_evaluation]}),E.jsx(Xn,{score:Jg(t==null?void 0:t.sleep_total_time),label:"Sleep Duration",status:i[(c=t==null?void 0:t.evaluation)==null?void 0:c.sleep_duration_evaluation]}),E.jsx(Xn,{score:t!=null&&t.sleep_quality?(t==null?void 0:t.sleep_quality)+"%":"--",label:"Deep Sleep (%)",status:i[(h=t==null?void 0:t.evaluation)==null?void 0:h.sleep_deep_ratio_evaluation]}),E.jsx(Xn,{score:(t==null?void 0:t.leave_bed_count)>=0?(t==null?void 0:t.leave_bed_count)+"x":"--",label:"Bed-Exit at Night",status:i[(f=t==null?void 0:t.evaluation)==null?void 0:f.sleep_leave_bed_evaluation]}),E.jsx(Xn,{score:(d=t==null?void 0:t.breath_rate_vo)!=null&&d.avg?((m=t==null?void 0:t.breath_rate_vo)==null?void 0:m.avg)+" BPM":"--",label:"Avg. Breath Rate",status:(v=t==null?void 0:t.breath_rate_vo)!=null&&v.avg?((p=t==null?void 0:t.breath_rate_vo)==null?void 0:p.avg)>=12&&((g=t==null?void 0:t.breath_rate_vo)==null?void 0:g.avg)<=30?"Pass":"Fail":"--"}),E.jsx(Xn,{score:(_=t==null?void 0:t.heart_rate_vo)!=null&&_.avg?((b=t==null?void 0:t.heart_rate_vo)==null?void 0:b.avg)+" BPM":"--",label:"Avg. Heart Rate",status:t!=null&&t.heart_rate_vo?((y=t==null?void 0:t.heart_rate_vo)==null?void 0:y.avg)>=60&&((w=t==null?void 0:t.heart_rate_vo)==null?void 0:w.avg)<=100?"Pass":"Fail":"--"})]})]}),E.jsxs("div",{id:"elderlyDiseasesAllergies",className:" flex flex-col gap-6 bg-white rounded-2xl p-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-lg font-bold text-text-primary leading-none flex items-center gap-2",children:"Health Conditions"}),E.jsx(uc,{title:"Edit Health Conditions",children:E.jsx(ma,{onClick:()=>r(!0),shape:"circle",icon:E.jsx(Ig,{})})})]}),E.jsxs("div",{id:"elderlyDiseasesAllergiesMedications",className:"mt-3 flex flex-col gap-6",children:[E.jsxs("div",{id:"elderlyDiseases",className:"flex flex-col gap-2",children:[E.jsxs("p",{className:"text-base font-semibold text-[#7E60BF] leading-none flex items-center gap-2",children:[E.jsx("div",{id:"dot",className:"w-2 h-2 bg-[#7E60BF] rounded-full"})," ","Diseases"]}),E.jsx("ul",{className:"list-none list-inside flex flex-wrap gap-2",children:(x=e==null?void 0:e.diseases)==null?void 0:x.map((A,$)=>E.jsx("li",{className:"text-base font-medium p-1 px-3 bg-[#F5F3FF] rounded-lg",children:A},$))})]}),Object.keys(a).map((A,$)=>E.jsxs("div",{id:"elderlyDiseases",className:"flex flex-col gap-2",children:[E.jsxs("p",{className:`text-base font-semibold ${A==="Allergies"?"text-[#4ca6cf]":A==="Disabilities"?"text-[#f37f13]":"text-[#0a0a2b]"}  leading-none flex items-center gap-2 mb-2`,children:[E.jsx("div",{id:"dot",className:`w-2 h-2 ${A==="Allergies"?"bg-[#4ca6cf]":A==="Disabilities"?"bg-[#f37f13]":"bg-[#0a0a2b]"}  rounded-full`})," ",A]}),E.jsx("ul",{className:"list-none list-inside flex flex-wrap gap-2",children:Array.isArray(a[A])?a[A].map((N,k)=>E.jsx("li",{className:`text-base font-medium p-1 px-3 ${A==="Allergies"?"bg-[#4ca6cf]/10":A==="Disabilities"?"bg-[#f37f13]/10":"bg-[#0a0a2b]/10"} rounded-lg`,children:N.comment},k)):E.jsx("p",{children:"No Comments"})})]},$))]})]}),E.jsx(Hm,{})]}),E.jsx(tm,{modalOpen:n,setModalOpen:r,mode:"edit",diseases:e==null?void 0:e.diseases,custom_condition:e==null?void 0:e.comments,elderly_id:e==null?void 0:e._id})]})}const Xn=({score:t,label:e,status:n})=>E.jsxs("div",{id:"score",className:"relative flex items-cente rounded-2xl p-4 gap-1 justify-center overflow-hidden bg-white",children:[E.jsx("div",{id:"lineBar",className:`size-4  rounded-full ${n==="Pass"?"bg-[#03b300]":n==="Fail"?"bg-[#ff0000]":"bg-[#494949]"} absolute -top-[6px] left-[50%] transform -translate-x-[50%]`}),E.jsxs("div",{className:"flex flex-col justify-center gap-1 items-center ",children:[E.jsx("div",{id:"scroe",className:"text-text-primary text-[20px]  font-bold leading-none  text-center",children:t}),E.jsx("span",{className:"text-text-primary/70 text-[14px] leading-none font-normal text-center",children:e})]})]}),NM={name:"John Deo",address:"123 Main St, Anytown, USA",contactPerson:"+9952654987",cordinates:[45,-73],age:65,height:"170",gender:"Male",diseases:["Diabetes","Hypertension"],allergies:["Peanuts"],custom_condition:[],status:"normal"};function kM(){const{sleepData:t}=U.useContext(Nn);return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl bg-white p-6 w-full",children:[E.jsx("div",{className:"text-[24px] font-bold",children:"Timeline"}),E.jsx("div",{className:"w-full",children:E.jsx(um,{statisticalData:t==null?void 0:t.statistical_data,alarmEvents:t==null?void 0:t.alarm_events})})]})})}function PM(t){const{rolesFormatter:e}=U.useContext(Lg),n=jh(),r=Math.floor(Math.random()*1e6),i=s=>{window.scrollTo(0,0),n(`/supporter/elderlies/elderly-profile/${r}?tab=overview`)},a={activeAlertsTableData:["alertName","alertType","elderlyName","roomName","incidentTime","alertLifetime","address","viewElderly"],recentlyClosedAlertsTableData:["alertName","alertType","elderlyName","roomName","incidentTime","alertLifetime","closedAt","closedBy","address","viewElderly"],eventsTableData:["eventName","elderlyName","eventTime","eventTimeline","hospital","expandColumn","largeText","disabilityType","action"]},o={alertName:{title:"Alert Name",render:s=>E.jsx(sm,{data:s})},alertType:{title:"Alert Type",dataIndex:"event",render:s=>E.jsx("span",{children:Zg(s)})},elderlyName:{title:"Elderly Name",dataIndex:"elderly_name",render:s=>E.jsx("span",{children:s})},roomName:{title:"Room Name",dataIndex:"room_name",render:s=>E.jsx("span",{children:s})},incidentTime:{title:"Incident Time",dataIndex:"created_at",render:s=>E.jsx("span",{className:"text-nowrap",children:Du(s)})},alertLifetime:{title:"Alert Life",dataIndex:"closed_at",render:s=>E.jsx("span",{className:"text-nowrap",children:Ih(s)})},alertStatus:{title:"Alert Status",dataIndex:"status",render:s=>E.jsx("span",{className:"text-nowrap",children:s==0?"True Alert":"False Alert"})},address:{title:"Address",width:"230px",render:s=>E.jsx("span",{className:"!w-[230px] text-nowrap",children:s.address})},closedAt:{title:"Closed At",dataIndex:"closed_at",render:s=>E.jsx("span",{className:"text-nowrap",children:Du(s)})},closedBy:{title:"Closed By",render:s=>E.jsxs("span",{className:"text-nowrap",children:[s.closed_by," (",e[s.closed_by_role]," )"]})},eventName:{title:"Event Name",dataIndex:"eventName",render:s=>E.jsx("span",{children:s})},eventTime:{title:"Event Time",dataIndex:"time",render:s=>E.jsx("span",{className:"text-nowrap",children:s})},eventTimeline:{title:"Event Timeline",dataIndex:"alertLifetime",render:s=>E.jsx("span",{className:"text-nowrap",children:s})},disabilityType:{title:"Disability Type",dataIndex:"disabilityType",render:s=>E.jsx("span",{className:"text-nowrap",children:s})},hospital:{title:"Hospital",dataIndex:"hospital",render:s=>E.jsx("span",{className:"text-nowrap",children:s.name.length>20?`${s.name.substring(0,20)}...`:s.name})},largeText:{title:()=>{switch(t){case"events":return"Additional Info";default:return""}},render:s=>E.jsx(cm,{data:s.additionalInfo,title:"Additional Info"})},expandColumn:zg.EXPAND_COLUMN,viewElderly:{render:s=>E.jsxs("span",{onClick:()=>i(),className:"flex items-center transition-all duration-300 justify-center gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md  text-center hover:bg-slate-100",children:["View ",E.jsx(Dg,{})]})},action:{title:"Action",render:s=>E.jsx(lm,{row:s})}},[u,l]=U.useState(void 0);return U.useEffect(()=>{{const s=a.recentlyClosedAlertsTableData.map(c=>o[c]);l(s)}},[]),u}function EM(){const t=jh(),e=Bg(),n=PM("recentlyClosedAlert"),r=()=>{t(`${e.pathname}?tab=alertHistory`,{replace:!0})},[i,a]=U.useState([]),[o,u]=U.useState(1),[l,s]=U.useState(0),c=U.useCallback(()=>{Oh({to_date:"2024-11-30",from_date:Oe().format("YYYY-MM-DD"),is_resolved:!0,page:o}).then(h=>{s(h.total),h.data.length>0&&a(h.data)}).catch(h=>{console.log(h)})},[o]);return U.useEffect(()=>{c()},[c]),E.jsx(E.Fragment,{children:E.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[E.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[E.jsx("h1",{className:"text-[24px] font-bold",children:"Recently Closed Alerts"}),E.jsx("div",{children:E.jsx(ma,{onClick:r,className:"",size:"large",icon:E.jsx(Fg,{}),children:"View Alert History"})})]}),E.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:E.jsx(Vg.Provider,{value:{total:l,page:1,SetPage:u,limit:6},children:E.jsx(Gg,{tableData:i,columns:n})})})]})})}function RM({data:t=[]}){return E.jsx(E.Fragment,{children:E.jsx("div",{className:"flex items-center justify-center gap-4 h-full w-full border border-gray-200 rounded-2xl overflow-hidden",children:(t==null?void 0:t.mount_type)===1?E.jsx(fm,{roomInfo:t}):E.jsx(hm,{roomInfo:t})})})}function jM({activeKey:t,onTabClick:e,tabs:n=[]}){return E.jsx(E.Fragment,{children:E.jsx("div",{className:"flex flex-col items-center justify-start gap-4 w-full !border-none  overflow-y-auto ",children:n==null?void 0:n.map(r=>E.jsx("div",{className:`tab-button flex items-center rounded-xl w-full gap-2 p-4 cursor-pointer border-2 border-transparent !h-[160px] relative ${t===r._id.toString()?"activeTab border-2 !border-[#43B981]":"bg-black/5"}`,onClick:()=>e(r._id.toString()),children:E.jsxs("div",{id:"roomNmaeAndStatus",className:"flex items-center gap-2 w-fit bg-white pr-4 py-1.5 border border-gray-200 p-2 rounded-full absolute bottom-2 left-2",children:[E.jsx("div",{id:"dot",className:"size-3 rounded-full",style:{backgroundColor:r.is_device_bind===!0?"green":"red"}}),E.jsx("p",{children:r.name})]})},r._id))})})}const{TabPane:OM}=Lh;function IM(){var e;const{elderlyDetails:t}=U.useContext(Nn);return E.jsxs("div",{className:"rounded-2xl bg-white flex flex-col gap-4 items-center justify-center w-full p-4 ",children:[E.jsx("div",{className:"flex items-center justify-between w-full ",children:E.jsx("h1",{className:"text-2xl font-bold",children:"Live Room Map"})}),E.jsx(Lh,{tabPosition:"left",defaultActiveKey:"1",renderTabBar:(n,r)=>{var i;return E.jsx("div",{className:" w-[24%] h-[500px] overflow-y-auto !border-none",children:E.jsx(jM,{...n,tabs:(i=t==null?void 0:t.rooms)==null?void 0:i.filter(a=>a.is_device_bind)})})},className:"w-full",children:(e=t==null?void 0:t.rooms)==null?void 0:e.filter(n=>n==null?void 0:n.is_device_bind).map(n=>E.jsx(OM,{tab:n._id,className:"",children:E.jsx("div",{className:"w-full h-[500px]",children:E.jsx(RM,{data:n})},n.id)},n._id))})]})}function LM(){const{elderlyDetails:t}=U.useContext(Nn),e=t==null?void 0:t.deviceId,[n,r]=U.useState({time:[],heartRate:[],breathRate:[]}),[i,a]=U.useState(null),[o,u]=U.useState(Date.now()),l=s=>{const c=Kg(s);a(c),u(Date.now())};return U.useEffect(()=>{const s=setInterval(()=>{if(Date.now()-o>5e3)a(null),r({time:[],heartRate:[],breathRate:[]});else if(i){const f=new Date().toLocaleTimeString();r(d=>({time:[...d.time,f].slice(-30),heartRate:[...d.heartRate,i.heartRateValue].slice(-30),breathRate:[...d.breathRate,i.breathingValue].slice(-30)}))}},1e3);return()=>clearInterval(s)},[i,o]),U.useEffect(()=>{const s=new WebSocket("wss://live.elderlycareplatform.com/ws/");return s.onopen=()=>{console.log("Connected to WebSocket server")},s.onmessage=c=>{var d;const h=JSON.parse(c==null?void 0:c.data),f=(d=JSON.parse(h==null?void 0:h.message))==null?void 0:d.payload;(f==null?void 0:f.deviceCode)===e&&(f!=null&&f.heartbreath)&&l(f.heartbreath)},s.onerror=c=>{},s.onclose=()=>{console.log("Disconnected from WebSocket server")},()=>s.close()},[e]),E.jsxs("div",{className:"w-full flex gap-4",children:[E.jsxs("div",{className:"w-full flex flex-col bg-[#6e77eb] pb-0 gap-4 justify-between rounded-xl pt-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 text-white",children:[E.jsxs("p",{className:"text-base font-medium flex items-center gap-2",children:[E.jsx(Hg,{size:20})," Realtime Heart Rate"]}),E.jsxs("h1",{className:"text-2xl font-bold",children:[(i==null?void 0:i.heartRateValue)??"--"," ",E.jsx("span",{className:"text-sm text-white/70 font-normal",children:"/BPM"})]})]}),E.jsx(cc,{data:n})]}),E.jsxs("div",{className:"w-full flex flex-col bg-[#32c1c1] pb-0 gap-4 justify-between rounded-xl pt-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 text-white",children:[E.jsxs("p",{className:"text-base font-medium flex items-center gap-2",children:[E.jsx(Yg,{size:20})," Realtime Breath Rate"," "]}),E.jsxs("h1",{className:"text-2xl font-bold",children:[(i==null?void 0:i.breathingValue)??"--"," ",E.jsx("span",{className:"text-sm text-white/70 font-normal",children:"/BPM"})]})]}),E.jsx(cc,{data:n})]})]})}const zM=t=>E.jsx("img",{src:gm,alt:"wake-up",width:t,height:t}),DM=t=>E.jsx("img",{src:mm,alt:"get-up",width:t,height:t});function BM(){const{sleepData:t}=U.useContext(Nn),e=[{label:"Go To Bed",color:"#35CECE",value:zn(t==null?void 0:t.get_bed_idx),icon:E.jsx(dm,{size:20,color:"#35CECE"}),initial:{x:-50,y:-50},delay:.2},{label:"Fall Asleep",color:"#FF6734",value:zn(t==null?void 0:t.sleep_st_idx),icon:E.jsx(pm,{size:20,color:"#FF6734"}),initial:{x:50,y:-50},delay:.2},{label:"Wake Up",color:"#8088FD",value:zn(t==null?void 0:t.sleep_ed_idx)!=="--"?"After "+zn(t==null?void 0:t.sleep_ed_idx):"--",icon:zM(20),initial:{x:-50,y:50},delay:.2},{label:"Get Up",color:"#ecb81c",value:zn(t==null?void 0:t.leave_bed_idx)!=="--"?"After "+zn(t==null?void 0:t.leave_bed_idx):"--",icon:DM(20),initial:{x:50,y:50},delay:.2}];return E.jsx("div",{className:"bg-white rounded-2xl p-6 h-full flex flex-col gap-4",children:E.jsx("div",{className:"relative w-full flex justify-evenly h-full",children:e.map((n,r)=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 w-full",children:[E.jsx("div",{id:"icon",className:"w-10 h-10 flex items-center justify-center rounded-lg",style:{backgroundColor:`${n.color}27`},children:n.icon}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("div",{className:"text-2xl font-bold text-primary",children:n.value}),E.jsx("div",{className:"text-sm font-medium text-primary",children:n.label})]})]},r),r<e.length-1&&E.jsx("div",{className:"w-[1px] bg-gray-200 h-full"})]}))})})}function xT(){const{elderlyDetails:t}=U.useContext(Nn);return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex flex-col gap-2 mt-4 w-full",children:[E.jsx(Bm,{elderlyId:t==null?void 0:t._id}),E.jsxs("div",{className:"flex gap-6 w-full",children:[E.jsxs("div",{id:"ElderlyActivities",className:"w-[67%] flex flex-col gap-6 ",children:[E.jsx(BM,{}),E.jsx(LM,{}),E.jsx(kM,{}),E.jsx(IM,{}),E.jsx(EM,{})]}),E.jsx("div",{id:"elderlyProfile",className:"w-[45%] md:w-[33%] lg:w-[33%]",children:E.jsx(CM,{})})]})]})})}export{xT as default};
