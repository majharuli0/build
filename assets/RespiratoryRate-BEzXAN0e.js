import{r as e,d as u,fx as T,j as f}from"./index-C2rC2gQB.js";import j from"./RateChart-fi3KsgpN.js";import{T as M}from"./Template-CNfyG_MY.js";import{g as b}from"./utiles-BV4QtNzP.js";import{C as A}from"./UseCustomContext-DCXS3wNJ.js";import"./index-XCmpYI5h.js";import"./WeeklyMonthlyPicker-CF-DKFDa.js";import"./SwapRightOutlined-BV_tvTCc.js";import"./weekOfYear-BjTNn68d.js";import"./index-B38gNzAV.js";import"./weekday-Dhcqh1Db.js";import"./helper-DwJfSDN4.js";import"./index-D1NB5jsY.js";import"./index-BQUYvuA_.js";import"./index-CKZQk7k_.js";import"./index-k6kFyTZu.js";import"./index-CIYHB06R.js";function O({isSummaryBtn:B=!0}){const h=e.useContext(A),[D,x]=e.useState([]),{chartToDate:r="",chartFromDate:i="",elderlyDetails:o={}}=h||{},[s,d]=e.useState(u().subtract(1,"day").format("YYYY-MM-DD")),[c,l]=e.useState(u().subtract(7,"day").format("YYYY-MM-DD")),{title:E,color:p,icon:y,dataAnalysis:R,summaryProps:g}=b("Respiratory Rate"),n=e.useCallback(()=>{T({uids:o==null?void 0:o.deviceId,to_date:c,from_date:s}).then(m=>{const t=m.data,Y={xdata:t==null?void 0:t.map(a=>a.date),maxArray:t==null?void 0:t.map(a=>a.max),minArray:t==null?void 0:t.map(a=>a.min),allAvgNumber:Math.round((t==null?void 0:t.reduce((a,C)=>a+C.avg,0))/t.length)};x(Y)}).catch(m=>{console.log(m)})},[s,r,o]);return e.useEffect(()=>{n()},[n]),e.useEffect(()=>{r&&i&&(d(r),l(i))},[r]),f.jsx(M,{title:r?"Breath Rate":"Breath Rate (7 days)",color:p,icon:y,dataAnalysis:R,summaryProps:g,children:f.jsx(j,{dateType:"Week",color:p,cheartInfo:D,fromDate:c,toDate:s})})}export{O as default};
