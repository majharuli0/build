{"version":3,"mappings":";8dASA,KAAM,CAAE,WAAAA,GAAeC,EACjBC,EAAmBC,OAAK,UAAM,OAAO,gCAA+B,qCAAC,EACrEC,EAAcD,OAAK,UAAM,OAAO,2BAA0B,qCAAC,EAC3DE,EAAoBF,OAAK,UAAM,OAAO,iCAAgC,8CAAC,EACvEG,EAAuBH,OAAK,IAAAI,EAAA,IAChC,OAAO,oCAAmC,8CAC5C,EACMC,EAAsBL,OAAK,IAAAI,EAAA,IAC/B,OAAO,mCAAkC,8CAC3C,EACME,EAAkCN,OAAK,IAAAI,EAAA,IAC3C,OAAO,+CAA8C,8CACvD,EACMG,EAA+BP,OAAK,IAAAI,EAAA,IACxC,OAAO,4CAA2C,8CACpD,EACMI,EAAyBR,OAAK,IAAAI,EAAA,IAClC,OAAO,sCAAqC,8CAC9C,EACMK,EAAsBT,OAAK,IAAAI,EAAA,IAC/B,OAAO,mCAAkC,2CAC3C,EACMM,EAAyBV,OAAK,IAAAI,EAAA,IAClC,OAAO,sCAAqC,8CAC9C,EACMO,EAA2BX,OAAK,IAAAI,EAAA,IACpC,OAAO,wCAAuC,2CAChD,EACMQ,EAA2BZ,OAAK,IAAAI,EAAA,IACpC,OAAO,wCAAuC,8CAChD,EACMS,EAA6Bb,OAAK,IAAAI,EAAA,IACtC,OAAO,0CAAyC,8CAClD,EACMU,EAA4Bd,OAAK,IAAAI,EAAA,IACrC,OAAO,yCAAwC,8CACjD,EACMW,EAAiCf,OAAK,IAAAI,EAAA,IAC1C,OAAO,8CAA6C,8CACtD,EACMY,EAA6BhB,OAAK,IAAAI,EAAA,IACtC,OAAO,0CAAyC,2CAClD,EAC2BJ,OAAK,IAAAI,EAAA,IAC9B,OAAO,kCAAiC,4BAC1C,EACwBJ,OAAK,UAAM,OAAO,+BAA8B,+BAAC,EACzE,MAAMiB,EAAWjB,OAAK,IAAAI,EAAA,IAAM,OAAO,wBAAqC,4BAAC,EAIzE,SAASc,EAAa,CAAE,OAAAC,EAAS,IAAK,SAAAC,EAAU,UAAAC,GAAa,CAC3D,aACG,OAAI,UAAW,MAAMF,CAAM,OAAOE,CAAS,GAC1C,SAAAC,MAACC,WAAA,CAAS,SAAUD,MAAC,OAAI,sBAAU,EAAS,SAAAF,EAAS,EACvD,CAEJ,CACA,SAAwBI,GAAW,CACjC,MAAMC,EAAU,CACd,CACE,MAAO,uBACP,MAAO,IACP,SAAU,CACR,CACE,MAAO,0BACP,MAAO,YAET,CACE,MAAO,wBACP,MAAO,wBAET,CACE,MAAO,yBACP,MAAO,uBAET,CACE,MAAO,uBACP,MAAO,0BAET,CACE,MAAO,iCACP,MAAO,gCAET,CACE,MAAO,+BACP,MAAO,kCACT,CACF,EAEF,CACE,MAAO,cACP,MAAO,IACP,SAAU,CACR,CACE,MAAO,qCACP,MAAO,uBAET,CACE,MAAO,wCACP,MAAO,yBACT,CACF,EAEF,CACE,MAAO,WACP,MAAO,IACP,SAAU,CACR,CACE,MAAO,6BACP,MAAO,4BAET,CACE,MAAO,8BACP,MAAO,4BAET,CACE,MAAO,wBACP,MAAO,6BACT,CACF,EAEF,CACE,MAAO,gBACP,MAAO,IACP,SAAU,CACR,CACE,MAAO,uBACP,MAAO,6BACT,CACF,EAEF,CACE,MAAO,cACP,MAAO,IACP,SAAU,CACR,CACE,MAAO,6BACP,MAAO,kCAET,CACE,MAAO,+BACP,MAAO,4BACT,CACF,CACF,EAEI,CAACC,EAAgBC,CAAiB,EAAIC,WAAS,EAAE,EACjDC,EAAwBC,GAAU,CACtC,MAAMC,EAAkBD,EAAM,IAAKE,GAASA,EAAKA,EAAK,OAAS,CAAC,CAAC,EACjE,QAAQ,IAAI,6BAA8BD,CAAe,EACzDJ,EAAkBI,CAAe,CACnC,EACM,CAAE,YAAAE,CAAA,EAAgBC,EAAA,EAElB,CAAE,UAAAC,EAAW,iBAAAC,GAAqBC,aAAWC,CAAa,EAC1DC,EAAcT,GAEdJ,EAAe,SAAW,EAAU,GACzBA,EAAe,SAASI,CAAK,EAGxCU,EAAW,CACf,MAAOC,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,EAClB,MAAOA,SAAO,IAAI,GAGpBC,mBAAU,IAAM,CACd,OAAO,KAAKF,CAAQ,EAAE,QAASG,GAAQ,CACjCH,EAASG,CAAG,EAAE,SAChBV,EAAY,aAAeU,EAAKH,EAASG,CAAG,CAAC,CAEjD,CAAC,CACH,EAAG,CAACV,CAAW,CAAC,EAEdW,OAAC,OAAI,UAAU,kCACb,UAAAA,OAAC,OACC,GAAG,gBACH,UAAU,qDAEV,UAAAtB,MAAC,OACC,GAAG,kBACH,IAAKkB,EAAS,MACd,UAAU,oBAET,SAAAJ,EACCd,MAACuB,EAAA,EAAwB,QAExBtB,WAAA,CAAS,SAAUD,MAAC,OAAI,sBAAU,EACjC,SAAAsB,OAAC,OAAI,UAAU,4DACb,UAAAtB,MAAC,MAAG,UAAU,+CAA+C,0BAE7D,EACAA,MAACL,EAAA,CACC,UAAWkB,GAAA,YAAAA,EAAW,wBACtB,WAAYA,GAAA,YAAAA,EAAW,OACzB,EACF,EACF,IAGJb,MAAC,OACC,GAAG,yBACH,UAAU,gEAEV,SAAAA,MAAC,OAAI,IAAKkB,EAAS,MAAO,UAAU,SAClC,SAAAlB,MAACrB,EAAA,EAAY,EACf,GAKF,IAEFqB,MAAC,OAAI,IAAKkB,EAAS,MACjB,SAAAlB,MAACJ,EAAA,CAAa,OAAQ,OACpB,SAAAI,MAACvB,EAAA,EAAiB,EACpB,EACF,EAMA6C,OAAC,OACC,IAAKJ,EAAS,MACd,UAAU,6EAEV,UAAAlB,MAAC,MAAG,UAAU,6CAA6C,4BAE3D,EACAA,MAACwB,EAAA,CACC,MAAO,CACL,MAAO,CACL,WAAY,SACZ,aAAc,UACd,gBAAiB,UACjB,eAAgB,UAChB,UAAW,UACb,EAGF,SAAAxB,MAACxB,EAAA,CACC,MAAO,CACL,MAAO,SAET,QAAA2B,EACA,YAAY,2BACZ,SAAQ,GACR,YAAY,aACZ,KAAK,QACL,oBAAqB5B,EACrB,SAAUgC,EACV,aAAcH,CAAA,EAChB,EACF,IAEFkB,OAAC,OAAI,UAAU,uDACZ,UAAAL,EAAW,UAAU,GACpBjB,MAACJ,EAAA,CACC,SAAAI,MAACpB,IAAkB,EACrB,EAEDqC,EAAW,sBAAsB,SAC/BrB,EAAA,CACC,SAAAI,MAACnB,IAAqB,EACxB,EAEDoC,EAAW,qBAAqB,SAC9BrB,EAAA,CACC,SAAAI,MAACjB,IAAoB,EACvB,EAEDkC,EAAW,wBAAwB,SACjCrB,EAAA,CACC,SAAAI,MAACd,IAAuB,EAC1B,EAED+B,EAAW,8BAA8B,SACvCrB,EAAA,CACC,SAAAI,MAACf,IAA6B,EAChC,EAEDgC,EAAW,iCAAiC,SAC1CrB,EAAA,CACC,SAAAI,MAAChB,IAAgC,EACnC,EAEDiC,EAAW,qBAAqB,SAC9BrB,EAAA,CACC,SAAAI,MAACb,IAAoB,EACvB,EAED8B,EAAW,wBAAwB,SACjCrB,EAAA,CACC,SAAAI,MAACZ,IAAuB,EAC1B,EAED6B,EAAW,0BAA0B,SACnCrB,EAAA,CACC,SAAAI,MAACX,IAAyB,EAC5B,EAED4B,EAAW,0BAA0B,SACnCrB,EAAA,CACC,SAAAI,MAACV,IAAyB,EAC5B,EAED2B,EAAW,4BAA4B,GACtCjB,MAACJ,GAAa,UAAU,aACtB,SAAAI,MAACT,EAAA,EAA2B,EAC9B,EAED0B,EAAW,4BAA4B,GACtCjB,MAACJ,GAAa,UAAU,aACtB,SAAAI,MAACN,EAAA,EAA2B,EAC9B,EAEDuB,EAAW,2BAA2B,SACpCrB,EAAA,CACC,SAAAI,MAACR,IAA0B,EAC7B,EAEDyB,EAAW,gCAAgC,SACzCrB,EAAA,CACC,SAAAI,MAACP,IAA+B,EAClC,GAEJ,GACF,CAEJ,CAEO,MAAMgC,EAAsB,CACjC,CACE,MAAO,kBACP,MAAO,GACP,SAAU,cAEZ,CACE,MAAO,wBACP,MAAO,GACP,SAAU,cAEZ,CACE,MAAO,oBACP,MAAO,EACP,SAAU,SAEZ,CACE,MAAO,0BACP,MAAO,EACP,SAAU,QAEd,EACMF,EAA0B,IAE5BD,OAAC,OAAI,UAAU,6EAEb,UAAAtB,MAAC,MAAG,UAAU,+CAA+C,uBAE7D,EAEAA,MAAC,OACC,UAAU,eACV,MAAO,CACL,MAAO,QACP,OAAQ,QACR,gBAAiB,UACjB,OAAQ,oBACR,aAAc,MACd,UAAW,SACb,EACF,EACF","names":["SHOW_CHILD","Cascader","SleepingTimeline","lazy","SleepEvents","DurationStatistic","DurationDistribution","__vitePreload","EfficiencyStatistic","DeepSleepPercentageDistribution","DeepSleepPercentageStatistic","EfficiencyDistribution","ApneaIndexStatistic","ApneaIndexDistribution","BedExitDurationStatistic","NumberOfBedExitStatistic","DistributionOfBedExitTimes","TimeToFallAsleepStatistic","DistributionOfTimeToFallAsleep","DistributionOfDailyRoutine","PieChart","ChartWrapper","height","children","className","jsx","Suspense","SleepTab","options","selectedValues","setSelectedValues","useState","handleCascaderChange","value","flattenedValues","path","registerRef","useRefContext","sleepData","sleepDataLoading","useContext","CustomContext","isSelected","stepsRef","useRef","useEffect","key","jsxs","SkeletonSleepScoreGraph","ConfigProvider","SleepScoreTailsData"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Components/TabContents/Sleep/SleepTab.jsx"],"sourcesContent":["import React, {\n  lazy,\n  Suspense,\n  useState,\n  useEffect,\n  useContext,\n  useRef,\n} from \"react\";\nimport { Cascader, ConfigProvider } from \"antd\";\nconst { SHOW_CHILD } = Cascader;\nconst SleepingTimeline = lazy(() => import(\"./Components/SleepingTimeline\"));\nconst SleepEvents = lazy(() => import(\"./Components/SleepEvents\"));\nconst DurationStatistic = lazy(() => import(\"./Components/DurationStatistic\"));\nconst DurationDistribution = lazy(() =>\n  import(\"./Components/DurationDistribution\")\n);\nconst EfficiencyStatistic = lazy(() =>\n  import(\"./Components/EfficiencyStatistic\")\n);\nconst DeepSleepPercentageDistribution = lazy(() =>\n  import(\"./Components/DeepSleepPercentageDistribution\")\n);\nconst DeepSleepPercentageStatistic = lazy(() =>\n  import(\"./Components/DeepSleepPercentageStatistic\")\n);\nconst EfficiencyDistribution = lazy(() =>\n  import(\"./Components/EfficiencyDistribution\")\n);\nconst ApneaIndexStatistic = lazy(() =>\n  import(\"./Components/ApneaIndexStatistic\")\n);\nconst ApneaIndexDistribution = lazy(() =>\n  import(\"./Components/ApneaIndexDistribution\")\n);\nconst BedExitDurationStatistic = lazy(() =>\n  import(\"./Components/BedExitDurationStatistic\")\n);\nconst NumberOfBedExitStatistic = lazy(() =>\n  import(\"./Components/NumberOfBedExitStatistic\")\n);\nconst DistributionOfBedExitTimes = lazy(() =>\n  import(\"./Components/DistributionOfBedExitTimes\")\n);\nconst TimeToFallAsleepStatistic = lazy(() =>\n  import(\"./Components/TimeToFallAsleepStatistic\")\n);\nconst DistributionOfTimeToFallAsleep = lazy(() =>\n  import(\"./Components/DistributionOfTimeToFallAsleep\")\n);\nconst DistributionOfDailyRoutine = lazy(() =>\n  import(\"./Components/DistributionOfDailyRoutine\")\n);\nconst DataAnalysisSlider = lazy(() =>\n  import(\"./Components/DataAnalysisSlider\")\n);\nconst SleepScoreTails = lazy(() => import(\"./Components/SleepScoreTails\"));\nconst PieChart = lazy(() => import(\"@/Components/GraphAndChart/PieChart\"));\nimport { CustomContext } from \"@/Context/UseCustomContext\";\nimport { useRefContext } from \"@/Context/RefContext\";\n\nfunction ChartWrapper({ height = 480, children, className }) {\n  return (\n    <div className={`h-[${height}px] ${className}`}>\n      <Suspense fallback={<div>Loading...</div>}>{children}</Suspense>\n    </div>\n  );\n}\nexport default function SleepTab() {\n  const options = [\n    {\n      label: \"Light and Deep Sleep\",\n      value: \"a\",\n      children: [\n        {\n          label: \"Sleep Duration Overview\",\n          value: \"duration\",\n        },\n        {\n          label: \"Sleep Duration Trends\",\n          value: \"durationDistribution\",\n        },\n        {\n          label: \"Sleep Quality Overview\",\n          value: \"efficiencyStatistic\",\n        },\n        {\n          label: \"Sleep Quality Trends\",\n          value: \"efficiencyDistribution\",\n        },\n        {\n          label: \"Deep Sleep Proportion Overview\",\n          value: \"deepSleepPercentageStatistic\",\n        },\n        {\n          label: \"Deep Sleep Proportion Trends\",\n          value: \"deepSleepPercentageDistribution\",\n        },\n      ],\n    },\n    {\n      label: \"Sleep Apnea\",\n      value: \"b\",\n      children: [\n        {\n          label: \"Sleep Disturbances Index Statistic\",\n          value: \"apneaIndexStatistic\",\n        },\n        {\n          label: \"Sleep Disturbances Index Distribution\",\n          value: \"apneaIndexDistribution\",\n        },\n      ],\n    },\n    {\n      label: \"Bed Exit\",\n      value: \"c\",\n      children: [\n        {\n          label: \"Bed Exit Duration Overview\",\n          value: \"numberOfBedExitStatistic\",\n        },\n        {\n          label: \"Bed Exit Frequency Overview\",\n          value: \"bedExitDurationStatistic\",\n        },\n        {\n          label: \"Bed Exit Times Trends\",\n          value: \"distributionOfBedExitTimes\",\n        },\n      ],\n    },\n    {\n      label: \"Daily Routine\",\n      value: \"d\",\n      children: [\n        {\n          label: \"Daily Routine Trends\",\n          value: \"distributionOfDailyRoutine\",\n        },\n      ],\n    },\n    {\n      label: \"Fell Asleep\",\n      value: \"e\",\n      children: [\n        {\n          label: \"Time to Fall Asleep Trends\",\n          value: \"distributionOfTimeToFallAsleep\",\n        },\n        {\n          label: \"Time to Fall Asleep Overview\",\n          value: \"timeToFallAsleepStatistic\",\n        },\n      ],\n    },\n  ];\n  const [selectedValues, setSelectedValues] = useState([]);\n  const handleCascaderChange = (value) => {\n    const flattenedValues = value.map((path) => path[path.length - 1]);\n    console.log(\"Flattened selected values:\", flattenedValues);\n    setSelectedValues(flattenedValues);\n  };\n  const { registerRef } = useRefContext();\n\n  const { sleepData, sleepDataLoading } = useContext(CustomContext);\n  const isSelected = (value) => {\n    // Show all charts if no specific selections are made\n    if (selectedValues.length === 0) return true;\n    const result = selectedValues.includes(value);\n    return result;\n  };\n  const stepsRef = {\n    step1: useRef(null),\n    step2: useRef(null),\n    step3: useRef(null),\n    step4: useRef(null),\n  };\n\n  useEffect(() => {\n    Object.keys(stepsRef).forEach((key) => {\n      if (stepsRef[key].current) {\n        registerRef(\"tab_sleep_\" + key, stepsRef[key]);\n      }\n    });\n  }, [registerRef]);\n  return (\n    <div className=\"flex flex-col gap-6 mt-6 h-full\">\n      <div\n        id=\"sleepOverview\"\n        className=\"flex gap-6 flex-col md:flex-row lg:flex-row h-full\"\n      >\n        <div\n          id=\"sleepscoreGraph\"\n          ref={stepsRef.step1}\n          className=\"w-full md:w-[33%]\"\n        >\n          {sleepDataLoading ? (\n            <SkeletonSleepScoreGraph />\n          ) : (\n            <Suspense fallback={<div>Loading...</div>}>\n              <div className=\"w-full h-full bg-white rounded-lg p-5 flex flex-col gap-0\">\n                <h1 className=\"text-primary text-2xl font-bold leading-none\">\n                  Sleep Duration\n                </h1>\n                <PieChart\n                  sleepData={sleepData?.sleep_index_common_list}\n                  sleepScore={sleepData?.score}\n                />\n              </div>\n            </Suspense>\n          )}\n        </div>\n        <div\n          id=\"dataanalysisSleepTails\"\n          className=\"w-full md:w-[67%] flex flex-col gap-6 !h-full justify-between\"\n        >\n          <div ref={stepsRef.step2} className=\"h-full\">\n            <SleepEvents />\n          </div>\n          {/* <SleepScoreTails /> */}\n          {/* <div id=\"dataAnalysis\" className=\"h-full\">\n             <DataAnalysisSlider /> \n          </div> */}\n        </div>\n      </div>\n      <div ref={stepsRef.step3}>\n        <ChartWrapper height={\"auto\"}>\n          <SleepingTimeline />\n        </ChartWrapper>\n      </div>\n      {/* <div ref={stepsRef.step3}>\n        <ChartWrapper height={\"auto\"}>\n          <SleepEvents />\n        </ChartWrapper>\n      </div> */}\n      <div\n        ref={stepsRef.step4}\n        className=\"flex justify-between items-center gap-6 mt-10 bg-[#7F87FC] rounded-lg p-5 \"\n      >\n        <h1 className=\"text-white text-2xl font-bold leading-none\">\n          Reports Analysis\n        </h1>\n        <ConfigProvider\n          theme={{\n            token: {\n              fontFamily: \"Baloo2\",\n              colorPrimary: \"#8086AC\",\n              colorLinkActive: \"#8086AC\",\n              colorLinkHover: \"#8086AC\",\n              colorLink: \"#8086AC\",\n            },\n          }}\n        >\n          <Cascader\n            style={{\n              width: \"300px\",\n            }}\n            options={options}\n            placeholder=\"Select Specific Analysis\"\n            multiple\n            maxTagCount=\"responsive\"\n            size=\"large\"\n            showCheckedStrategy={SHOW_CHILD}\n            onChange={handleCascaderChange}\n            defaultValue={selectedValues}\n          />\n        </ConfigProvider>\n      </div>\n      <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2\">\n        {isSelected(\"duration\") && (\n          <ChartWrapper>\n            <DurationStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"durationDistribution\") && (\n          <ChartWrapper>\n            <DurationDistribution />\n          </ChartWrapper>\n        )}\n        {isSelected(\"efficiencyStatistic\") && (\n          <ChartWrapper>\n            <EfficiencyStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"efficiencyDistribution\") && (\n          <ChartWrapper>\n            <EfficiencyDistribution />\n          </ChartWrapper>\n        )}\n        {isSelected(\"deepSleepPercentageStatistic\") && (\n          <ChartWrapper>\n            <DeepSleepPercentageStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"deepSleepPercentageDistribution\") && (\n          <ChartWrapper>\n            <DeepSleepPercentageDistribution />\n          </ChartWrapper>\n        )}\n        {isSelected(\"apneaIndexStatistic\") && (\n          <ChartWrapper>\n            <ApneaIndexStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"apneaIndexDistribution\") && (\n          <ChartWrapper>\n            <ApneaIndexDistribution />\n          </ChartWrapper>\n        )}\n        {isSelected(\"bedExitDurationStatistic\") && (\n          <ChartWrapper>\n            <BedExitDurationStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"numberOfBedExitStatistic\") && (\n          <ChartWrapper>\n            <NumberOfBedExitStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"distributionOfBedExitTimes\") && (\n          <ChartWrapper className=\"col-span-2\">\n            <DistributionOfBedExitTimes />\n          </ChartWrapper>\n        )}\n        {isSelected(\"distributionOfDailyRoutine\") && (\n          <ChartWrapper className=\"col-span-2\">\n            <DistributionOfDailyRoutine />\n          </ChartWrapper>\n        )}\n        {isSelected(\"timeToFallAsleepStatistic\") && (\n          <ChartWrapper>\n            <TimeToFallAsleepStatistic />\n          </ChartWrapper>\n        )}\n        {isSelected(\"distributionOfTimeToFallAsleep\") && (\n          <ChartWrapper>\n            <DistributionOfTimeToFallAsleep />\n          </ChartWrapper>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport const SleepScoreTailsData = [\n  {\n    title: \"Avg. Deep Sleep\",\n    value: 67,\n    dataType: \"percentage\",\n  },\n  {\n    title: \"Avg. Sleep Efficiency\",\n    value: 60,\n    dataType: \"percentage\",\n  },\n  {\n    title: \"Avg. Apnea Index \",\n    value: 6,\n    dataType: \"index\",\n  },\n  {\n    title: \"Avg. Bed Exit Frequency\",\n    value: 5,\n    dataType: \"index\",\n  },\n];\nconst SkeletonSleepScoreGraph = () => {\n  return (\n    <div className=\"w-full h-full bg-white rounded-lg p-5 flex flex-col gap-4 skeleton-wrapper\">\n      {/* Title placeholder */}\n      <h1 className=\"text-primary text-2xl font-bold leading-none\">\n        Sleep Score\n      </h1>\n      {/* Pie chart placeholder */}\n      <div\n        className=\"skeleton-pie\"\n        style={{\n          width: \"200px\",\n          height: \"200px\",\n          backgroundColor: \"#e0e0e0\",\n          border: \"1px solid #b0b0b0\",\n          borderRadius: \"50%\",\n          alignSelf: \"center\",\n        }}\n      />\n    </div>\n  );\n};\n"],"file":"assets/SleepTab-dFTtBBvk.js"}