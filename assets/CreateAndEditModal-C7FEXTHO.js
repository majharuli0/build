import{j as t,C as D,D as O,e as T,d as w,r as A,ag as Y,an as $,aP as W,X as re,gp as ne,_ as oe,$ as y,a0 as f}from"./index-BrMMENGu.js";import{T as q}from"./index-f6uwOJBR.js";import{C as ie,b as ce,c as ue}from"./CustomPlaceSelect-C2wT_mu6.js";try{let i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new i.Error().stack;r&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[r]="8126e0f3-0168-4cd3-b855-b634616e209c",i._sentryDebugIdIdentifier="sentry-dbid-8126e0f3-0168-4cd3-b855-b634616e209c")}catch{}const me=({label:i,error:r,...s})=>t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC",colorLink:"#8086AC",colorLinkHover:"#A0A4C1",colorLinkActive:"#6A6E8E"},components:{DatePicker:{cellActiveWithRangeBg:"#8086AC",cellHoverWithRangeBg:"#A0A4C1",timeColumnWidth:56,timeColumnHeight:224,timeLineHeight:28,buttonBg:"#8086AC",buttonHoverBg:"#A0A4C1",buttonActiveBg:"#6A6E8E"}}},children:t.jsx(O,{style:{width:"100%",height:"50px",borderRadius:"10px"},size:"large",...s})}),r&&t.jsx("span",{style:{color:"red"},children:r.message})]}),de=({label:i,error:r,...s})=>t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC",colorLink:"#8086AC",colorLinkHover:"#A0A4C1",colorLinkActive:"#6A6E8E"},components:{DatePicker:{cellActiveWithRangeBg:"#8086AC",cellHoverWithRangeBg:"#A0A4C1",timeColumnWidth:56,timeColumnHeight:224,timeLineHeight:28,buttonBg:"#8086AC",buttonHoverBg:"#A0A4C1",buttonActiveBg:"#6A6E8E"}}},children:t.jsx(q,{style:{width:"100%",height:"50px",borderRadius:"10px"},size:"large",...s})}),r&&t.jsx("span",{style:{color:"red"},children:r.message})]}),pe=({label:i,error:r,value:s,onChange:o,...c})=>{const n=(u,h)=>{const x=u?T(u).format("YYYY-MM-DD HH:mm"):T().format("YYYY-MM-DD HH:mm");o(x)};return t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC",colorLink:"#8086AC",colorLinkHover:"#A0A4C1",colorLinkActive:"#6A6E8E"},components:{DatePicker:{cellActiveWithRangeBg:"#8086AC",cellHoverWithRangeBg:"#A0A4C1",timeColumnWidth:56,timeColumnHeight:224,timeLineHeight:28,buttonBg:"#8086AC",buttonHoverBg:"#A0A4C1",buttonActiveBg:"#6A6E8E"}}},children:t.jsx(O,{style:{width:"100%",height:"50px",borderRadius:"10px"},size:"large",showTime:!0,format:"YYYY-MM-DD HH:mm A",onChange:n,...c})}),r&&t.jsx("span",{style:{color:"red"},children:r.message})]})},he=({label:i,error:r,options:s,onChange:o,onBlur:c,value:n,defaultValue:u,disabled:h,...x})=>t.jsx("div",{className:"flex items-center w-full",children:t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC"}},children:t.jsx(w,{size:"large",style:{width:"100%",height:"50px",borderRadius:"10px !important"},onBlur:c,onChange:(p,d)=>{o(d)},value:n||u,status:r?"error":"",options:s,disabled:h,...x})}),r&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.message})]})}),{Option:be}=w,xe=({label:i,options:r,value:s=[],onChange:o,placeholder:c,error:n})=>{const[u,h]=A.useState(r);function x(p){h(p)}return t.jsxs("div",{className:"custom-multi-select flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC"}},children:t.jsx(w,{mode:"tags",size:"large",style:{width:"100%",height:"50px",borderRadius:"10px !important"},placeholder:c,value:s,onChange:p=>{o(),x(p)},tokenSeparators:[","],children:u.map(p=>t.jsx(be,{value:p.value,children:p.label},p.value))})}),n&&t.jsx("span",{className:"error",children:n.message})]})},ve=[{value:"sunday",label:"Sun"},{value:"monday",label:"Mon"},{value:"tuesday",label:"Tue"},{value:"wednesday",label:"Wed"},{value:"thursday",label:"Thu"},{value:"friday",label:"Fri"},{value:"saturday",label:"Sat"}];function ye({label:i,value:r=[],onChange:s,error:o}){const c=n=>{r.includes(n)?s(r.filter(u=>u!==n)):s([...r,n])};return t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx("div",{className:"w-full flex gap-3",children:ve.map(n=>t.jsx("button",{type:"button",onClick:()=>c(n.value),style:{backgroundColor:r.includes(n.value)?"#1B2559":"#fff",color:r.includes(n.value)?"#fff":"#000",border:"1px solid #ccc",borderRadius:"4px",padding:"5px 10px",cursor:"pointer"},className:"flex items-center justify-center w-full",children:n.label},n.value))}),o&&t.jsx("p",{style:{color:"red"},children:o.message})]})}function Ce({label:i,value:r=[],onChange:s,error:o}){const[c,n]=A.useState(null),[u,h]=A.useState(""),x=()=>{if(c&&u){const d={time:T(c).format("hh:mm A"),tablet_count:parseInt(u,10)};s([...r,d]),n(null),h("")}},p=d=>{const C=[...r];C.splice(d,1),s(C)};return t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsxs(Y.Compact,{style:{width:"100%"},children:[t.jsx(q,{use12Hours:!0,value:c,onChange:d=>n(d),format:"hh:mm A",style:{width:"50%"},size:"large"}),t.jsx($,{style:{width:"50%"},size:"large",type:"number",placeholder:"Tablet Count (eg: 2)",value:u,onChange:d=>h(d.target.value)}),t.jsx(W,{onClick:x,disabled:!c||!u,size:"large",style:{width:"15%"},children:"Add"})]}),t.jsx("ul",{style:{width:"100%",padding:0,listStyle:"none"},children:r.map((d,C)=>t.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px"},children:[t.jsxs("span",{children:["Time: ",d.time,", Tablets: ",d.tablet_count]}),t.jsx(W,{type:"link",onClick:()=>p(C),style:{marginLeft:"10px"},children:"Remove"})]},C))}),o&&t.jsx("p",{style:{color:"red"},children:o.message})]})}const je=({label:i,error:r,placeholder:s,countryCodes:o,selectedCode:c,onCodeChange:n,disabled:u=!1,...h})=>(A.useEffect(()=>{!c&&o.length>0&&n(o[0].value)},[c,o,n]),t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsxs(Y.Compact,{style:{width:"100%"},children:[t.jsx(w,{value:c,onChange:n,disabled:u,options:o,style:{minWidth:"160px",height:"50px",borderRadius:"10px !important"},className:"!placeholder:text-[#A3AED0]"}),t.jsx($,{type:"number",placeholder:s,disabled:u,style:{height:"50px",borderRadius:"10px !important"},...h})]}),(r==null?void 0:r.type)==="required"&&t.jsx("span",{className:"text-sm mt-1 text-red-500",children:r.message})]}));function we({modalOpen:i,setModalOpen:r,type:s,mode:o="create",elderlyId:c,dataToEdit:n,diseases:u=[],allergies:h=[],medications:x=[],custom_condition:p=[],elderlyLatLng:d,onSubmitData:C}){const{control:v,register:L,handleSubmit:z,formState:{errors:b},reset:B,watch:P,setValue:I}=re({defaultValues:n}),[k,_e]=A.useState(u),[M,U]=A.useState(null),[V,N]=A.useState([{}]),E=P("select_elderly"),H=P("contact_type"),m=P("medication_frequency");A.useEffect(()=>{i&&o==="edit"&&n&&Object.keys(n).forEach(l=>{I(l,n[l])}),ne().then(l=>{const S=l==null?void 0:l.data.map(e=>({label:e.country_name+" ("+e.country_code+")",value:e.country_code}));N(S)}).catch(l=>{console.log(l)})},[i,o,n,I]);const G=l=>{var S,e,_;o==="edit"?(s==="healthConditions"||s==="medication")&&console.log("Editing data:",l):(s==="medication"?C({id:c,data:[{name:l==null?void 0:l.medication_name,type:(S=l==null?void 0:l.medication_type)==null?void 0:S.label,strength:Number(l==null?void 0:l.medication_strength),unit:(e=l==null?void 0:l.medication_unit)==null?void 0:e.label,frequency:(_=l==null?void 0:l.medication_frequency)==null?void 0:_.label,interval:m.value==="As Needed"?[]:m.value==="At Regular Interval"?[l==null?void 0:l.medication_interval]:l==null?void 0:l.medication_shedule_days,does_chart:l==null?void 0:l.medication_time}]}):s==="event"?C(l):s==="contact"&&C({contact_person:l==null?void 0:l.contact_name,contact_number:l==null?void 0:l.phone_number,contact_number_code:M}),console.log("Editing data:",l),console.log("Creating data:",l)),B(),r(!1)},J=l=>{console.log("Selected options:",l)},X=()=>s==="event"?o==="create"?"Create Event":"Edit Event":s==="elderly"?o==="create"?"Create Elderly":"Update Elderly Profile":s==="medication"?o==="create"?"Create Medication":"Edit Medication":s==="health-condition"?o==="create"?"Create Health Condition":"Update Health Condition":s==="doctor-appointments"?o==="create"?"Create Doctor Appointments":"Update Doctor Appointments":s==="contact"?o==="create"?"Create Contact":"Update Contact":s==="healthConditions"?o==="create"?"Create Health Conditions":"Update Health Conditions":"",K=["event_name","datetime","select_elderly","place","textarea"],Q=["medication_name","medication_type","medication_strength_unit","medication_time","medication_frequency","medication_interval","medication_shedule"],Z=["name","address","age","gender","height","contactPerson","diseases","allergies","medications"],F=["diseases","allergies","custom_condition"],ee=["doctor","place","date","time","textarea"],le=["contact_name","phone_number"],te=["diseases","allergies","custom_condition"],ae=()=>s==="event"?K.filter(l=>!(l==="select_elderly"&&d)).map(l=>j(l)):s==="medication"?Q.map(l=>j(l)):s==="elderly"?Z.map(l=>j(l)):s==="health-condition"?F.map(l=>j(l)):s==="doctor-appointments"?ee.map(l=>j(l)):s==="contact"?le.map(l=>j(l)):s==="healthConditions"?te.map(l=>j(l)):null,j=l=>{const e={event_name:{label:"Event Name",type:"text",placeholder:"eg: Appointment with Doctor"},phone_number:{label:"Phone Number",type:"phone_number",placeholder:"eg: +1 123-456-7890",options:V},contact_type:{label:"Contact Type",type:"select",placeholder:"Select contact type",options:[{value:"person",label:"Person"},{value:"emergency",label:"Emergency Contact"},{value:"other",label:"Other"}]},contact_name:{label:"Contact Name",type:"text",placeholder:"Contact Name"},doctor:{label:"Doctor Name",type:"text",placeholder:"eg: Dr. John Doe"},medication_name:{label:"Medication Name",type:"text",placeholder:"Medication Name"},medication_type:{label:"Medication Type",type:"select",placeholder:"Select medication type",options:[{value:"Capsule",label:"Capsule"},{value:"Tablet",label:"Tablet"},{value:"Liquid",label:"Liquid"},{value:"Topical",label:"Topical"},{value:"Topical",label:"Topical"},{value:"Cream",label:"Cream"},{value:"Device",label:"Device"},{value:"Drops",label:"Drops"},{value:"Foam",label:"Foam"},{value:"Gel",label:"Gel"},{value:"Inhaler",label:"Inhaler"},{value:"Injection",label:"Injection"},{value:"Lotion",label:"Lotion"},{value:"Oiltment",label:"Oiltment"},{value:"Patch",label:"Patch"}]},medication_strength_unit:{type:"combined",fields:["medication_strength","medication_unit"]},medication_strength:{label:"Medication Strength",type:"number",placeholder:"Medication Strength"},medication_unit:{label:"Unit",type:"select",placeholder:"Unit",options:[{value:"mg",label:"mg"},{value:"ml",label:"ml"},{value:"mcg",label:"mcg"},{value:"g",label:"g"}]},medication_shedule:{label:"Medication Schedule",type:"day-selector",placeholder:"Select days"},medication_interval:{label:"Medication Interval",type:"select",placeholder:"Medication Interval",options:[{value:"Every Day",label:"Every Day"},{value:"Every Other Day",label:"Every Other Day"},{value:"3 Days",label:"3 Days"}]},medication_time_and_unit:{label:"Medication Time",type:"multi-time",placeholder:"Select time"},medication_time:{label:"Medication Time & Amount",type:"multi-time",placeholder:"Select time"},medication_frequency:{label:"Medication Frequency",type:"select",placeholder:"Select frequency",options:[{value:"At Regular Intervals",label:"At Regular Intervals"},{value:"On Specific Days of the Week",label:"On Specific Days of the Week"},{value:"As Needed",label:"As Needed"}]},name:{label:"Elderly Name",type:"text",placeholder:"Elderly Name"},age:{label:"Age",type:"number",placeholder:"Age"},gender:{label:"Gender",type:"select",placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]},height:{label:"Height (cm)",type:"number",placeholder:"Height"},contactPerson:{label:"Contact Person",type:"text",placeholder:"Contact Person"},diseases:{label:"Diseases",type:"multi-select",placeholder:"Select diseases",options:k==null?void 0:k.map(a=>({value:a,label:a}))},allergies:{label:"Allergies",type:"multi-select",placeholder:"Select allergies",options:h==null?void 0:h.map(a=>({value:a,label:a}))},custom_condition:{label:"Custom Text",type:"multi-select",placeholder:"Select custom text",options:p==null?void 0:p.map(a=>({value:a,label:a}))},medications:{label:"Medications",type:"multi-select",placeholder:"Select medications",options:x==null?void 0:x.map(a=>({value:a,label:a}))},disease_name:{label:"Disease Name",type:"text",placeholder:"Disease Name"},date:{label:"Date",type:"date",placeholder:"Select date"},time:{label:"Time",type:"time",placeholder:"Select time"},datetime:{label:"Date and Time",type:"datetime",placeholder:"Select date and time"},select_elderly:{label:"Select Elderly",type:"select",placeholder:"Select elderly",options:Ae},disease_type:{label:"Disease Type",type:"select",placeholder:"Select disease type",options:[{value:"chronic",label:"Chronic"},{value:"acute",label:"Acute"},{value:"infectious",label:"Infectious"}]},textarea:{label:"Notes",type:"textarea",placeholder:"Notes"},place:{label:"Locate A Place",type:"place",placeholder:"Locate a place"},number:{label:"Contact Number",type:"tel",placeholder:"Contact Number"}}[l],_=l==="gender"&&(H==null?void 0:H.value)!=="person",R=l==="medication_interval"&&(m==null?void 0:m.value)==="On Specific Days of the Week"||l==="medication_interval"&&(m==null?void 0:m.value)==="As Needed"||l==="medication_interval"&&!(m!=null&&m.value),se=l==="medication_shedule"&&(m==null?void 0:m.value)!=="On Specific Days of the Week";return(e==null?void 0:e.type)==="select"?t.jsx(y,{name:l,control:v,defaultValue:n?n[l]:"",rules:{required:_||R?"":`Please select ${e==null?void 0:e.label.toLowerCase()}`},render:({field:a})=>t.jsx(ie,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,options:e==null?void 0:e.options,value:a.value,disabled:_||R,...a})},l):(e==null?void 0:e.type)==="combined"?t.jsx("div",{className:"flex gap-2",children:e.fields.map((a,g)=>t.jsx("div",{className:g===0?"w-4/5":"w-1/5",children:j(a)},a))}):(e==null?void 0:e.type)==="medication-strength-picker"?t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-full",children:t.jsx(f,{label:e==null?void 0:e.label,type:e==null?void 0:e.type,register:L(l,{required:{value:!0,message:`Please enter ${e==null?void 0:e.label.toLowerCase()}`}}),error:b[l],placeholder:e==null?void 0:e.placeholder},l)}),t.jsx("div",{className:"w-full",children:t.jsx(y,{name:l,control:v,defaultValue:n?n[l]:"",rules:{required:_?"":`Please select ${e==null?void 0:e.label.toLowerCase()}`},render:({field:a})=>t.jsx(he,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,options:e==null?void 0:e.options,value:a.value,disabled:_,...a})},l)})]}):(e==null?void 0:e.type)==="multi-time"?t.jsx(y,{name:l,control:v,render:({field:a})=>t.jsx(Ce,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,...a})}):(e==null?void 0:e.type)==="day-selector"?t.jsx("div",{className:`${(m==null?void 0:m.value)==="On Specific Days of the Week"?"block":" hidden"}`,children:t.jsx(y,{name:`${l}_days`,control:v,rules:{required:se?"":"Please select at least one day"},render:({field:a})=>t.jsx(ye,{label:e==null?void 0:e.label,error:b[`${l}_days`],placeholder:e==null?void 0:e.placeholder,value:a.value,onChange:a.onChange})})},l):(e==null?void 0:e.type)==="multi-select"?t.jsx(y,{name:l,control:v,render:({field:a})=>t.jsx(xe,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,options:e==null?void 0:e.options,value:a.value,onChange:g=>J(g,a.onChange)})},l):(e==null?void 0:e.type)==="datetime"?t.jsx(y,{name:l,control:v,rules:{required:`Please select ${e.label.toLowerCase()}`},render:({field:a})=>t.jsx(pe,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,...a})},l):(e==null?void 0:e.type)==="date"?t.jsx(y,{name:l,control:v,rules:{required:`Please select ${e.label.toLowerCase()}`},render:({field:a})=>t.jsx(me,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,...a})},l):(e==null?void 0:e.type)==="time"?t.jsx(y,{name:l,control:v,rules:{required:`Please select ${e.label.toLowerCase()}`},render:({field:a})=>t.jsx(de,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,...a})},l):(e==null?void 0:e.type)==="textarea"?t.jsx(y,{name:l,control:v,rules:{},render:({field:a})=>t.jsx(ce,{label:e==null?void 0:e.label,placeholder:e==null?void 0:e.placeholder,error:b[l],...a})},l):(e==null?void 0:e.type)==="phone_number"?t.jsx(y,{name:l,control:v,rules:{required:{value:!0,message:`Please enter ${e==null?void 0:e.label.toLowerCase()}`}},render:({field:a})=>t.jsx(je,{label:"Phone Number",error:b[l],placeholder:"Enter your phone number",countryCodes:e.options,selectedCode:M,onCodeChange:g=>U(g),disabled:!1,...a})},l):(e==null?void 0:e.type)==="place"?t.jsx(y,{name:l,control:v,rules:{},render:({field:a})=>t.jsx(ue,{label:e==null?void 0:e.label,error:b[l],placeholder:e==null?void 0:e.placeholder,elderlyLocation:E?{lat:E.lat,lng:E.lng}:d,...a})},l):t.jsx(f,{label:e==null?void 0:e.label,type:e==null?void 0:e.type,register:L(l,{required:{value:!0,message:`Please enter ${e==null?void 0:e.label.toLowerCase()}`}}),error:b[l],placeholder:e==null?void 0:e.placeholder},l)};return t.jsx(oe,{handleSubmit:z(G),modalOPen:i,setModalOpen:r,title:X(),buttonText:o==="create"?"Create":"Update",onclose:()=>{B()},children:ae()})}const Ae=[{value:"elderly_1",label:"Elderly 1",lat:-25.274398,lng:133.775136},{value:"elderly_2",label:"Elderly 2",lat:-33.86882,lng:151.209296},{value:"elderly_3",label:"Elderly 3",lat:-37.813628,lng:144.963058}];export{we as C};
//# sourceMappingURL=CreateAndEditModal-C7FEXTHO.js.map
