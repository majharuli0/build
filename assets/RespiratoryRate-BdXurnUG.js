import{r as e,d as u,fA as T,j as f}from"./index-BKgsd5ix.js";import j from"./RateChart-KrVg2140.js";import{T as A}from"./Template-BHUD6fCs.js";import{g as M}from"./utiles-mjfAavvx.js";import{C as b}from"./UseCustomContext-D_63vuny.js";import"./index-D-dVG7k9.js";import"./WeeklyMonthlyPicker-CZN0yFOO.js";import"./helper-Q2f27-hf.js";import"./index-BnspFzjO.js";import"./index-C0OG5Gj1.js";import"./index-Bgjd9YKs.js";import"./index-CTJBQug3.js";import"./index-vqVovX8l.js";function G({isSummaryBtn:B=!0}){const h=e.useContext(b),[D,d]=e.useState([]),{chartToDate:r="",chartFromDate:c="",elderlyDetails:o={}}=h||{},[s,l]=e.useState(u().subtract(1,"day").format("YYYY-MM-DD")),[n,x]=e.useState(u().subtract(7,"day").format("YYYY-MM-DD")),{title:E,color:i,icon:y,dataAnalysis:R,summaryProps:g}=M("Respiratory Rate"),p=e.useCallback(()=>{T({uids:o==null?void 0:o.deviceId,to_date:n,from_date:s}).then(m=>{const t=m.data,Y={xdata:t==null?void 0:t.map(a=>a.date),maxArray:t==null?void 0:t.map(a=>a.max),minArray:t==null?void 0:t.map(a=>a.min),allAvgNumber:Math.round((t==null?void 0:t.reduce((a,C)=>a+C.avg,0))/t.length)};d(Y)}).catch(m=>{console.log(m)})},[s,r,o]);return e.useEffect(()=>{p()},[p]),e.useEffect(()=>{r&&c&&(l(r),x(c))},[r]),f.jsx(A,{title:r?"Breath Rate":"Breath Rate (7 days)",color:i,icon:y,dataAnalysis:R,summaryProps:g,children:f.jsx(j,{dateType:"Week",color:i,cheartInfo:D,fromDate:n,toDate:s})})}export{G as default};
