import{aj as v,j as e,eA as y,an as x,n as b,aq as p,ar as w,eg as C}from"./index-Cq-23H-i.js";import{b as N,c as T}from"./CreateAndEditModal-B-pS4BpQ.js";import{g as n,t as D,f as I}from"./helper-CUhzWMTx.js";import{m as S}from"./elderlySupport-Cpr7_IHI.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new t.Error().stack;o&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[o]="2300fe1f-dd33-4b63-89f9-a9a983d3f0f8",t._sentryDebugIdIdentifier="sentry-dbid-2300fe1f-dd33-4b63-89f9-a9a983d3f0f8")}catch{}const _="/assets/AlertBGABS-DeBC3eCX.svg";function M({openAlertCloseModal:t,setOpenAlertCloseModal:o,selectedAlert:a=[],getAlertListDatas:h}){var m,u,f;const{handleSubmit:j,control:l,reset:r,formState:{errors:d}}=v({defaultValues:{status:"",comment:""}});async function g(s){await S({id:a==null?void 0:a._id,data:{status:s.status.value,comment:s.comment}}).then(c=>{p.custom(i=>e.jsx(w,{t:i,text:"Alert has been marked as resolved!"})),h()}).catch(c=>{p.custom(i=>e.jsx(C,{t:i,title:"Error",text:c.message}))}),r(),o(!1)}return e.jsx(y,{open:t,onCancel:()=>{o(!1),r()},footer:null,children:e.jsxs("div",{id:"alertCloseModalHeader",children:[e.jsx("div",{id:"alertCardOverview",children:e.jsxs("div",{id:"alertItem",className:`rounded-2xl overflow-hidden w-full ${((m=n(a))==null?void 0:m.label)==="Critical"?"bg-red-500":((u=n(a))==null?void 0:u.label)==="Warning"?"bg-yellow-500":"bg-blue-500"} p-4 w-full !flex justify-between items-center`,children:[e.jsx("div",{id:"leftSide",className:"z-50",children:e.jsx("div",{id:"alertItemHeader",children:e.jsxs("div",{id:"alertItemTitleAndDescription",className:"flex flex-col gap-4",children:[e.jsxs("div",{id:"time",className:"flex gap-2",children:[e.jsx("span",{className:"bg-white font-semibold p-1 px-2 rounded-full text-text-primary flex items-center gap-2",children:D(a==null?void 0:a.created_at)}),e.jsx("span",{className:"bg-white font-semibold p-1 px-2 rounded-full text-text-primary",children:I(a==null?void 0:a.created_at)})]}),e.jsx("div",{id:"alertItemTitleAndDescription",children:e.jsx("h1",{className:"text-xl font-bold text-white m-0",children:(f=n(a))==null?void 0:f.title})})]})})}),e.jsx("img",{src:_,alt:"",className:"absolute top-0 right-0 w-[280px]"})]})}),e.jsx("div",{id:"alertsConfirmationAndComment",className:"mt-4 px-4",children:e.jsxs("form",{onSubmit:j(g),children:[e.jsx(x,{name:"status",control:l,rules:{required:"Please select alert status"},render:({field:s})=>e.jsx(N,{label:"Notification Status",error:d.status,placeholder:"Select Notification Status",options:[{value:!0,label:"True Notifications"},{value:!1,label:"False Notifications"}],value:s.value,...s})}),e.jsx(x,{name:"comment",control:l,rules:{},render:({field:s})=>e.jsx(T,{label:"Comment",placeholder:"Enter your comment",error:d.comment,...s})},"comment"),e.jsxs("div",{id:"alertCloseModalFooter",className:"py-4 flex  gap-4",children:[e.jsx(b,{type:"button",style:{width:"100%",background:"#F5F5F5",color:"#1B2559"},onClick:()=>{o(!1),r()},children:"Close"}),e.jsx(b,{type:"primary",htmlType:"submit",className:"w-full",children:"Mark as Done"})]})]})})]})})}export{M as A,_ as a};
//# sourceMappingURL=AlertCloseModal-DHckc9E6.js.map
