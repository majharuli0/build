import{r,bk as N,bj as C,gA as _,j as e,t as w,gC as T,h0 as H}from"./index-MdmDJiFZ.js";import I from"./LiveRateChart-CL6ddxpI.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="019bc963-401f-4efb-8cf7-78ed624e7d11",s._sentryDebugIdIdentifier="sentry-dbid-019bc963-401f-4efb-8cf7-78ed624e7d11")}catch{}function L(){var m,u,h;const{elderlyDetails:s,sleepData:t}=r.useContext(N),{deviceData:o}=r.useContext(C),a=s==null?void 0:s.deviceId,[j,y]=r.useState({time:[],heartRate:[],breathRate:[]}),[c,d]=r.useState(null),f=r.useRef(null),p=r.useCallback(n=>{if(f.current===n)return;f.current=n;const i=_(n);d(i);const g=new Date().toLocaleTimeString();y(b=>{let x=[...b.time],l=[...b.heartRate];if(l.length===0){const v=(Math.random()<.5,0),R=Math.max(0,i.heartRateValue+v);x.push(g),l.push(R)}return x.push(g),l.push(i.heartRateValue),{time:x.slice(-30),heartRate:l.slice(-30)}})},[]);return r.useEffect(()=>{if(console.log(a==null?void 0:a.length),!(a!=null&&a.length)){d(null);return}for(const n of[a]){if(!o[n])continue;const{heartBreath:i}=o[n];if(i){p(i);return}}d(null)},[o]),e.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 flex flex-col gap-6 h-auto",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:["Current Heart Activity"," ",e.jsx(w,{title:"This feature functions only if the user is in the monitoring bed.",className:"cursor-pointer",children:e.jsx(T,{size:"18px"})})]}),e.jsx("div",{id:"LiveRate",className:"flex flex-col gap-1 pl-3 mb-2",children:e.jsxs("div",{className:"text-4xl font-bold flex items-center gap-2",style:{color:"#D76C82"},children:[(c==null?void 0:c.heartRateValue)??"--"," ",e.jsx("span",{className:"text-secondary/40",children:"BPM"}),e.jsx(H,{color:"#D76C82",size:24})]})}),e.jsx(I,{data:j,color:"#D76C82",type:"heartRate"}),e.jsx("div",{id:"footer",children:e.jsxs("div",{className:"flex justify-evenly items-center",children:[e.jsxs("div",{id:"avgRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsx("div",{className:"text-3xl text-primary font-bold",children:((m=t==null?void 0:t.heart_rate_vo)==null?void 0:m.avg)??"--"}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Average"})]}),e.jsxs("div",{id:"minRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsxs("div",{className:"text-3xl text-primary font-bold",children:[" ",((u=t==null?void 0:t.heart_rate_vo)==null?void 0:u.min)??"--"]}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Minimum"})]}),e.jsxs("div",{id:"maxRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsxs("div",{className:"text-3xl text-primary font-bold",children:[" ",((h=t==null?void 0:t.heart_rate_vo)==null?void 0:h.max)??"--"]}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Maximum"})]})]})})]})}export{L as default};
//# sourceMappingURL=LiveHeartRate-RcTa3_JX.js.map
