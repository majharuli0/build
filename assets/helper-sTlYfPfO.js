import"./index-B0OLlmBv.js";const u=t=>{if(!t||t==="--")return"--";try{const e=t.match(/\d{1,2}:\d{2}(:\d{2})?/);if(!e)return"--";const[r,o]=e[0].split(":"),a=parseInt(r),n=a>=12?"PM":"AM";return`${(a%12||12).toString().padStart(2,"0")}:${o} ${n}`}catch{return"--"}},f=t=>{if(!t)return"--";const e=Math.floor(t/60),r=Math.floor(t%60);return`${e}h ${r}m`},h=t=>t.map(e=>{const r=e.date.split("T")[0],o=r.slice(2),a=n=>n.includes("之后")?`${n.slice(0,5)}:00`:n;return[{time:`${r}T${a(e.get_bed_idx)}`,date:o,type:"Go to bed"},{time:`${r}T${a(e.sleep_st_idx)}`,date:o,type:"Fall asleep"},{time:`${r}T${a(e.sleep_ed_idx)}`,date:o,type:"Wake up"},{time:`${r}T${a(e.leave_bed_idx)}`,date:o,type:"Get up"}]}),m=t=>t!=null&&t.includes(":")?t.slice(0,5):t,p=t=>{const e=new Date,r=new Date(t).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}),o=new Date(t).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});return e.toDateString()===new Date(t).toDateString()?o:`${r} ${o}`},$=t=>{const e=new Date().getTime(),r=new Date(t).getTime(),o=Math.abs(r-e),a=Math.floor(o/(1e3*60*60*24)),n=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(o%(1e3*60*60)/(1e3*60));let s="";a>0&&(s+=`${a}d `),(n>0||a>0)&&(s+=`${n}h `),s+=`${c}m`;const i=r<e?"":"from now";return`${s.trim()} ${i}`},D=t=>(console.log(t),t!=null&&t.includes(["2","9"])?"Critical":t!=null&&t.includes(["3"])?"Warning":"Info"),l=t=>{try{const e=atob(t),r=Array.from(e).map(o=>o.charCodeAt(0).toString(16).padStart(2,"0")).join("");return console.log(t,r),r}catch(e){return console.error("Invalid Base64 string:",e),null}},T=t=>{const e=l(t);if(!e||e.length!==32)return console.error("Invalid heartbreath data."),null;const r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return{breathingValue:r,heartRateValue:o}};export{$ as a,u as b,h as c,T as d,m as e,f,D as g,p as t};
