{"version":3,"mappings":"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","names":["SkeletonView","jsx","Skeleton","OverviewTab","lazy","__vitePreload","ReportsTab","SleepTab","HealthTab","EmergencyContactsTab","DevicesTab","TrendTab","ActivityTab","LiveMapTab","CommunicationTab","HealthDataTab","AlertHistoryTab","ElderlyProfile","dailyRepDate","useContext","SidebarContext","elderlyDetails","setElderlyDetails","useState","sleepData","setSleepData","size","setSize","location","useLocation","navigate","useNavigate","params","useParams","tourOpen","setTourOpen","allRefs","setAllRefs","seenTours","setSeenTours","saved","ls","initialTab","useMemo","activeTab","setActiveTab","tourSteps","setTourSteps","sleepDataLoading","setSleepDataLoading","refsReady","setRefsReady","tourTimeoutRef","useRef","handleRefsUpdate","useCallback","refs","prevRefs","readyTabs","key","tab","prev","newReadyTabs","useEffect","tabItems","HomeOutlined","MoonOutlined","HeartOutlined","PullRequestOutlined","EnvironmentOutlined","LineChartOutlined","MessageOutlined","DatabaseOutlined","ContactsOutlined","AlertOutlined","MobileOutlined","FileTextOutlined","useLayoutEffect","resizeCharts","chart","handleResize","getElderlyDetails","getDetails","res","updatedElderlyDetails","_b","_a","item","subscribesToMqtt","_d","_c","fatchSleepData","_f","_e","dayjs","error","uids","to_date","getSleepData","data","uid","subscribeToMqtt","err","tabListRef","isDragging","setIsDragging","startX","setStartX","scrollLeft","setScrollLeft","isScrollableLeft","setIsScrollableLeft","isScrollableRight","setIsScrollableRight","handleMouseDown","e","handleMouseMove","walk","updateScrollIndicators","handleMouseUp","handleMouseLeave","scrollWidth","clientWidth","buttonStyles","buttonStyles2","jsxs","getActiveTabSteps","handleTourFinish","updatedSeenTours","RefProvider","CustomContext","ConfigProvider","Tabs","props","DefaultTabBar","Suspense","Tour"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Utiles/Skeleton.jsx","../../src/Pages/Elderlies/ElderlyProfile.jsx"],"sourcesContent":["import { Skeleton } from \"antd\";\r\n\r\nexport default function SkeletonView() {\r\n  return (\r\n    <div className=\"h-full w-full mt-6\">\r\n      <Skeleton />\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useState,\r\n  lazy,\r\n  Suspense,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useCallback,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\nimport { Tabs, ConfigProvider, Tour, Button } from \"antd\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  HomeOutlined,\r\n  MoonOutlined,\r\n  HeartOutlined,\r\n  PullRequestOutlined,\r\n  BarChartOutlined,\r\n  EnvironmentOutlined,\r\n  LineChartOutlined,\r\n  MessageOutlined,\r\n  DatabaseOutlined,\r\n  AlertOutlined,\r\n  ContactsOutlined,\r\n  MobileOutlined,\r\n  FileTextOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport \"./style.css\";\r\nimport SkeletonView from \"./Utiles/Skeleton\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n// Lazy load components\r\nconst OverviewTab = lazy(() =>\r\n  import(\"./Components/TabContents/Overview/OverviewTab\")\r\n);\r\nconst ReportsTab = lazy(() =>\r\n  import(\"./Components/TabContents/Reports/ReportsTab\")\r\n);\r\nconst SleepTab = lazy(() => import(\"./Components/TabContents/Sleep/SleepTab\"));\r\nconst HealthTab = lazy(() =>\r\n  import(\"./Components/TabContents/Health/HealthTab\")\r\n);\r\nconst EmergencyContactsTab = lazy(() =>\r\n  import(\"./Components/TabContents/EmergencyContacts/EmergencyContactsTab\")\r\n);\r\nconst DevicesTab = lazy(() =>\r\n  import(\"./Components/TabContents/Devices/DevicesTab\")\r\n);\r\nconst DataAnalyzeTab = lazy(() =>\r\n  import(\"./Components/TabContents/DataAnalyze/DataAnalyzeTab\")\r\n);\r\nconst TrendTab = lazy(() => import(\"./Components/TabContents/Trends/TrendTab\"));\r\nconst ActivityTab = lazy(() =>\r\n  import(\"./Components/TabContents/Activity/ActivityTab\")\r\n);\r\nconst LiveMapTab = lazy(() =>\r\n  import(\"./Components/TabContents/LiveMap/LiveMapTab\")\r\n);\r\nconst CommunicationTab = lazy(() =>\r\n  import(\"./Components/TabContents/Communication/CommunicationTab\")\r\n);\r\nconst HealthDataTab = lazy(() =>\r\n  import(\"./Components/TabContents/HealthData/HealthDataTab\")\r\n);\r\nconst AlertHistoryTab = lazy(() =>\r\n  import(\"./Components/TabContents/Alerts/AlertsHistoryTab\")\r\n);\r\nimport ls from \"store2\";\r\nimport { getSleepData, subscribeToMqtt } from \"@/api/deviceReports\";\r\nimport { getDetails } from \"@/api/elderly\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport dayjs from \"dayjs\";\r\nimport { RefProvider, useRefContext } from \"@/Context/RefContext\";\r\n\r\nexport default function ElderlyProfile() {\r\n  const { dailyRepDate } = useContext(SidebarContext);\r\n  const [elderlyDetails, setElderlyDetails] = useState({});\r\n  const [sleepData, setSleepData] = useState([]);\r\n  const [size, setSize] = useState(\"small\");\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const [tourOpen, setTourOpen] = useState(false);\r\n  const [allRefs, setAllRefs] = useState({});\r\n  const [seenTours, setSeenTours] = useState(() => {\r\n    const saved = ls.get(\"seenTours\");\r\n    return saved ? saved : {};\r\n  });\r\n  const queryParams = useMemo(\r\n    () => new URLSearchParams(location.search),\r\n    [location.search]\r\n  );\r\n  const initialTab = queryParams.get(\"tab\") || \"overview\";\r\n  const [activeTab, setActiveTab] = useState(initialTab);\r\n  const [tourSteps, setTourSteps] = useState({});\r\n  const [sleepDataLoading, setSleepDataLoading] = useState(true);\r\n  // Update allRefs when child refs are registered\r\n  // const handleRefsUpdate = (refs) => {\r\n  //   setAllRefs(refs);\r\n  //   const tabRefs = Object.keys(refs)\r\n  //     .filter((key) => key.startsWith(`tab_${activeTab}`))\r\n  //     .reduce((obj, key) => {\r\n  //       obj[key] = refs[key];\r\n  //       return obj;\r\n  //     }, {});\r\n\r\n  //   // Define tour steps based on filtered refs\r\n  //   const hasActiveTabRefs = Object.keys(tabRefs).some(\r\n  //     (key) => tabRefs[key]?.current\r\n  //   );\r\n\r\n  //   setTimeout(() => {\r\n  //     console.log(hasActiveTabRefs, !seenTours[activeTab]);\r\n\r\n  //     if (hasActiveTabRefs && !seenTours[activeTab]) {\r\n  //       setTourOpen(true);\r\n  //       document.body.classList.add(\"no-scroll\");\r\n  //     }\r\n  //   }, 2000);\r\n  // };\r\n  const [refsReady, setRefsReady] = useState({});\r\n  const tourTimeoutRef = useRef(null);\r\n  // Update refs when provided by RefProvider\r\n  const handleRefsUpdate = useCallback((refs) => {\r\n    setAllRefs((prevRefs) => {\r\n      if (prevRefs !== refs) {\r\n        // Compare references\r\n        return refs;\r\n      }\r\n      return prevRefs; // No update if refs is the same\r\n    });\r\n\r\n    const readyTabs = {};\r\n    Object.keys(refs).forEach((key) => {\r\n      if (key.startsWith(\"tab_\") && refs[key].current) {\r\n        const tab = key.split(\"_\")[1];\r\n        readyTabs[tab] = true;\r\n      }\r\n    });\r\n\r\n    setRefsReady((prev) => {\r\n      const newReadyTabs = { ...prev, ...readyTabs };\r\n      if (JSON.stringify(newReadyTabs) !== JSON.stringify(prev)) {\r\n        return newReadyTabs; // Only update if content changes\r\n      }\r\n      return prev;\r\n    });\r\n  }, []);\r\n  // Close tour and clear timeout when switching tabs\r\n  useEffect(() => {\r\n    setTourOpen(false);\r\n    document.body.classList.remove(\"no-scroll\"); // Remove scroll lock\r\n    if (tourTimeoutRef.current) {\r\n      clearTimeout(tourTimeoutRef.current); // Prevent tour from opening for previous tab\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Open tour after a 2-second delay if refs are ready and tour hasnâ€™t been seen\r\n  useEffect(() => {\r\n    if (refsReady[activeTab] && !seenTours[activeTab]) {\r\n      console.log(\"Calling Inside\");\r\n      console.log(allRefs);\r\n\r\n      tourTimeoutRef.current = setTimeout(() => {\r\n        setTourOpen(true);\r\n        document.body.classList.add(\"no-scroll\");\r\n      }, 2000);\r\n    }\r\n  }, [activeTab, refsReady[activeTab], seenTours[activeTab]]);\r\n  const previousPathnameRef = useRef(location.pathname);\r\n  // const [sleepData, setSleepData] = useState([]);\r\n  // const elderlyDetails = ls.get(\"elderly_details\");\r\n  // Define tab items with their associated components and icons\r\n  const tabItems = useMemo(\r\n    () => [\r\n      {\r\n        label: \"Overview\",\r\n        key: \"overview\",\r\n        icon: <HomeOutlined />,\r\n        component: <OverviewTab />,\r\n      },\r\n      {\r\n        label: \"Sleep\",\r\n        key: \"sleep\",\r\n        icon: <MoonOutlined />,\r\n        component: <SleepTab />,\r\n      },\r\n      {\r\n        label: \"Wellness Insights\",\r\n        key: \"health\",\r\n        icon: <HeartOutlined />,\r\n        component: <HealthTab />,\r\n      },\r\n      {\r\n        label: \"Activity\",\r\n        key: \"activity\",\r\n        icon: <PullRequestOutlined />,\r\n        component: <ActivityTab />,\r\n      },\r\n      // {\r\n      //   label: \"Data Analyze\",\r\n      //   key: \"dataAnalyze\",\r\n      //   icon: <BarChartOutlined />,\r\n      //   component: <DataAnalyzeTab />,\r\n      // },\r\n      {\r\n        label: \"Live Map\",\r\n        key: \"liveMap\",\r\n        icon: <EnvironmentOutlined />,\r\n        component: <LiveMapTab />,\r\n      },\r\n      {\r\n        label: \"Trends\",\r\n        key: \"trends\",\r\n        icon: <LineChartOutlined />,\r\n        component: <TrendTab />,\r\n      },\r\n      {\r\n        label: \"Communication\",\r\n        key: \"communication\",\r\n        icon: <MessageOutlined />,\r\n        component: <CommunicationTab />,\r\n      },\r\n      {\r\n        label: \"Personal Records\",\r\n        key: \"healthData\",\r\n        icon: <DatabaseOutlined />,\r\n        component: <HealthDataTab />,\r\n      },\r\n      {\r\n        label: \"Trusted Contacts\",\r\n        key: \"emergencyContacts\",\r\n        icon: <ContactsOutlined />,\r\n        component: <EmergencyContactsTab />,\r\n      },\r\n      {\r\n        label: \"Notifications History\",\r\n        key: \"alertHistory\",\r\n        icon: <AlertOutlined />,\r\n        component: <AlertHistoryTab />,\r\n      },\r\n      {\r\n        label: \"Devices\",\r\n        key: \"devices\",\r\n        icon: <MobileOutlined />,\r\n        component: <DevicesTab />,\r\n      },\r\n      {\r\n        label: \"Reports\",\r\n        key: \"reports\",\r\n        icon: <FileTextOutlined />,\r\n        component: <ReportsTab />,\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  // Sync URL with activeTab state\r\n  useLayoutEffect(() => {\r\n    ls.set(\"activeElderlyTab\", activeTab);\r\n    navigate(`${location.pathname}?tab=${activeTab}`, { replace: true });\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    const queryParams = new URLSearchParams(location.search);\r\n    const tab = queryParams.get(\"tab\");\r\n    if (tab && tab !== activeTab) {\r\n      setActiveTab(tab);\r\n    }\r\n  }, [location.search]);\r\n\r\n  const resizeCharts = useCallback(() => {\r\n    const charts = document.querySelectorAll(\".echarts\");\r\n    charts.forEach((chart) => {\r\n      if (chart && chart.echartsInstance) {\r\n        chart.echartsInstance.resize();\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    const handleResize = () => resizeCharts();\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [resizeCharts]);\r\n\r\n  //get elderly details\r\n  const getElderlyDetails = useCallback(() => {\r\n    getDetails({ id: params.id })\r\n      .then((res) => {\r\n        const updatedElderlyDetails = {\r\n          ...res?.data,\r\n          // deviceId: \"E598A28DB9EB\",\r\n          deviceId:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n        };\r\n\r\n        setElderlyDetails(updatedElderlyDetails);\r\n        ls.set(\"elderly_details\", updatedElderlyDetails);\r\n        subscribesToMqtt({\r\n          uids:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n        });\r\n        fatchSleepData({\r\n          uids:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n          to_date: dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error ==================>\", error);\r\n        setSleepDataLoading(false);\r\n      });\r\n  }, [dailyRepDate]);\r\n  useEffect(() => {\r\n    ls.set(\"elderly_details\", []);\r\n    ls.set(\"sleepData\", []);\r\n    setSleepDataLoading(true);\r\n    getElderlyDetails();\r\n  }, [getElderlyDetails]);\r\n  function fatchSleepData({ uids, to_date }) {\r\n    setSleepDataLoading(true);\r\n    getSleepData({\r\n      uids: uids,\r\n      elderly_id: params.id,\r\n      to_date: dailyRepDate || to_date,\r\n    })\r\n      .then((res) => {\r\n        setSleepData(res?.data);\r\n        ls.set(\"sleepData\", res?.data);\r\n        setSleepDataLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error ==================>\", error);\r\n        setSleepDataLoading(false);\r\n      });\r\n  }\r\n  const subscribesToMqtt = useCallback(\r\n    (data) => {\r\n      const currentPathname = location.pathname;\r\n      const isElderlyProfile = currentPathname.includes(\r\n        \"/supporter/elderlies/elderly-profile\"\r\n      );\r\n\r\n      if (isElderlyProfile) {\r\n        const uids = data?.uids.split(\",\"); // Split the comma-separated string into an array\r\n\r\n        // Loop over each UID and subscribe to MQTT individually\r\n        uids.forEach((uid) => {\r\n          subscribeToMqtt({\r\n            uid: uid,\r\n            messageType: [\"1\", \"2\", \"3\", \"4\"],\r\n            topics: {\r\n              pub: [uid],\r\n            },\r\n          })\r\n            .then((res) => {\r\n              console.log(`Subscription for UID ${uid}:`, res);\r\n            })\r\n            .catch((err) => {\r\n              console.log(`Error for UID ${uid}:`, err);\r\n            });\r\n        });\r\n      }\r\n    },\r\n    [params.id]\r\n  );\r\n\r\n  const tabListRef = useRef(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [startX, setStartX] = useState(0);\r\n  const [scrollLeft, setScrollLeft] = useState(0);\r\n\r\n  const [isScrollableLeft, setIsScrollableLeft] = useState(false);\r\n  const [isScrollableRight, setIsScrollableRight] = useState(true);\r\n\r\n  const handleMouseDown = (e) => {\r\n    if (e.button !== 0) return; // Only respond to the left mouse button\r\n    setIsDragging(true);\r\n    setStartX(e.pageX - tabListRef.current.offsetLeft);\r\n    setScrollLeft(tabListRef.current.scrollLeft);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDragging) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - tabListRef.current.offsetLeft;\r\n    const walk = (x - startX) * 0.8; // Adjust multiplier for smoothness\r\n    tabListRef.current.scrollLeft = scrollLeft - walk;\r\n\r\n    // Update indicators with requestAnimationFrame for better performance\r\n    requestAnimationFrame(updateScrollIndicators);\r\n  };\r\n\r\n  const handleMouseUp = () => setIsDragging(false);\r\n  const handleMouseLeave = () => setIsDragging(false);\r\n\r\n  const updateScrollIndicators = () => {\r\n    if (!tabListRef.current) return;\r\n    const { scrollLeft, scrollWidth, clientWidth } = tabListRef.current;\r\n    setIsScrollableLeft(scrollLeft > 0);\r\n    setIsScrollableRight(scrollLeft + clientWidth < scrollWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateScrollIndicators();\r\n  }, [tabItems]);\r\n\r\n  const buttonStyles = {\r\n    fontSize: \"14px\",\r\n    padding: \"14px 18px\",\r\n    borderRadius: \"8px\",\r\n    // backgroundColor: \"#80CAA7\",\r\n    // color: \"white\",\r\n  };\r\n  const buttonStyles2 = {\r\n    fontSize: \"14px\",\r\n    padding: \"14px 18px\",\r\n    borderRadius: \"8px\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    const tourStepsByTab = {\r\n      overview: [\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Shows sleep-related timestamps like when the person went to bed,\r\n              fell asleep, and woke up.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Current Health Status</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays real-time heart rate and breathing patterns.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Wellness Score</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays your overall wellness score based on various health\r\n              metrics, including activity levels, heart rate, and recovery\r\n              trends.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              Sensitivity Indicators & Special Needs\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Provides insights into personal health sensitivities, special\r\n              needs, and custom health concerns, including specific conditions\r\n              or risk factors added by the user.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step5?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Pattern</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visual representation of sleep phases, breathing disruptions, and\r\n              awakenings.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step6?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Live Room Map</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Shows the placement of the bed and other objects within the\r\n              monitored room and live user activity.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step7?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Upcoming Events</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Lists scheduled activities and important dates.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step8?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Recent Notification Log</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays recent alerts and observations related to the elderly's\r\n              activities.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step9?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n      sleep: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Sleep Score & Quality</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays an overall sleep score, efficiency, and key quality\r\n              indicators like the sleep phase index and bed exit frequency.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step1?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Timeline</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              A detailed visual representation of your sleep stages, showing\r\n              when you were awake, in light sleep, or deep sleep throughout the\r\n              night.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Events</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Tracks key sleep events such as breathing disruptions, deep\r\n              breathing phases, and other significant occurrences that may\r\n              impact sleep quality.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Data & Reports</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section provides detailed graphs and charts for sleep\r\n              duration, quality, disturbances, bed exits, and trends over 30\r\n              days.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n          mask: false,\r\n        },\r\n      ],\r\n      health: [\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Wellness Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays key health indicators, including Pulse Rhythm, Breathing\r\n              Rhythm, and the total count of Wellness Events.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step1?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              Current Heart & Breathing Patterns\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays real-time heart rate and breathing patterns, along with\r\n              today's average, minimum, and maximum values.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Breathing Rate Trends</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays your breathing rate trends from the past week,\r\n              highlighting fluctuations and patterns for better insights.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Heart Rate Trends</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Provides a summary of your heart rate variations over the last 7\r\n              days, helping you track patterns and overall wellness.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              {\" \"}\r\n              Wellness Patterns & Insights\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualizes key metrics such as sleep disturbances, stress levels,\r\n              and other important trends through interactive graphs and reports.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step5?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n          mask: false,\r\n        },\r\n      ],\r\n      activity: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Daily Activity Summary</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays key metrics such as Indoor Duration, Walking Steps, Skill\r\n              Time, Walking Speed, and Room Entry/Exit Count.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step1?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Daily Routine Trends</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Tracks sleep-related trends such as when you went to bed, fell\r\n              asleep, woke up, and got up, helping you understand your daily\r\n              habits.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Routine Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays key routine patterns, including bedtime, wake-up time,\r\n              and time spent in different activities throughout the day.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              {\" \"}\r\n              Walking & Mobility Insights\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualizes trends in Walking Steps, Walking Speed, and Room\r\n              Entry/Exit Frequency over 30 days.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          placement: \"top\",\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n          mask: false,\r\n        },\r\n      ],\r\n    };\r\n    setTourSteps(tourStepsByTab[activeTab] || []);\r\n  }, [refsReady[activeTab], activeTab]);\r\n\r\n  const getActiveTabSteps = () => {\r\n    if (tourSteps.length > 0) {\r\n      return tourSteps;\r\n    } else {\r\n      return [];\r\n    }\r\n  };\r\n  const handleTourFinish = () => {\r\n    setTourOpen(false);\r\n    document.body.classList.remove(\"no-scroll\");\r\n    const updatedSeenTours = { ...seenTours, [activeTab]: true };\r\n    setSeenTours(updatedSeenTours);\r\n    ls.set(\"seenTours\", updatedSeenTours);\r\n  };\r\n  return (\r\n    <div id=\"elderly-profile-tabs\" className=\"rounded-2xl mt-8 relative\">\r\n      <RefProvider onRefsUpdate={handleRefsUpdate}>\r\n        <CustomContext.Provider\r\n          value={{\r\n            sleepData,\r\n            sleepDataLoading,\r\n            elderlyDetails,\r\n            getElderlyDetails,\r\n          }}\r\n        >\r\n          <ConfigProvider\r\n            theme={{\r\n              token: {\r\n                fontFamily: \"Baloo2\",\r\n                colorPrimary: \"#252F67\",\r\n                colorLinkActive: \"#252F67\",\r\n                colorLinkHover: \"#252F67\",\r\n                colorLink: \"#252F67\",\r\n              },\r\n            }}\r\n          >\r\n            {isScrollableLeft && (\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: 0,\r\n                  top: 0,\r\n                  bottom: 0,\r\n                  width: \"30px\",\r\n                  background:\r\n                    \"linear-gradient(to right, white, rgba(255,255,255,0))\",\r\n                  zIndex: 1,\r\n                  pointerEvents: \"none\",\r\n                  borderRadius: \"14px\",\r\n                  height: \"60px\",\r\n                }}\r\n              />\r\n            )}\r\n            {isScrollableRight && (\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  right: 0,\r\n                  top: 0,\r\n                  bottom: 0,\r\n                  width: \"30px\",\r\n                  background:\r\n                    \"linear-gradient(to left, white, rgba(255,255,255,0))\",\r\n                  zIndex: 1,\r\n                  pointerEvents: \"none\",\r\n                  borderRadius: \"14px\",\r\n                  height: \"60px\",\r\n                }}\r\n              />\r\n            )}\r\n            <Tabs\r\n              activeKey={activeTab}\r\n              onChange={setActiveTab}\r\n              size={size}\r\n              className=\"mb-4\"\r\n              tabBarStyle={{ borderBottom: \"none\" }}\r\n              animated={{ inkBar: false, tabPane: false }}\r\n              renderTabBar={(props, DefaultTabBar) => (\r\n                <div\r\n                  className=\"tabs-drag-container\"\r\n                  ref={tabListRef}\r\n                  onMouseDown={handleMouseDown}\r\n                  onMouseMove={handleMouseMove}\r\n                  onMouseUp={handleMouseUp}\r\n                  onMouseLeave={handleMouseLeave}\r\n                  onScroll={updateScrollIndicators}\r\n                  style={{\r\n                    overflowX: \"auto\",\r\n                    borderRadius: \"14px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    cursor: isDragging ? \"grabbing\" : \"grab\",\r\n                    display: \"flex\",\r\n                    scrollbarWidth: \"none\",\r\n                    msOverflowStyle: \"none\",\r\n                    userSelect: \"none\",\r\n                  }}\r\n                >\r\n                  <style>\r\n                    {`\r\n                    .tabs-drag-container::-webkit-scrollbar {\r\n                      display: none;\r\n                    }\r\n                  `}\r\n                  </style>\r\n                  <DefaultTabBar {...props} />\r\n                </div>\r\n              )}\r\n            >\r\n              {tabItems.map((item) => (\r\n                <Tabs.TabPane\r\n                  tab={\r\n                    <span className=\"flex items-center gap-2 !border-none\">\r\n                      {item.icon}\r\n                      {item.label}\r\n                    </span>\r\n                  }\r\n                  key={item.key}\r\n                >\r\n                  <Suspense fallback={<SkeletonView />}>\r\n                    {item.component}\r\n                  </Suspense>\r\n                </Tabs.TabPane>\r\n              ))}\r\n            </Tabs>\r\n          </ConfigProvider>\r\n          <ConfigProvider\r\n            theme={{\r\n              token: {\r\n                fontFamily: \"Baloo2\",\r\n                colorPrimary: \"#252F67\",\r\n                colorLinkActive: \"#252F67\",\r\n                colorLinkHover: \"#252F67\",\r\n                colorLink: \"#252F67\",\r\n                primaryColor: \"#252F67\",\r\n              },\r\n            }}\r\n          >\r\n            <Tour\r\n              open={tourOpen}\r\n              onFinish={handleTourFinish}\r\n              steps={getActiveTabSteps()}\r\n              onClose={handleTourFinish}\r\n            />\r\n          </ConfigProvider>\r\n        </CustomContext.Provider>\r\n      </RefProvider>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/ElderlyProfile-Ds_B1USn.js"}