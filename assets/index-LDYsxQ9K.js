import{W as Z,V as z,r as t,a1 as q,j as e,a4 as F,l as S,a6 as Q,a7 as V,a8 as W,a9 as $,aa as G,ab as J}from"./index-DrfFrwDA.js";import{D as K}from"./index-Bd3QvTnY.js";import"./index-MBzz23Yr.js";import{A as X,g as Y}from"./AdminUser-Bqc85sTR.js";import{A as ee}from"./AdminSupportAgentTableAction-CClZgl-K.js";import{t as te}from"./throttle-BO28tkrr.js";import"./index-ByKumWUJ.js";try{let n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},c=new n.Error().stack;c&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[c]="f369b406-b49b-4cac-8e47-c0829b75f608",n._sentryDebugIdIdentifier="sentry-dbid-f369b406-b49b-4cac-8e47-c0829b75f608")}catch{}const xe=()=>{const n=Z();let c=z();const[N,w]=t.useState("Dashboard"),{role:y}=t.useContext(q);t.useState(!1);const[x,v]=t.useState("Support Agents"),[A,se]=t.useState("[Nursing Home]â€™s Support Agents"),[L,ae]=t.useState("Add New Support Agent"),[g,C]=t.useState(""),[i,I]=t.useState(""),[T,h]=t.useState(!1),[l,d]=t.useState({current:1,size:10}),[E,ne]=t.useState([{text:"Support Agents",bo:!0,warring:!1}]),[D,b]=t.useState({}),[H,P]=t.useState(0);let[M,re]=t.useState([{title:"Nursing Home",key:"id",render:a=>e.jsx("button",{children:e.jsx(F,{data:a})})},{title:"Contact",render:a=>e.jsx("button",{children:e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:a.contactNumber})})},{title:"",key:"id",width:100,render:a=>e.jsx(ee,{getlist:()=>m(s),data:a})}]);const k=["Time","Name"];t.useState({nursingHomes:0,elderlies:0,devicesConnected:0,monthlyRevenue:0});const[s,u]=t.useState({order:"1",orderType:"time",name:""}),[B,O]=t.useState([]),U=()=>{h(!0)};t.useState(S.get("user"));const _=()=>{let a=S.get("user"),r=new URLSearchParams(c.search),o={...s},p=r.get("name"),f=r.get("id");w("User"),o[p]=f,o.role="Support Agent",p=="salesAgentId"&&b({nursingHomeId:f,salesAgentId:n.id}),p=="distributorId"&&b({nursingHomeId:f,distributorId:n.id});let j=y;j||(j=a.role),u(o),d({current:1,size:10})},m=a=>{a.role&&te(()=>{Y({...a,...l}).then(r=>{var o;P(r.data.total),O((o=r==null?void 0:r.data)==null?void 0:o.records)})})};t.useEffect(()=>{_()},[]),t.useEffect(()=>{m(s)},[l]),t.useEffect(()=>{i&&s.orderType!=i&&(u({...s,orderType:i.toLowerCase(),order:i==="Time"?"1":"0"}),d({...l,current:1}))},[i]),t.useEffect(()=>{d({...l,current:1})},[s.order]);const R=()=>{u({...s,name:g.trim()}),d({...l,current:1})};return e.jsxs("div",{className:"pl-[20px] pr-[50px]",children:[e.jsxs("div",{className:"h-[100px] flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:" text-[28px] font-semibold font-cblock ",children:N})}),e.jsxs("div",{className:"h-[40px] pl-[20px] pr-[20px]  rounded-[20px] bg-cblock   flex items-center ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:e.jsx("path",{d:"M8.65073 2.31039L11.4807 5.14035L4.31724 12.3038L1.48886 9.47387L8.65073 2.31039ZM13.6281 1.62787L12.3661 0.365808C11.8783 -0.121936 11.0863 -0.121936 10.5969 0.365808L9.38799 1.57474L12.218 4.40473L13.6281 2.99457C14.0064 2.61625 14.0064 2.00617 13.6281 1.62787ZM0.00787518 13.4516C-0.0436269 13.6834 0.165643 13.8911 0.397455 13.8347L3.551 13.0701L0.722618 10.2401L0.00787518 13.4516Z",fill:"white"})}),e.jsx("div",{className:"pl-[20px]  text-white text-[14px] font-semibold  ",children:"Edit Nursing Home"})]})]}),e.jsx("div",{className:"pt-[20px] pb-[10px] flex",children:e.jsx(K,{menus:E,activeTab:x,setActiveTab:v})}),e.jsx("div",{className:"",children:(x=="Support Agents"||x=="Nursing Homes")&&e.jsxs("div",{children:[e.jsxs("div",{className:" bg-white rounded-2xl",children:[e.jsxs("div",{className:" px-[22px] py-6 flex items-start flex-col lg:flex-row justify-between gap-2",children:[e.jsx("div",{className:" flex items-center justify-between w-full",children:e.jsx("h2",{className:" text-2xl font-bold text-text-primary",children:A})}),e.jsxs("div",{className:" flex items-center justify-end gap-5 w-full",children:[e.jsx(Q,{search:g,setSearch:C,handBlurchange:R,placeholder:"Search Nursing Home"}),e.jsx(V,{query:s,setQuey:u,selected:i,setSelected:I,data:k}),e.jsxs(W,{onClick:()=>U(),className:" hidden lg:flex min-w-[80px]",children:[e.jsx(X,{})," ",L]})]})]}),e.jsx("div",{className:" grid grid-cols-1",children:e.jsx($.Provider,{value:{getlist:m,query:s,totle:H,page:l,SetPage:d},children:e.jsx(G,{tableData:B,columns:M})})})]}),e.jsx(J,{item:{},changeParams:D,getlist:()=>m(s),role:s.role,modalOPen:T,setModalOpen:h})]})})]})};export{xe as default};
//# sourceMappingURL=index-LDYsxQ9K.js.map
