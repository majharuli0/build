import{t as T,i as y,r as n,f as k,u as w,v as m,w as _,l as o,j as U,L as x,x as D,y as E}from"./index-B7QPh-mH.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new s.Error().stack;r&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[r]="5fd1934d-f09f-44b2-b997-dec6f5bc26be",s._sentryDebugIdIdentifier="sentry-dbid-5fd1934d-f09f-44b2-b997-dec6f5bc26be")}catch{}function L(){const s=T(),r=y(),{role:l}=r.state||{},[i,u]=n.useState(!0);console.log(s.id,l);const{setStoreRole:d,setUser:f}=k(),t=w(),c=()=>{let e=o.get("user");const h=D();o.get("rootToken")||(o.set("rootToken",h),o.set("rootRole",e.role))},g=e=>{E(e)},a=n.useCallback(()=>{m(s.id).then(e=>{e.data&&b(e.data)}).catch(e=>{console.log(e)}),_(s.id).then(e=>{console.log(e),c(),g(e.data.access_token)}).catch(e=>{console.log(e)})},[l,s.id]),p=e=>{e=="super_admin"?t("/support-agent/dashboard/"):e=="supports_agent"?t("/supporter/support-agent/dashboard"):e=="nurse"?t("/supporter/nurse/dashboard"):e=="end_user"?t("/supporter/end-user/dashboard"):t("/support-nurnt/dashboard")};function b(e){o.set("user",e),o.set("mainRole",e.role),o.set("role",e.role),d({role:e.role}),f({role:e.role}),setTimeout(()=>{u(!1),p(e==null?void 0:e.role)},1500)}if(n.useEffect(()=>{a()},[a]),i)return U.jsx(x,{loaderTitle:"Loading User Profile"})}export{L as default};
//# sourceMappingURL=index-CmCRwLHC.js.map
