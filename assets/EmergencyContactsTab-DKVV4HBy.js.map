{"version":3,"file":"EmergencyContactsTab-DKVV4HBy.js","sources":["../../node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js","../../src/Pages/Elderlies/Components/TabContents/EmergencyContacts/EmergencyContactsTab.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"1\", key: \"gxeob9\" }],\n  [\"circle\", { cx: \"12\", cy: \"19\", r: \"1\", key: \"lyex9k\" }]\n];\nconst EllipsisVertical = createLucideIcon(\"ellipsis-vertical\", __iconNode);\n\nexport { __iconNode, EllipsisVertical as default };\n//# sourceMappingURL=ellipsis-vertical.js.map\n","import React, { useState, useContext } from \"react\";\nimport { MdPerson } from \"react-icons/md\";\nimport { MdPerson2 } from \"react-icons/md\";\nimport { RiBuilding3Fill } from \"react-icons/ri\";\nimport { MdCrisisAlert } from \"react-icons/md\";\nimport { MdCall } from \"react-icons/md\";\nimport { Button, Dropdown } from \"antd\";\nimport CustomButton from \"@/Shared/button/CustomButton\";\nimport { MdOutlineAdd } from \"react-icons/md\";\nimport DeleteModal from \"@/Shared/delete/DeleteModal\";\nimport CreateAndEditModal from \"@/Components/CreateAndEditModal/CreateAndEditModal\";\nimport { CustomContext } from \"@/Context/UseCustomContext\";\nimport {\n  addEmergencyContactNumber,\n  deleteEmergencyContactNumber,\n} from \"@/api/elderlySupport\";\nimport CustomErrorToast from \"@/Shared/Tosat/CustomErrorToast\";\nimport toast from \"react-hot-toast\";\nimport CustomToast from \"@/Shared/Tosat/CustomToast\";\nimport { TbPhoneCalling } from \"react-icons/tb\";\nimport { Empty } from \"antd\";\nimport { BiCopy } from \"react-icons/bi\";\nimport { IoFemale, IoMale } from \"react-icons/io5\";\nimport { MoreHorizontal, MoreVertical } from \"lucide-react\";\n\nexport default function EmergencyContactsTab() {\n  const { elderlyDetails, getElderlyDetails } = useContext(CustomContext);\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const addContactNumber = (data) => {\n    addEmergencyContactNumber({ id: elderlyDetails?._id, data: data })\n      .then((res) => {\n        toast.custom((t) => (\n          <CustomToast t={t} text={\"Contact Number Added Successfully!\"} />\n        ));\n        getElderlyDetails();\n      })\n      .catch((err) => {\n        toast.custom((t) => (\n          <CustomErrorToast t={t} title=\"Error\" text={err.message} />\n        ));\n      });\n  };\n  return (\n    <>\n      <div className=\"flex flex-col gap-4 mt-6\">\n        <div className=\"flex justify-between items-center \">\n          <h1 className=\"text-2xl font-bold\">Trusted Contacts</h1>\n          <CustomButton\n            onClick={() => setIsModalOpen(true)}\n            size=\"large\"\n            className=\"bg-white !text-primary px-4 py-2 rounded-lg hover:!bg-primary/5 flex items-center gap-2\"\n          >\n            <MdOutlineAdd size={20} />\n            Add New Contact\n          </CustomButton>\n        </div>\n        {elderlyDetails?.emergency_contacts?.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full\">\n            {elderlyDetails?.emergency_contacts?.map((contact) => (\n              <EmergencyContactCard key={contact.id} contact={contact} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"w-full flex items-center justify-center\">\n            <Empty description=\"No contact number available to show\" />\n          </div>\n        )}\n      </div>\n      <CreateAndEditModal\n        modalOpen={isModalOpen}\n        setModalOpen={setIsModalOpen}\n        type=\"contact\"\n        onSubmitData={addContactNumber}\n      />\n    </>\n  );\n}\nexport const EmergencyContactCard = ({ contact }) => {\n  const { elderlyDetails, getElderlyDetails } = useContext(CustomContext);\n  const [closeModal, setCloseModal] = useState(false);\n  const onDeleteContactNumber = (id) => {\n    deleteEmergencyContactNumber({\n      id: elderlyDetails?._id,\n      emergencyContactId: id,\n    })\n      .then((res) => {\n        toast.custom((t) => (\n          <CustomToast t={t} text={\"Contact Number Deleted Successfully!\"} />\n        ));\n        getElderlyDetails();\n      })\n      .catch((err) => {\n        toast.custom((t) => (\n          <CustomErrorToast t={t} title=\"Error\" text={err.message} />\n        ));\n      });\n  };\n  const getRandomColor = () => {\n    // Generate random RGB values\n    const r = Math.floor(Math.random() * 156) + 50; // Keep colors lighter (50-205 range)\n    const g = Math.floor(Math.random() * 156) + 50;\n    const b = Math.floor(Math.random() * 156) + 50;\n\n    // Return the color as a hex string\n    return `rgb(${r}, ${g}, ${b})`;\n  };\n  return (\n    <>\n      <div className=\"flex  bg-white p-4 rounded-lg items-center gap-8 justify-between\">\n        <div\n          // key={index}\n          className=\"flex flex-col gap-1 cursor-pointer transition-shadow animate-fadeIn !w-full\"\n        >\n          <div className=\"flex items-center gap-4 w-full\">\n            {contact?.gender?.toLowerCase() == \"male\" ? (\n              <div className=\"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white text-xl\">\n                <IoMale />\n              </div>\n            ) : (\n              <div className=\"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-white text-xl\">\n                <IoFemale />\n              </div>\n            )}\n\n            <div className=\"flex flex-col gap-1\">\n              <p className=\"font-semibold text-gray-900 text-[20px] !leading-none\">\n                {contact.contact_person}\n              </p>\n              <p className=\"text-gray-600 text-base m-0 !leading-none\">\n                {contact.relationship || \"Relation\"}\n              </p>\n            </div>\n          </div>\n          <p className=\"text-base text-gray-600 mt-1 pl-4\">\n            Distance Between:{\" \"}\n            <span className=\"font-semibold\">\n              {contact.coverage_area || \"---\"}km\n            </span>\n          </p>\n          <div className=\"mt-3 py-3 border-t-2 border-t-[#F1F5F9] rounded-md text-start text-[20px] font-medium text-gray-800 flex items-center justify-between\">\n            <span>\n              {`${contact.contact_number_code}  ${contact.contact_number}`}\n            </span>\n\n            <div id=\"callbtnManu\">\n              <Dropdown\n                menu={{\n                  items: [{ label: \"Remove\", key: \"1\" }],\n                  onClick: () => setCloseModal(true),\n                }}\n                trigger={[\"click\"]}\n                placement=\"bottomRight\"\n              >\n                <Button shape=\"circle\" icon={<MoreVertical size=\"18px\" />} />\n              </Dropdown>\n            </div>\n          </div>\n        </div>\n      </div>\n      <DeleteModal\n        onDelete={() => onDeleteContactNumber(contact?._id)}\n        modalOPen={closeModal}\n        setModalOpen={setCloseModal}\n        title={`Are you sure to remove this contact?`}\n        title2={\"This process cannot be undo.\"}\n        okText={\"Remove Contact\"}\n      />\n    </>\n  );\n};\n\nconst contactNumbers = [\n  {\n    id: 1,\n    name: \"Kabir\",\n    contactType: \"person\",\n    gender: \"male\",\n    number: \"+8801234890\",\n  },\n  {\n    id: 2,\n    name: \"Hospital ABX\",\n    contactType: \"others\",\n    number: \"91168\",\n  },\n  {\n    id: 3,\n    name: \"Police\",\n    contactType: \"emergency\",\n    number: \"911\",\n  },\n];\n"],"names":["__iconNode","EllipsisVertical","createLucideIcon","EmergencyContactsTab","elderlyDetails","getElderlyDetails","useContext","CustomContext","isModalOpen","setIsModalOpen","useState","addContactNumber","data","addEmergencyContactNumber","res","toast","t","jsx","CustomToast","err","CustomErrorToast","jsxs","Fragment","CustomButton","MdOutlineAdd","_a","_b","contact","EmergencyContactCard","Empty","CreateAndEditModal","closeModal","setCloseModal","onDeleteContactNumber","id","deleteEmergencyContactNumber","IoMale","IoFemale","Dropdown","Button","MoreVertical","DeleteModal"],"mappings":"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","x_google_ignoreList":[0]}