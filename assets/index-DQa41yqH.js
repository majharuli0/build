import{gY as w,gZ as I,W as k,r as t,g_ as S,g$ as T,H as E,j as s,gV as D,h0 as _,h1 as v,gK as P,h2 as A,h3 as B,h4 as z}from"./index-BByMmqA4.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},c=new a.Error().stack;c&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[c]="95ff7244-6654-4a4d-9a4f-d92afa274bc4",a._sentryDebugIdIdentifier="sentry-dbid-95ff7244-6654-4a4d-9a4f-d92afa274bc4")}catch{}function q(){const{page:a,setPage:c,actions:R,setActions:d}=w(),{setCustomers:m}=I(),{type:l}=k(),[h,b]=t.useState(!0),x=S("customer"),[r,p]=t.useState(0),[C,y]=t.useState({}),{data:e,isLoading:j,isSuccess:u,refetch:U}=T({...a,...C,soft_deleted:l==="deactivated"});t.useEffect(()=>{u&&e&&m((e==null?void 0:e.data)||[]),p((e==null?void 0:e.total)||0)},[e,u]);const o=t.useCallback(()=>{},[a]),f=t.useCallback(n=>{console.log("🗑️ Deleting row:",n),o()},[o]);t.useEffect(()=>{d({fetchData:o,deleteRow:f})},[o,f,d]),t.useEffect(()=>{o()},[a,o]);const N=()=>b(n=>!n),g=t.useCallback(E(n=>{y(i=>({...i,search:n==null?void 0:n.trim()})),c(i=>({...i,page:1}))},1e3),[]);return t.useEffect(()=>()=>{g.cancel()},[]),s.jsx(D,{variant:"noborder",title:s.jsxs("div",{className:"text-xl font-normal capitalize flex items-center gap-2",children:[l," Customers"," ",s.jsx(z,{className:`text-sm ${l!=="active"?l=="paused"?"bg-yellow-600":"bg-red-500":""}`,children:r})]}),className:"mb-7",actions:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"",size:"bt",variant:"outline",placeholder:"Search Customer",onChange:n=>{r>0&&g(n.target.value)}}),s.jsxs(P,{variant:"tertiary",onClick:N,className:"flex items-center gap-2 select-none",children:[s.jsx(A.span,{animate:{rotate:h?0:180},transition:{duration:.25,ease:"easeInOut"},className:"inline-block",children:s.jsx(B,{className:"w-5 h-5"})}),s.jsx("span",{children:"Priority"})]})]}),children:s.jsx("div",{className:"bg-background/50",children:s.jsx(_,{columns:x,data:(e==null?void 0:e.data)||[],isPagination:!0,total:r,limit:15,headerClassName:"bg-background/60",headerTextClassName:"text-text/60",isLoading:j,rowClassName:""})})})}export{q as C};
//# sourceMappingURL=index-DQa41yqH.js.map
