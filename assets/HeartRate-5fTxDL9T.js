import{r as e,d as f,fB as T,j as l}from"./index-y3ivVodB.js";import j from"./RateChart-4s7i-49Y.js";import{T as M}from"./Template-DH6r_Crg.js";import{g as b}from"./utiles-Bh1Iqrjg.js";import{C as A}from"./UseCustomContext-JwuopvLc.js";import"./index-avEVsDoY.js";import"./WeeklyMonthlyPicker-TSTuaeMT.js";import"./helper-CgipsUzm.js";import"./index-6MKYyd1u.js";import"./index-Cd7czaLl.js";import"./index-BKcp7L8t.js";import"./index-58LAmjUb.js";import"./index-C1BwfOV_.js";function G({isSummaryBtn:D=!0}){const d=e.useContext(A),[x,h]=e.useState([]),{chartToDate:o="",chartFromDate:c="",elderlyDetails:r={}}=d||{},[s,g]=e.useState(f().subtract(1,"day").format("YYYY-MM-DD")),[n,y]=e.useState(f().subtract(7,"day").format("YYYY-MM-DD")),{title:E,color:i,icon:R,dataAnalysis:Y,summaryProps:C}=b("Heart Rate"),p=e.useCallback(()=>{T({uids:r==null?void 0:r.deviceId,to_date:n,from_date:s}).then(m=>{const t=m.data,u={xdata:t==null?void 0:t.map(a=>a.date),maxArray:t==null?void 0:t.map(a=>a.max),minArray:t==null?void 0:t.map(a=>a.min),allAvgNumber:Math.round((t==null?void 0:t.reduce((a,H)=>a+H.avg,0))/t.length)};console.log(u),h(u)}).catch(m=>{console.log(m)})},[s,o,r]);return e.useEffect(()=>{p()},[p]),e.useEffect(()=>{o&&c&&(g(o),y(c))},[o]),l.jsx(M,{title:o?"Heart Rate":"Heart Rate (7 days)",color:i,icon:R,dataAnalysis:Y,isSummaryBtn:D,summaryProps:C,children:l.jsx(j,{dateType:"Week",color:i,cheartInfo:x,fromDate:n,toDate:s})})}export{G as default};
