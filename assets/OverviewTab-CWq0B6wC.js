import{r as U,e as zu,m as jh,f as kt,n as bi,p as Be,eG as Tg,eH as ir,x as ne,b2 as Sg,i as Ag,ap as $g,eI as Cg,eJ as Ng,aW as sc,eK as kg,eL as Pg,S as Eg,d as Oe,j as E,O as ut,aQ as Rg,aF as vo,eM as jg,B as Og,bK as Ig,aY as uc,eN as Lg,$ as zg,u as Oh,F as Bg,bw as Dg,T as Fg,eO as Vg,a6 as Gg,aN as Hg,eP as Yg,eQ as Ug}from"./index-DQy7c-QQ.js";import{S as qg}from"./slick-theme-CPAdxIey.js";import{A as Wg,a as Xg}from"./AlertCloseModal-J5uCB7AS.js";import{g as Ih,a as Jg}from"./elderlySupport-CnK57CVs.js";import{g as Ln,t as Ds,a as Lh,f as Zg,b as Kg,d as Qg,c as zn}from"./helper-BBch2RZo.js";import{C as rn}from"./UseCustomContext-Bv9JlKpe.js";import{C as tm}from"./CreateAndEditModal-uVDoftts.js";import{H as em}from"./HealthConditionModal-DmREDlS5.js";import{E as nm}from"./index-DHtzzFS9.js";import{I as rm,a as im}from"./SuccessModal-9xXBwm8d.js";import{R as om}from"./SmileOutlined-C5_9qA4n.js";import{D as am}from"./index-DahbhpYv.js";import{l as sm}from"./lodash-DE4vylXo.js";import um from"./TimelineGraph-CBFmnSAG.js";import{A as lm}from"./AlertName-DqI-NVpw.js";import{A as cm}from"./ActionManu-CWe6ns7J.js";import{L as fm}from"./LargeTextViewerModal-4UG2n6Dl.js";import{S as hm,L as dm,a as Qa,C as pm}from"./ReactKonvaCore-DYW_3aEY.js";import{T as zh}from"./index-B778KYfo.js";import{F as gm}from"./index-C1cvzJY4.js";import{G as mm}from"./index-C9-oocVi.js";import{W as vm,G as ym}from"./get-up-C5mLunBb.js";import"./index-DULcWRwp.js";import"./leaflet-src-BImD4Ruj.js";/* empty css                */import"./HomeOutlined-BaKS-L7T.js";import"./InfoCircleOutlined-ZEhCMUaZ.js";import"./elderly-DcxWQ7Ec.js";import"./PlusOutlined-C-ym2-MA.js";import"./weekday-Dp8kpFJs.js";import"./SwapRightOutlined-BA0wviLa.js";import"./weekOfYear-CBuXdiWG.js";import"./index-CrMkKcXz.js";const Bh=U.createContext({}),bm=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},_m=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},wm=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,o={};for(let a=i;a>=0;a--)a===0?(o[`${r}${e}-${a}`]={display:"none"},o[`${r}-push-${a}`]={insetInlineStart:"auto"},o[`${r}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${a}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${a}`]={marginInlineStart:0},o[`${r}${e}-order-${a}`]={order:0}):(o[`${r}${e}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/i*100}%`,maxWidth:`${a/i*100}%`}],o[`${r}${e}-push-${a}`]={insetInlineStart:`${a/i*100}%`},o[`${r}${e}-pull-${a}`]={insetInlineEnd:`${a/i*100}%`},o[`${r}${e}-offset-${a}`]={marginInlineStart:`${a/i*100}%`},o[`${r}${e}-order-${a}`]={order:a});return o[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},o},Fs=(t,e)=>wm(t,e),xm=(t,e,n)=>({[`@media (min-width: ${kt(e)})`]:Object.assign({},Fs(t,n))}),Mm=()=>({}),Tm=()=>({}),Sm=zu("Grid",bm,Mm),Am=zu("Grid",t=>{const e=jh(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[_m(e),Fs(e,""),Fs(e,"-xs"),Object.keys(n).map(r=>xm(e,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},Tm);var $m=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lc(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const Cm=["xs","sm","md","lg","xl","xxl"],Nm=U.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=U.useContext(bi),{gutter:i,wrap:o}=U.useContext(Bh),{prefixCls:a,span:s,order:l,offset:u,push:c,pull:h,className:f,children:d,flex:m,style:v}=t,p=$m(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),g=n("col",a),[_,b,y]=Am(g),w={};let x={};Cm.forEach(N=>{let k={};const P=t[N];typeof P=="number"?k.span=P:typeof P=="object"&&(k=P||{}),delete p[N],x=Object.assign(Object.assign({},x),{[`${g}-${N}-${k.span}`]:k.span!==void 0,[`${g}-${N}-order-${k.order}`]:k.order||k.order===0,[`${g}-${N}-offset-${k.offset}`]:k.offset||k.offset===0,[`${g}-${N}-push-${k.push}`]:k.push||k.push===0,[`${g}-${N}-pull-${k.pull}`]:k.pull||k.pull===0,[`${g}-rtl`]:r==="rtl"}),k.flex&&(x[`${g}-${N}-flex`]=!0,w[`--${g}-${N}-flex`]=lc(k.flex))});const A=Be(g,{[`${g}-${s}`]:s!==void 0,[`${g}-order-${l}`]:l,[`${g}-offset-${u}`]:u,[`${g}-push-${c}`]:c,[`${g}-pull-${h}`]:h},f,x,b,y),$={};if(i&&i[0]>0){const N=i[0]/2;$.paddingLeft=N,$.paddingRight=N}return m&&($.flex=lc(m),o===!1&&!$.minWidth&&($.minWidth=0)),_(U.createElement("div",Object.assign({},p,{style:Object.assign(Object.assign(Object.assign({},$),v),w),className:A,ref:e}),d))});var km=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cc(t,e){const[n,r]=U.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<ir.length;o++){const a=ir[o];if(!e[a])continue;const s=t[a];if(s!==void 0){r(s);return}}};return U.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const Pm=U.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:a,children:s,gutter:l=0,wrap:u}=t,c=km(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:h,direction:f}=U.useContext(bi),[d,m]=U.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[v,p]=U.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),g=cc(i,v),_=cc(r,v),b=U.useRef(l),y=Tg();U.useEffect(()=>{const O=y.subscribe(B=>{p(B);const I=b.current||0;(!Array.isArray(I)&&typeof I=="object"||Array.isArray(I)&&(typeof I[0]=="object"||typeof I[1]=="object"))&&m(B)});return()=>y.unsubscribe(O)},[]);const w=()=>{const O=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((I,R)=>{if(typeof I=="object")for(let j=0;j<ir.length;j++){const z=ir[j];if(d[z]&&I[z]!==void 0){O[R]=I[z];break}}else O[R]=I}),O},x=h("row",n),[A,$,N]=Sm(x),k=w(),P=Be(x,{[`${x}-no-wrap`]:u===!1,[`${x}-${_}`]:_,[`${x}-${g}`]:g,[`${x}-rtl`]:f==="rtl"},o,$,N),L={},T=k[0]!=null&&k[0]>0?k[0]/-2:void 0;T&&(L.marginLeft=T,L.marginRight=T);const[M,S]=k;L.rowGap=S;const C=U.useMemo(()=>({gutter:[M,S],wrap:u}),[M,S,u]);return A(U.createElement(Bh.Provider,{value:C},U.createElement("div",Object.assign({},c,{className:P,style:Object.assign(Object.assign({},L),a),ref:e}),s)))}),Bu=ne.createContext({});Bu.Consumer;var Dh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Em=t=>{var{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=Dh(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:s}=U.useContext(bi),l=s("list",e),u=Be(`${l}-item-meta`,n),c=ne.createElement("div",{className:`${l}-item-meta-content`},i&&ne.createElement("h4",{className:`${l}-item-meta-title`},i),o&&ne.createElement("div",{className:`${l}-item-meta-description`},o));return ne.createElement("div",Object.assign({},a,{className:u}),r&&ne.createElement("div",{className:`${l}-item-meta-avatar`},r),(i||o)&&c)},Rm=ne.forwardRef((t,e)=>{const{prefixCls:n,children:r,actions:i,extra:o,styles:a,className:s,classNames:l,colStyle:u}=t,c=Dh(t,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:h,itemLayout:f}=U.useContext(Bu),{getPrefixCls:d,list:m}=U.useContext(bi),v=A=>{var $,N;return Be((N=($=m==null?void 0:m.item)===null||$===void 0?void 0:$.classNames)===null||N===void 0?void 0:N[A],l==null?void 0:l[A])},p=A=>{var $,N;return Object.assign(Object.assign({},(N=($=m==null?void 0:m.item)===null||$===void 0?void 0:$.styles)===null||N===void 0?void 0:N[A]),a==null?void 0:a[A])},g=()=>{let A=!1;return U.Children.forEach(r,$=>{typeof $=="string"&&(A=!0)}),A&&U.Children.count(r)>1},_=()=>f==="vertical"?!!o:!g(),b=d("list",n),y=i&&i.length>0&&ne.createElement("ul",{className:Be(`${b}-item-action`,v("actions")),key:"actions",style:p("actions")},i.map((A,$)=>ne.createElement("li",{key:`${b}-item-action-${$}`},A,$!==i.length-1&&ne.createElement("em",{className:`${b}-item-action-split`})))),w=h?"div":"li",x=ne.createElement(w,Object.assign({},c,h?{}:{ref:e},{className:Be(`${b}-item`,{[`${b}-item-no-flex`]:!_()},s)}),f==="vertical"&&o?[ne.createElement("div",{className:`${b}-item-main`,key:"content"},r,y),ne.createElement("div",{className:Be(`${b}-item-extra`,v("extra")),key:"extra",style:p("extra")},o)]:[r,y,Sg(o,{key:"extra"})]);return h?ne.createElement(Nm,{ref:e,flex:1,style:u},x):x}),Fh=Rm;Fh.Meta=Em;const jm=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:o,itemPaddingLG:a,marginLG:s,borderRadiusLG:l}=t;return{[e]:{border:`${kt(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${kt(i)} ${kt(s)}`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},Om=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:i,marginSM:o,margin:a}=t;return{[`@media screen and (max-width:${r}px)`]:{[e]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[e]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${kt(a)}`}}}}}},Im=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:i,paddingSM:o,marginLG:a,padding:s,itemPadding:l,colorPrimary:u,itemPaddingSM:c,itemPaddingLG:h,paddingXS:f,margin:d,colorText:m,colorTextDescription:v,motionDurationSlow:p,lineWidth:g,headerBg:_,footerBg:b,emptyTextPadding:y,metaMarginBottom:w,avatarMarginRight:x,titleMarginBottom:A,descriptionFontSize:$}=t;return{[e]:Object.assign(Object.assign({},Ag(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:_},[`${e}-footer`]:{background:b},[`${e}-header, ${e}-footer`]:{paddingBlock:o},[`${e}-pagination`]:{marginBlockStart:a,[`${n}-pagination-options`]:{textAlign:"start"}},[`${e}-spin`]:{minHeight:i,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:m,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:x},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:m},[`${e}-item-meta-title`]:{margin:`0 0 ${kt(t.marginXXS)} 0`,color:m,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:m,transition:`all ${p}`,"&:hover":{color:u}}},[`${e}-item-meta-description`]:{color:v,fontSize:$,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${kt(f)}`,color:v,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:g,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${kt(s)} 0`,color:v,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:y,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:a},[`${e}-item-meta`]:{marginBlockEnd:w,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:A,color:m,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${kt(s)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${kt(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:h},[`${e}-sm ${e}-item`]:{padding:c},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},Lm=t=>({contentWidth:220,itemPadding:`${kt(t.paddingContentVertical)} 0`,itemPaddingSM:`${kt(t.paddingContentVerticalSM)} ${kt(t.paddingContentHorizontal)}`,itemPaddingLG:`${kt(t.paddingContentVerticalLG)} ${kt(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),zm=zu("List",t=>{const e=jh(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[Im(e),jm(e),Om(e)]},Lm);var Bm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Dm(t,e){var{pagination:n=!1,prefixCls:r,bordered:i=!1,split:o=!0,className:a,rootClassName:s,style:l,children:u,itemLayout:c,loadMore:h,grid:f,dataSource:d=[],size:m,header:v,footer:p,loading:g=!1,rowKey:_,renderItem:b,locale:y}=t,w=Bm(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const x=n&&typeof n=="object"?n:{},[A,$]=U.useState(x.defaultCurrent||1),[N,k]=U.useState(x.defaultPageSize||10),{getPrefixCls:P,renderEmpty:L,direction:T,list:M}=U.useContext(bi),S={current:1,total:0},C=ht=>(pt,St)=>{var Vt;$(pt),k(St),n&&((Vt=n==null?void 0:n[ht])===null||Vt===void 0||Vt.call(n,pt,St))},O=C("onChange"),B=C("onShowSizeChange"),I=(ht,pt)=>{if(!b)return null;let St;return typeof _=="function"?St=_(ht):_?St=ht[_]:St=ht.key,St||(St=`list-item-${pt}`),U.createElement(U.Fragment,{key:St},b(ht,pt))},R=()=>!!(h||n||p),j=P("list",r),[z,F,G]=zm(j);let H=g;typeof H=="boolean"&&(H={spinning:H});const J=!!(H!=null&&H.spinning),W=$g(m);let X="";switch(W){case"large":X="lg";break;case"small":X="sm";break}const V=Be(j,{[`${j}-vertical`]:c==="vertical",[`${j}-${X}`]:X,[`${j}-split`]:o,[`${j}-bordered`]:i,[`${j}-loading`]:J,[`${j}-grid`]:!!f,[`${j}-something-after-last-item`]:R(),[`${j}-rtl`]:T==="rtl"},M==null?void 0:M.className,a,s,F,G),Y=Cg(S,{total:d.length,current:A,pageSize:N},n||{}),K=Math.ceil(Y.total/Y.pageSize);Y.current>K&&(Y.current=K);const D=n&&U.createElement("div",{className:Be(`${j}-pagination`)},U.createElement(Ng,Object.assign({align:"end"},Y,{onChange:O,onShowSizeChange:B})));let tt=sc(d);n&&d.length>(Y.current-1)*Y.pageSize&&(tt=sc(d).splice((Y.current-1)*Y.pageSize,Y.pageSize));const ot=Object.keys(f||{}).some(ht=>["xs","sm","md","lg","xl","xxl"].includes(ht)),at=kg(ot),rt=U.useMemo(()=>{for(let ht=0;ht<ir.length;ht+=1){const pt=ir[ht];if(at[pt])return pt}},[at]),q=U.useMemo(()=>{if(!f)return;const ht=rt&&f[rt]?f[rt]:f.column;if(ht)return{width:`${100/ht}%`,maxWidth:`${100/ht}%`}},[JSON.stringify(f),rt]);let it=J&&U.createElement("div",{style:{minHeight:53}});if(tt.length>0){const ht=tt.map((pt,St)=>I(pt,St));it=f?U.createElement(Pm,{gutter:f.gutter},U.Children.map(ht,pt=>U.createElement("div",{key:pt==null?void 0:pt.key,style:q},pt))):U.createElement("ul",{className:`${j}-items`},ht)}else!u&&!J&&(it=U.createElement("div",{className:`${j}-empty-text`},(y==null?void 0:y.emptyText)||(L==null?void 0:L("List"))||U.createElement(Pg,{componentName:"List"})));const Tt=Y.position||"bottom",gt=U.useMemo(()=>({grid:f,itemLayout:c}),[JSON.stringify(f),c]);return z(U.createElement(Bu.Provider,{value:gt},U.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},M==null?void 0:M.style),l),className:V},w),(Tt==="top"||Tt==="both")&&D,v&&U.createElement("div",{className:`${j}-header`},v),U.createElement(Eg,Object.assign({},H),it,u),p&&U.createElement("div",{className:`${j}-footer`},p),h||(Tt==="bottom"||Tt==="both")&&D)))}const Fm=U.forwardRef(Dm),Vh=Fm;Vh.Item=Fh;function Vm({elderlyId:t=""}){const{elderlyDetails:e}=U.useContext(rn);console.log(e==null?void 0:e._id);const[n,r]=U.useState(!1),[i,o]=U.useState(null),[a,s]=U.useState([]),l=U.useCallback(()=>{Ih({to_date:"2024-11-30",from_date:Oe().format("YYYY-MM-DD"),is_resolved:!1,elderly_id:t}).then(c=>{c.data&&s(c.data)}).catch(c=>{console.log(c)})},[t]);U.useEffect(()=>{t&&l()},[l]);const u={dots:a.length>=2,infinite:a.length>2,speed:500,slidesToShow:a.length===1?1:2,slidesToScroll:1,draggable:!0,arrows:!1,appendDots:c=>E.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"10px",padding:"2px"},children:E.jsxs("ul",{id:"dots",style:{margin:"0px"},children:[" ",c," "]})}),responsive:[{breakpoint:1200,settings:{slidesToShow:(a.length===1,1),slidesToScroll:1}},{breakpoint:800,settings:{slidesToShow:1,slidesToScroll:1}}]};return E.jsxs(E.Fragment,{children:[a.length>0&&E.jsx("div",{id:"ActiveAlertsCards",className:"w-full mb-2 transition-all duration-300",children:E.jsx(qg,{...u,className:"w-full transition-all duration-300",children:a==null?void 0:a.map((c,h)=>{var f,d,m,v,p,g;return E.jsx("div",{className:"px-2 overflow-hidden transition-all duration-300 relative w-full",children:E.jsxs("div",{id:"alertItem",className:`rounded-2xl overflow-hidden w-full ${((f=Ln(c))==null?void 0:f.label)==="Critical"?"bg-red-500":((d=Ln(c))==null?void 0:d.label)==="Warning"?"bg-yellow-500":"bg-blue-500"} p-4 w-full !flex justify-between items-center`,children:[E.jsx("div",{id:"leftSide",className:"z-50",children:E.jsx("div",{id:"alertItemHeader",children:E.jsxs("div",{id:"alertItemTitleAndDescription",className:"flex flex-col gap-6",children:[E.jsxs("div",{id:"time",className:"flex gap-2",children:[E.jsxs("span",{className:"bg-white font-semibold p-1 px-2 rounded-full text-text-primary flex items-center gap-2",children:[E.jsx("div",{id:"dot",className:`w-2 h-2 ${((m=Ln(c))==null?void 0:m.label)==="Critical"?"bg-red-500":((v=Ln(c))==null?void 0:v.label)==="Warning"?"bg-yellow-500":"bg-blue-500"} rounded-full animate-ping`})," ",Ds(c.created_at)]}),E.jsx("span",{className:"bg-white font-semibold p-1 px-2 rounded-full text-text-primary",children:Lh(c.created_at)})]}),E.jsxs("div",{id:"alertItemTitleAndDescription",children:[E.jsx("h1",{className:"text-xl font-bold text-white m-0",children:(p=Ln(c))==null?void 0:p.title}),E.jsx("p",{className:"text-white text-base m-0 leading-none",children:(g=Ln(c))==null?void 0:g.message})]})]})})}),E.jsx("div",{id:"rightSide",className:"z-50",children:E.jsx("span",{onClick:()=>{o(c),r(!0)},className:"text-sm p-2 px-3 bg-white rounded-xl text-text-primary cursor-pointer hover:bg-white/90 transition-all duration-300",children:"Mark as Complete"})}),E.jsx("img",{src:Wg,alt:"",className:"absolute top-0 right-0 x-0"})]})},h)})})}),E.jsx(Xg,{openAlertCloseModal:n,setOpenAlertCloseModal:r,selectedAlert:i,getAlertListData:l})]})}function fc({data:t=[]}){const e={tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(n){const{name:r,value:i}=n[0];return`Time: ${r}<br/>Heart Rate: ${i}`},textStyle:{color:"#fff",fontSize:12},backgroundColor:"rgba(0, 0, 0, 0.7)",borderWidth:0},grid:{left:"0%",right:"5%",bottom:"0%",top:"0%"},xAxis:{type:"category",boundaryGap:!1,data:t==null?void 0:t.time,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{name:"Heart Rate",data:t==null?void 0:t.heartRate,type:"line",smooth:!1,lineStyle:{width:2,color:"#FFFFFF"},itemStyle:{opacity:0},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 255, 255, 0.5)"},{offset:1,color:"rgba(255, 255, 255, 0)"}]}}}]};return E.jsx(nm,{option:e,style:{height:"65px"}})}var Gm={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ut,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})})(Gm);function Hm(t){return Rg({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.47c0-2.04,0.51-3.93,1.52-5.66s2.38-3.1,4.11-4.11s3.61-1.51,5.64-1.51c1.52,0,2.98,0.3,4.37,0.89
	s2.58,1.4,3.59,2.4s1.81,2.2,2.4,3.6s0.89,2.85,0.89,4.39c0,1.52-0.3,2.98-0.89,4.37s-1.4,2.59-2.4,3.59s-2.2,1.8-3.59,2.39
	s-2.84,0.89-4.37,0.89c-1.53,0-3-0.3-4.39-0.89s-2.59-1.4-3.6-2.4s-1.8-2.2-2.4-3.58S3.74,16,3.74,14.47z M6.22,14.47
	c0,2.37,0.86,4.43,2.59,6.18c1.73,1.73,3.79,2.59,6.2,2.59c1.58,0,3.05-0.39,4.39-1.18s2.42-1.85,3.21-3.2s1.19-2.81,1.19-4.39
	s-0.4-3.05-1.19-4.4s-1.86-2.42-3.21-3.21s-2.81-1.18-4.39-1.18s-3.05,0.39-4.39,1.18S8.2,8.72,7.4,10.07S6.22,12.89,6.22,14.47z
	 M14.14,14.47V7.81c0-0.23,0.08-0.43,0.24-0.59s0.36-0.24,0.59-0.24s0.43,0.08,0.59,0.24s0.24,0.36,0.24,0.59v6.15l3.59,2.09
	c0.2,0.12,0.32,0.29,0.38,0.51s0.03,0.43-0.09,0.62c-0.16,0.28-0.4,0.42-0.72,0.42c-0.17,0-0.31-0.04-0.42-0.12l-3.82-2.23
	c-0.17-0.05-0.31-0.15-0.42-0.29S14.14,14.66,14.14,14.47z`},child:[]}]})(t)}const{WeekPicker:Ym}=am,Um=()=>{const[t,e]=U.useState(Oe()),[n,r]=U.useState(Oe()),[i,o]=U.useState(!1);U.useState([{title:"Doctor Appointment For Whooping Cough",time:"2024-11-14T12:20",location:"30 Pitt Street, Sydney Harbour Marriott.",date:Oe("2024-11-14")},{title:"Seniors' Week Photography",time:"2024-11-14T19:00",location:"19 Woronora Ave., Leumeah NSW 2560, AUS",date:Oe("2024-11-14")}]);const[a,s]=U.useState([]),l=U.useCallback(()=>{Jg({event_status:"pending"}).then(b=>{s(b.data)}).catch(b=>{console.log(b)})},[]);U.useEffect(()=>{l()},[l]);const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=U.useRef(null),h=b=>{e(b.startOf("week")),r(b.startOf("week"))},f=b=>{const y=b==="prev"?t.subtract(1,"week"):t.add(1,"week");e(y),r(y.startOf("week"))},[d,m]=U.useState(!1),v=()=>{m(!0)},p=b=>{r(b)};function g(){return u.map((b,y)=>{const w=t.startOf("week").add(y,"day"),x=w.isSame(n,"day");return E.jsxs("div",{onClick:()=>p(w),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"0.625rem",width:"100%",borderRadius:"0.5rem",cursor:"pointer",backgroundColor:x?"#7F87FC":"transparent",color:x?"#fff":"var(--text-text-primary)",justifyContent:"center",transition:"background-color 0.3s ease, color 0.3s ease",userSelect:"none"},children:[E.jsx("span",{className:"text-xs",children:b}),E.jsx("span",{className:"text-sm font-bold",children:w.date()})]},b)})}const _=a==null?void 0:a.filter(b=>Oe(b==null?void 0:b.date_time).isSame(Oe(n),"day"));return U.useEffect(()=>{console.log("selected Day",n.format("YYYY-MM-DD"))},[n]),E.jsxs("div",{className:"bg-[#fff] relative p-5 rounded-2xl w-full",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h1",{className:"text-lg font-bold text-text-primary leading-none flex items-center gap-2 ",children:"Events"})}),E.jsxs("div",{className:"flex justify-center gap-3.5 items-center mb-3.5 cursor-pointer mt-2",children:[E.jsx(vo,{type:"link",onClick:()=>f("prev"),className:"p-0",icon:E.jsx(rm,{size:20})}),E.jsx("span",{className:"text-lg font-bold",onClick:v,children:t.format("MMMM YYYY")}),E.jsx(vo,{type:"link",className:"p-0",onClick:()=>f("next"),icon:E.jsx(im,{size:20})})]}),E.jsx(Ym,{open:d,onOpenChange:b=>m(b),ref:c,onChange:h,locale:jg,picker:"week",style:{position:"absolute",top:"16%",width:"50px",opacity:1,zIndex:-1,left:"50%",transform:"translateX(-50%)"}}),E.jsx("div",{className:"flex justify-around mb-5  rounded-lg p-1.25 !px-0",children:g()}),E.jsxs("div",{className:" p-2.5 rounded-md text-gray-800",children:[E.jsx("h3",{className:"text-sm font-semibold",children:n.format("dddd, DD")}),E.jsx(Og,{renderEmpty:qm,children:E.jsx(Vh,{itemLayout:"horizontal",dataSource:_,renderItem:b=>E.jsx("div",{className:"mt-3",children:E.jsxs("div",{className:"flex flex-col gap-1.5 items-start justify-between p-2.5 py-0 border-l-[3px] border-l-[#7F87FC]",children:[E.jsx("div",{className:"text-base font-medium",children:b.event_name}),E.jsxs("div",{className:"flex items-center gap-1 text-sm text-text-secondary font-medium",children:[E.jsx(Hm,{size:16}),Oe(b.date_time).format("hh:mm A")]})]})})})})]}),E.jsx(tm,{modalOpen:i,setModalOpen:o,type:"event",elderlyLatLng:{lat:42.3601,lng:-71.0589}})]})},qm=()=>E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx(om,{style:{fontSize:20}}),E.jsx("p",{children:"No Events Found"})]});var sa={},_i={};function wt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gh(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ua(t){let e,n,r;t.length!==2?(e=wt,n=(s,l)=>wt(t(s),l),r=(s,l)=>t(s)-l):(e=t===wt||t===Gh?t:Wm,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function Wm(){return 0}function yo(t){return t===null?NaN:+t}function*Xm(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Hh=ua(wt),Ke=Hh.right,Jm=Hh.left,Zm=ua(yo).center;function Km(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=Du(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const Yh=Uh(Du),Qm=Uh(tv);function Uh(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!n&&!r)return e;const s=n&&t(n),l=r&&t(r),u=i.slice();return s&&l?(Bn(s,u,i,o,a),Bn(s,i,u,o,a),Bn(s,u,i,o,a),Dn(l,i,u,o,a),Dn(l,u,i,o,a),Dn(l,i,u,o,a)):s?(Bn(s,i,u,o,a),Bn(s,u,i,o,a),Bn(s,i,u,o,a)):l&&(Dn(l,i,u,o,a),Dn(l,u,i,o,a),Dn(l,i,u,o,a)),e}}function Bn(t,e,n,r,i){for(let o=0,a=r*i;o<a;)t(e,n,o,o+=r,1)}function Dn(t,e,n,r,i){for(let o=0,a=r*i;o<r;++o)t(e,n,o,o+a,r)}function tv(t){const e=Du(t);return(n,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,e(n,r,i+0,o+0,a),e(n,r,i+1,o+1,a),e(n,r,i+2,o+2,a),e(n,r,i+3,o+3,a)}}function Du(t){const e=Math.floor(t);if(e===t)return ev(t);const n=t-e,r=2*t+1;return(i,o,a,s,l)=>{if(!((s-=l)>=a))return;let u=e*o[a];const c=l*e,h=c+l;for(let f=a,d=a+c;f<d;f+=l)u+=o[Math.min(s,f)];for(let f=a,d=s;f<=d;f+=l)u+=o[Math.min(s,f+c)],i[f]=(u+n*(o[Math.max(a,f-h)]+o[Math.min(s,f+h)]))/r,u-=o[Math.max(a,f-c)]}}function ev(t){const e=2*t+1;return(n,r,i,o,a)=>{if(!((o-=a)>=i))return;let s=t*r[i];const l=a*t;for(let u=i,c=i+l;u<c;u+=a)s+=r[Math.min(o,u)];for(let u=i,c=o;u<=c;u+=a)s+=r[Math.min(o,u+l)],n[u]=s/e,s-=r[Math.max(i,u-l)]}}function la(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function nv(t){return t.length|0}function rv(t){return!(t>0)}function iv(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function ov(t){return e=>t(...e)}function av(...t){const e=typeof t[t.length-1]=="function"&&ov(t.pop());t=t.map(iv);const n=t.map(nv),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(rv))return o;for(;;){o.push(i.map((s,l)=>t[l][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function sv(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function qh(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function Wh(t,e){const n=qh(t,e);return n&&Math.sqrt(n)}function Wr(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Nt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function uv(t,e){const n=new Nt;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function lv(t,e){const n=new Nt;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class ei extends Map{constructor(e,n=Zh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Vs(this,e))}has(e){return super.has(Vs(this,e))}set(e,n){return super.set(Xh(this,e),n)}delete(e){return super.delete(Jh(this,e))}}class bn extends Set{constructor(e,n=Zh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Vs(this,e))}add(e){return super.add(Xh(this,e))}delete(e){return super.delete(Jh(this,e))}}function Vs({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xh({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jh({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zh(t){return t!==null&&typeof t=="object"?t.valueOf():t}function or(t){return t}function Kh(t,...e){return xr(t,or,or,e)}function Qh(t,...e){return xr(t,Array.from,or,e)}function td(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return t}function cv(t,...e){return td(Qh(t,...e),e)}function fv(t,e,...n){return td(nd(t,e,...n),n)}function ed(t,e,...n){return xr(t,or,e,n)}function nd(t,e,...n){return xr(t,Array.from,e,n)}function hv(t,...e){return xr(t,or,rd,e)}function dv(t,...e){return xr(t,Array.from,rd,e)}function rd(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function xr(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new ei,l=r[a++];let u=-1;for(const c of o){const h=l(c,++u,o),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,a));return e(s)}(t,0)}function id(t,e){return Array.from(e,n=>t[n])}function Gs(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const s=ar(a[i],a[o]);if(s)return s}})):(n=t.map(n),r.sort((i,o)=>ar(n[i],n[o]))),id(t,r)}return t.sort(Fu(n))}function Fu(t=wt){if(t===wt)return ar;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ar(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function pv(t,e,n){return(e.length!==2?Gs(ed(t,e,n),([r,i],[o,a])=>wt(i,a)||wt(r,o)):Gs(Kh(t,n),([r,i],[o,a])=>e(i,a)||wt(r,o))).map(([r])=>r)}var gv=Array.prototype,mv=gv.slice;function ts(t){return()=>t}const vv=Math.sqrt(50),yv=Math.sqrt(10),bv=Math.sqrt(2);function bo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=vv?10:o>=yv?5:o>=bv?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?bo(t,e,n*2):[s,l,u]}function _n(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?bo(e,t,n):bo(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function wn(t,e,n){return e=+e,t=+t,n=+n,bo(t,e,n)[2]}function _o(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?wn(e,t,n):wn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Vu(t,e,n){let r;for(;;){const i=wn(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Gu(t){return Math.max(1,Math.ceil(Math.log(la(t))/Math.LN2)+1)}function hc(){var t=or,e=Wr,n=Gu;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,l,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var c=e(u),h=c[0],f=c[1],d=n(u,h,f);if(!Array.isArray(d)){const b=f,y=+d;if(e===Wr&&([h,f]=Vu(h,f,y)),d=_n(h,f,y),d[0]<=h&&(l=wn(h,f,y)),d[d.length-1]>=f)if(b>=f&&e===Wr){const w=wn(h,f,y);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else d.pop()}for(var m=d.length,v=0,p=m;d[v]<=h;)++v;for(;d[p-1]>f;)--p;(v||p<m)&&(d=d.slice(v,p),m=p-v);var g=new Array(m+1),_;for(o=0;o<=m;++o)_=g[o]=[],_.x0=o>0?d[o-1]:h,_.x1=o<m?d[o]:f;if(isFinite(l)){if(l>0)for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&g[Math.min(m,Math.floor((s-h)/l))].push(i[o]);else if(l<0){for(o=0;o<a;++o)if((s=u[o])!=null&&h<=s&&s<=f){const b=Math.floor((h-s)*l);g[Math.min(m,b+(d[b]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&g[Ke(d,s,0,m)].push(i[o]);return g}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ts(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ts([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ts(Array.isArray(i)?mv.call(i):i),r):n},r}function ni(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Hu(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function wo(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Yu(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function ca(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ar:Fu(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/l+f)),m=Math.min(r,Math.floor(e+(l-u)*h/l+f));ca(t,e,d,m,i)}const o=t[e];let a=n,s=r;for(Cr(t,n,e),i(t[r],o)>0&&Cr(t,n,r);a<s;){for(Cr(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Cr(t,n,s):(++s,Cr(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Cr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function od(t,e=wt){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?wt(a,i)>0:wt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function ri(t,e,n){if(t=Float64Array.from(Xm(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wo(t);if(e>=1)return ni(t);var r,i=(r-1)*e,o=Math.floor(i),a=ni(ca(t,o).subarray(0,o+1)),s=wo(t.subarray(o+1));return a+(s-a)*(i-o)}}function ad(t,e,n=yo){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function sd(t,e,n=yo){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,l)=>yo(n(t[l],l,t))),e<=0)return Yu(r);if(e>=1)return Hu(r);var r,i=Uint32Array.from(t,(s,l)=>l),o=r.length-1,a=Math.floor(o*e);return ca(i,a,0,o,(s,l)=>ar(r[s],r[l])),a=od(i.subarray(0,a+1),s=>r[s]),a>=0?a:-1}}function _v(t,e,n){const r=la(t),i=ri(t,.75)-ri(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function wv(t,e,n){const r=la(t),i=Wh(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function xv(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Mv(t,e){return ri(t,.5,e)}function Tv(t,e){return sd(t,.5,e)}function*Sv(t){for(const e of t)yield*e}function Uu(t){return Array.from(Sv(t))}function Av(t,e){const n=new ei;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function $v(t,e=Cv){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function Cv(t,e){return[t,e]}function Xe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Nv(t,e=wt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=wt);const i=(s,l)=>e(n[s],n[l]);let o,a;return t=Uint32Array.from(n,(s,l)=>l),t.sort(e===wt?(s,l)=>ar(n[s],n[l]):Fu(i)),t.forEach((s,l)=>{const u=i(s,o===void 0?s:o);u>=0?((o===void 0||u>0)&&(o=s,a=l),r[s]=a):r[s]=NaN}),r}function kv(t,e=wt){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?wt(a,i)<0:wt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function ud(t,e=wt){if(e.length===1)return Yu(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)<0)&&(n=o,r=i);return r}function Pv(t,e=wt){if(e.length===1)return Hu(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)>0)&&(n=o,r=i);return r}function Ev(t,e){const n=ud(t,e);return n<0?void 0:n}const Rv=ld(Math.random);function ld(t){return function(n,r=0,i=n.length){let o=i-(r=+r);for(;o;){const a=t()*o--|0,s=n[o+r];n[o+r]=n[a+r],n[a+r]=s}return n}}function jv(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function cd(t){if(!(o=t.length))return[];for(var e=-1,n=wo(t,Ov),r=new Array(n);++e<n;)for(var i=-1,o,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r}function Ov(t){return t.length}function Iv(){return cd(arguments)}function Lv(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function zv(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function Bv(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function Dv(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Fv(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)n=e(n,o,++a,t);return n}function Vv(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Gv(t,...e){t=new bn(t);for(const n of e)for(const r of n)t.delete(r);return t}function Hv(t,e){const n=e[Symbol.iterator](),r=new bn;for(const i of t){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=n.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function Yv(t,...e){t=new bn(t),e=e.map(Uv);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Uv(t){return t instanceof bn?t:new bn(t)}function fd(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const o=dc(i);if(r.has(o))continue;let a,s;for(;{value:a,done:s}=n.next();){if(s)return!1;const l=dc(a);if(r.add(l),Object.is(o,l))break}}return!0}function dc(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qv(t,e){return fd(e,t)}function Wv(...t){const e=new bn;for(const n of t)for(const r of n)e.add(r);return e}function Xv(t){return t}var io=1,oo=2,Hs=3,Ir=4,pc=1e-6;function Jv(t){return"translate("+t+",0)"}function Zv(t){return"translate(0,"+t+")"}function Kv(t){return e=>+t(e)}function Qv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function t2(){return!this.__axis}function fa(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===io||t===Ir?-1:1,c=t===Ir||t===oo?"x":"y",h=t===io||t===Hs?Jv:Zv;function f(d){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):Xv),p=Math.max(o,0)+s,g=e.range(),_=+g[0]+l,b=+g[g.length-1]+l,y=(e.bandwidth?Qv:Kv)(e.copy(),l),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),A=w.selectAll(".tick").data(m,e).order(),$=A.exit(),N=A.enter().append("g").attr("class","tick"),k=A.select("line"),P=A.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),P=P.merge(N.append("text").attr("fill","currentColor").attr(c,u*p).attr("dy",t===io?"0em":t===Hs?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),A=A.transition(d),k=k.transition(d),P=P.transition(d),$=$.transition(d).attr("opacity",pc).attr("transform",function(L){return isFinite(L=y(L))?h(L+l):this.getAttribute("transform")}),N.attr("opacity",pc).attr("transform",function(L){var T=this.parentNode.__axis;return h((T&&isFinite(T=T(L))?T:y(L))+l)})),$.remove(),x.attr("d",t===Ir||t===oo?a?"M"+u*a+","+_+"H"+l+"V"+b+"H"+u*a:"M"+l+","+_+"V"+b:a?"M"+_+","+u*a+"V"+l+"H"+b+"V"+u*a:"M"+_+","+l+"H"+b),A.attr("opacity",1).attr("transform",function(L){return h(y(L)+l)}),k.attr(c+"2",u*o),P.attr(c,u*p).text(v),w.filter(t2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===oo?"start":t===Ir?"end":"middle"),w.each(function(){this.__axis=y})}return f.scale=function(d){return arguments.length?(e=d,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(o=a=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(a=+d,f):a},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(l=+d,f):l},f}function e2(t){return fa(io,t)}function n2(t){return fa(oo,t)}function r2(t){return fa(Hs,t)}function i2(t){return fa(Ir,t)}var o2={value:()=>{}};function kn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ao(n)}function ao(t){this._=t}function a2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ao.prototype=kn.prototype={constructor:ao,on:function(t,e){var n=this._,r=a2(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=s2(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=gc(n[i],t.name,e);else if(e==null)for(i in n)n[i]=gc(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ao(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function s2(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function gc(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ys="http://www.w3.org/1999/xhtml";const Us={svg:"http://www.w3.org/2000/svg",xhtml:Ys,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Us.hasOwnProperty(e)?{space:Us[e],local:t}:t}function u2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ys&&e.documentElement.namespaceURI===Ys?e.createElement(t):e.createElementNS(n,t)}}function l2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ha(t){var e=wi(t);return(e.local?l2:u2)(e)}function c2(){}function da(t){return t==null?c2:function(){return this.querySelector(t)}}function f2(t){typeof t!="function"&&(t=da(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Xt(r,this._parents)}function hd(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function h2(){return[]}function qu(t){return t==null?h2:function(){return this.querySelectorAll(t)}}function d2(t){return function(){return hd(t.apply(this,arguments))}}function p2(t){typeof t=="function"?t=d2(t):t=qu(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new Xt(r,i)}function Wu(t){return function(){return this.matches(t)}}function dd(t){return function(e){return e.matches(t)}}var g2=Array.prototype.find;function m2(t){return function(){return g2.call(this.children,t)}}function v2(){return this.firstElementChild}function y2(t){return this.select(t==null?v2:m2(typeof t=="function"?t:dd(t)))}var b2=Array.prototype.filter;function _2(){return Array.from(this.children)}function w2(t){return function(){return b2.call(this.children,t)}}function x2(t){return this.selectAll(t==null?_2:w2(typeof t=="function"?t:dd(t)))}function M2(t){typeof t!="function"&&(t=Wu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Xt(r,this._parents)}function pd(t){return new Array(t.length)}function T2(){return new Xt(this._enter||this._groups.map(pd),this._parents)}function xo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xo.prototype={constructor:xo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function S2(t){return function(){return t}}function A2(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new xo(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function $2(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,h=o.length,f=new Array(c),d;for(s=0;s<c;++s)(l=e[s])&&(f[s]=d=a.call(l,l.__data__,s,e)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=a.call(t,o[s],s,o)+"",(l=u.get(d))?(r[s]=l,l.__data__=o[s],u.delete(d)):n[s]=new xo(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function C2(t){return t.__data__}function N2(t,e){if(!arguments.length)return Array.from(this,C2);var n=e?$2:A2,r=this._parents,i=this._groups;typeof t!="function"&&(t=S2(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=k2(t.call(c,c&&c.__data__,u,r)),m=d.length,v=s[u]=new Array(m),p=a[u]=new Array(m),g=l[u]=new Array(f);n(c,h,v,p,g,d,e);for(var _=0,b=0,y,w;_<m;++_)if(y=v[_]){for(_>=b&&(b=_+1);!(w=p[b])&&++b<m;);y._next=w||null}}return a=new Xt(a,r),a._enter=s,a._exit=l,a}function k2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function P2(){return new Xt(this._exit||this._groups.map(pd),this._parents)}function E2(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function R2(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,m=0;m<h;++m)(d=u[m]||c[m])&&(f[m]=d);for(;l<i;++l)s[l]=n[l];return new Xt(s,this._parents)}function j2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function O2(t){t||(t=I2);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Xt(i,this._parents).order()}function I2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function L2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function z2(){return Array.from(this)}function B2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function D2(){let t=0;for(const e of this)++t;return t}function F2(){return!this.node()}function V2(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function G2(t){return function(){this.removeAttribute(t)}}function H2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y2(t,e){return function(){this.setAttribute(t,e)}}function U2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function q2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function W2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function X2(t,e){var n=wi(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?H2:G2:typeof e=="function"?n.local?W2:q2:n.local?U2:Y2)(n,e))}function Xu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function J2(t){return function(){this.style.removeProperty(t)}}function Z2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function K2(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Q2(t,e,n){return arguments.length>1?this.each((e==null?J2:typeof e=="function"?K2:Z2)(t,e,n??"")):xn(this.node(),t)}function xn(t,e){return t.style.getPropertyValue(e)||Xu(t).getComputedStyle(t,null).getPropertyValue(e)}function ty(t){return function(){delete this[t]}}function ey(t,e){return function(){this[t]=e}}function ny(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ry(t,e){return arguments.length>1?this.each((e==null?ty:typeof e=="function"?ny:ey)(t,e)):this.node()[t]}function gd(t){return t.trim().split(/^|\s+/)}function Ju(t){return t.classList||new md(t)}function md(t){this._node=t,this._names=gd(t.getAttribute("class")||"")}md.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function vd(t,e){for(var n=Ju(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function yd(t,e){for(var n=Ju(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function iy(t){return function(){vd(this,t)}}function oy(t){return function(){yd(this,t)}}function ay(t,e){return function(){(e.apply(this,arguments)?vd:yd)(this,t)}}function sy(t,e){var n=gd(t+"");if(arguments.length<2){for(var r=Ju(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ay:e?iy:oy)(n,e))}function uy(){this.textContent=""}function ly(t){return function(){this.textContent=t}}function cy(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function fy(t){return arguments.length?this.each(t==null?uy:(typeof t=="function"?cy:ly)(t)):this.node().textContent}function hy(){this.innerHTML=""}function dy(t){return function(){this.innerHTML=t}}function py(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function gy(t){return arguments.length?this.each(t==null?hy:(typeof t=="function"?py:dy)(t)):this.node().innerHTML}function my(){this.nextSibling&&this.parentNode.appendChild(this)}function vy(){return this.each(my)}function yy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function by(){return this.each(yy)}function _y(t){var e=typeof t=="function"?t:ha(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wy(){return null}function xy(t,e){var n=typeof t=="function"?t:ha(t),r=e==null?wy:typeof e=="function"?e:da(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function My(){var t=this.parentNode;t&&t.removeChild(this)}function Ty(){return this.each(My)}function Sy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ay(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $y(t){return this.select(t?Ay:Sy)}function Cy(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ny(t){return function(e){t.call(this,e,this.__data__)}}function ky(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Py(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ey(t,e,n){return function(){var r=this.__on,i,o=Ny(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ry(t,e,n){var r=ky(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Ey:Py,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function bd(t,e,n){var r=Xu(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function jy(t,e){return function(){return bd(this,t,e)}}function Oy(t,e){return function(){return bd(this,t,e.apply(this,arguments))}}function Iy(t,e){return this.each((typeof e=="function"?Oy:jy)(t,e))}function*Ly(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Zu=[null];function Xt(t,e){this._groups=t,this._parents=e}function Pn(){return new Xt([[document.documentElement]],Zu)}function zy(){return this}Xt.prototype=Pn.prototype={constructor:Xt,select:f2,selectAll:p2,selectChild:y2,selectChildren:x2,filter:M2,data:N2,enter:T2,exit:P2,join:E2,merge:R2,selection:zy,order:j2,sort:O2,call:L2,nodes:z2,node:B2,size:D2,empty:F2,each:V2,attr:X2,style:Q2,property:ry,classed:sy,text:fy,html:gy,raise:vy,lower:by,append:_y,insert:xy,remove:Ty,clone:$y,datum:Cy,on:Ry,dispatch:Iy,[Symbol.iterator]:Ly};function Ft(t){return typeof t=="string"?new Xt([[document.querySelector(t)]],[document.documentElement]):new Xt([[t]],Zu)}function By(t){return Ft(ha(t).call(document.documentElement))}var Dy=0;function _d(){return new qs}function qs(){this._="@"+(++Dy).toString(36)}qs.prototype=_d.prototype={constructor:qs,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function wd(t){let e;for(;e=t.sourceEvent;)t=e;return t}function oe(t,e){if(t=wd(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Fy(t,e){return t.target&&(t=wd(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>oe(n,e))}function Vy(t){return typeof t=="string"?new Xt([document.querySelectorAll(t)],[document.documentElement]):new Xt([hd(t)],Zu)}const Gy={passive:!1},ii={capture:!0,passive:!1};function es(t){t.stopImmediatePropagation()}function Qn(t){t.preventDefault(),t.stopImmediatePropagation()}function pa(t){var e=t.document.documentElement,n=Ft(t).on("dragstart.drag",Qn,ii);"onselectstart"in e?n.on("selectstart.drag",Qn,ii):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ga(t,e){var n=t.document.documentElement,r=Ft(t).on("dragstart.drag",null);e&&(r.on("click.drag",Qn,ii),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Oi=t=>()=>t;function Ws(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ws.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Hy(t){return!t.ctrlKey&&!t.button}function Yy(){return this.parentNode}function Uy(t,e){return e??{x:t.x,y:t.y}}function qy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wy(){var t=Hy,e=Yy,n=Uy,r=qy,i={},o=kn("start","drag","end"),a=0,s,l,u,c,h=0;function f(y){y.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",g,Gy).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(y,w){if(!(c||!t.call(this,y,w))){var x=b(this,e.call(this,y,w),y,w,"mouse");x&&(Ft(y.view).on("mousemove.drag",m,ii).on("mouseup.drag",v,ii),pa(y.view),es(y),u=!1,s=y.clientX,l=y.clientY,x("start",y))}}function m(y){if(Qn(y),!u){var w=y.clientX-s,x=y.clientY-l;u=w*w+x*x>h}i.mouse("drag",y)}function v(y){Ft(y.view).on("mousemove.drag mouseup.drag",null),ga(y.view,u),Qn(y),i.mouse("end",y)}function p(y,w){if(t.call(this,y,w)){var x=y.changedTouches,A=e.call(this,y,w),$=x.length,N,k;for(N=0;N<$;++N)(k=b(this,A,y,w,x[N].identifier,x[N]))&&(es(y),k("start",y,x[N]))}}function g(y){var w=y.changedTouches,x=w.length,A,$;for(A=0;A<x;++A)($=i[w[A].identifier])&&(Qn(y),$("drag",y,w[A]))}function _(y){var w=y.changedTouches,x=w.length,A,$;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),A=0;A<x;++A)($=i[w[A].identifier])&&(es(y),$("end",y,w[A]))}function b(y,w,x,A,$,N){var k=o.copy(),P=oe(N||x,w),L,T,M;if((M=n.call(y,new Ws("beforestart",{sourceEvent:x,target:f,identifier:$,active:a,x:P[0],y:P[1],dx:0,dy:0,dispatch:k}),A))!=null)return L=M.x-P[0]||0,T=M.y-P[1]||0,function S(C,O,B){var I=P,R;switch(C){case"start":i[$]=S,R=a++;break;case"end":delete i[$],--a;case"drag":P=oe(B||O,w),R=a;break}k.call(C,y,new Ws(C,{sourceEvent:O,subject:M,target:f,identifier:$,active:R,x:P[0]+L,y:P[1]+T,dx:P[0]-I[0],dy:P[1]-I[1],dispatch:k}),A)}}return f.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Oi(!!y),f):t},f.container=function(y){return arguments.length?(e=typeof y=="function"?y:Oi(y),f):e},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Oi(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Oi(!!y),f):r},f.on=function(){var y=o.on.apply(o,arguments);return y===o?f:y},f.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,f):Math.sqrt(h)},f}function Mr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function on(){}var Mn=.7,sr=1/Mn,tr="\\s*([+-]?\\d+)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xy=/^#([0-9a-f]{3,8})$/,Jy=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),Zy=new RegExp(`^rgb\\(${Te},${Te},${Te}\\)$`),Ky=new RegExp(`^rgba\\(${tr},${tr},${tr},${oi}\\)$`),Qy=new RegExp(`^rgba\\(${Te},${Te},${Te},${oi}\\)$`),tb=new RegExp(`^hsl\\(${oi},${Te},${Te}\\)$`),eb=new RegExp(`^hsla\\(${oi},${Te},${Te},${oi}\\)$`),mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(on,Qe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vc,formatHex:vc,formatHex8:nb,formatHsl:rb,formatRgb:yc,toString:yc});function vc(){return this.rgb().formatHex()}function nb(){return this.rgb().formatHex8()}function rb(){return xd(this).formatHsl()}function yc(){return this.rgb().formatRgb()}function Qe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xy.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bc(e):n===3?new Pt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ii(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ii(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jy.exec(t))?new Pt(e[1],e[2],e[3],1):(e=Zy.exec(t))?new Pt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ky.exec(t))?Ii(e[1],e[2],e[3],e[4]):(e=Qy.exec(t))?Ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tb.exec(t))?xc(e[1],e[2]/100,e[3]/100,1):(e=eb.exec(t))?xc(e[1],e[2]/100,e[3]/100,e[4]):mc.hasOwnProperty(t)?bc(mc[t]):t==="transparent"?new Pt(NaN,NaN,NaN,0):null}function bc(t){return new Pt(t>>16&255,t>>8&255,t&255,1)}function Ii(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pt(t,e,n,r)}function Ku(t){return t instanceof on||(t=Qe(t)),t?(t=t.rgb(),new Pt(t.r,t.g,t.b,t.opacity)):new Pt}function ur(t,e,n,r){return arguments.length===1?Ku(t):new Pt(t,e,n,r??1)}function Pt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Mr(Pt,ur,xi(on,{brighter(t){return t=t==null?sr:Math.pow(sr,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mn:Math.pow(Mn,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pt(mn(this.r),mn(this.g),mn(this.b),Mo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_c,formatHex:_c,formatHex8:ib,formatRgb:wc,toString:wc}));function _c(){return`#${pn(this.r)}${pn(this.g)}${pn(this.b)}`}function ib(){return`#${pn(this.r)}${pn(this.g)}${pn(this.b)}${pn((isNaN(this.opacity)?1:this.opacity)*255)}`}function wc(){const t=Mo(this.opacity);return`${t===1?"rgb(":"rgba("}${mn(this.r)}, ${mn(this.g)}, ${mn(this.b)}${t===1?")":`, ${t})`}`}function Mo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pn(t){return t=mn(t),(t<16?"0":"")+t.toString(16)}function xc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pe(t,e,n,r)}function xd(t){if(t instanceof pe)return new pe(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=Qe(t)),!t)return new pe;if(t instanceof pe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new pe(a,s,l,t.opacity)}function To(t,e,n,r){return arguments.length===1?xd(t):new pe(t,e,n,r??1)}function pe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mr(pe,To,xi(on,{brighter(t){return t=t==null?sr:Math.pow(sr,t),new pe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mn:Math.pow(Mn,t),new pe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pt(ns(t>=240?t-240:t+120,i,r),ns(t,i,r),ns(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pe(Mc(this.h),Li(this.s),Li(this.l),Mo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mo(this.opacity);return`${t===1?"hsl(":"hsla("}${Mc(this.h)}, ${Li(this.s)*100}%, ${Li(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Mc(t){return t=(t||0)%360,t<0?t+360:t}function Li(t){return Math.max(0,Math.min(1,t||0))}function ns(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Md=Math.PI/180,Td=180/Math.PI,So=18,Sd=.96422,Ad=1,$d=.82521,Cd=4/29,er=6/29,Nd=3*er*er,ob=er*er*er;function kd(t){if(t instanceof ve)return new ve(t.l,t.a,t.b,t.opacity);if(t instanceof xe)return Ed(t);t instanceof Pt||(t=Ku(t));var e=as(t.r),n=as(t.g),r=as(t.b),i=rs((.2225045*e+.7168786*n+.0606169*r)/Ad),o,a;return e===n&&n===r?o=a=i:(o=rs((.4360747*e+.3850649*n+.1430804*r)/Sd),a=rs((.0139322*e+.0971045*n+.7141733*r)/$d)),new ve(116*i-16,500*(o-i),200*(i-a),t.opacity)}function ab(t,e){return new ve(t,0,0,e??1)}function Ao(t,e,n,r){return arguments.length===1?kd(t):new ve(t,e,n,r??1)}function ve(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Mr(ve,Ao,xi(on,{brighter(t){return new ve(this.l+So*(t??1),this.a,this.b,this.opacity)},darker(t){return new ve(this.l-So*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Sd*is(e),t=Ad*is(t),n=$d*is(n),new Pt(os(3.1338561*e-1.6168667*t-.4906146*n),os(-.9787684*e+1.9161415*t+.033454*n),os(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function rs(t){return t>ob?Math.pow(t,1/3):t/Nd+Cd}function is(t){return t>er?t*t*t:Nd*(t-Cd)}function os(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function as(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Pd(t){if(t instanceof xe)return new xe(t.h,t.c,t.l,t.opacity);if(t instanceof ve||(t=kd(t)),t.a===0&&t.b===0)return new xe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Td;return new xe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function sb(t,e,n,r){return arguments.length===1?Pd(t):new xe(n,e,t,r??1)}function $o(t,e,n,r){return arguments.length===1?Pd(t):new xe(t,e,n,r??1)}function xe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ed(t){if(isNaN(t.h))return new ve(t.l,0,0,t.opacity);var e=t.h*Md;return new ve(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Mr(xe,$o,xi(on,{brighter(t){return new xe(this.h,this.c,this.l+So*(t??1),this.opacity)},darker(t){return new xe(this.h,this.c,this.l-So*(t??1),this.opacity)},rgb(){return Ed(this).rgb()}}));var Rd=-.14861,Qu=1.78277,tl=-.29227,ma=-.90649,ai=1.97294,Tc=ai*ma,Sc=ai*Qu,Ac=Qu*tl-ma*Rd;function ub(t){if(t instanceof vn)return new vn(t.h,t.s,t.l,t.opacity);t instanceof Pt||(t=Ku(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ac*r+Tc*e-Sc*n)/(Ac+Tc-Sc),o=r-i,a=(ai*(n-i)-tl*o)/ma,s=Math.sqrt(a*a+o*o)/(ai*i*(1-i)),l=s?Math.atan2(a,o)*Td-120:NaN;return new vn(l<0?l+360:l,s,i,t.opacity)}function ye(t,e,n,r){return arguments.length===1?ub(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mr(vn,ye,xi(on,{brighter(t){return t=t==null?sr:Math.pow(sr,t),new vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mn:Math.pow(Mn,t),new vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Md,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Pt(255*(e+n*(Rd*r+Qu*i)),255*(e+n*(tl*r+ma*i)),255*(e+n*(ai*r)),this.opacity)}}));function jd(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Od(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return jd((n-r/e)*e,a,i,o,s)}}function Id(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return jd((n-r/e)*e,i,o,a,s)}}const va=t=>()=>t;function Ld(t,e){return function(n){return t+n*e}}function lb(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ya(t,e){var n=e-t;return n?Ld(t,n>180||n<-180?n-360*Math.round(n/360):n):va(isNaN(t)?e:t)}function cb(t){return(t=+t)==1?Et:function(e,n){return n-e?lb(e,n,t):va(isNaN(e)?n:e)}}function Et(t,e){var n=e-t;return n?Ld(t,n):va(isNaN(t)?e:t)}const si=function t(e){var n=cb(e);function r(i,o){var a=n((i=ur(i)).r,(o=ur(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Et(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function zd(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=ur(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var Bd=zd(Od),fb=zd(Id);function el(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Dd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hb(t,e){return(Dd(e)?el:Fd)(t,e)}function Fd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=an(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Vd(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function le(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gd(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=an(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Xs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ss=new RegExp(Xs.source,"g");function db(t){return function(){return t}}function pb(t){return function(e){return t(e)+""}}function nl(t,e){var n=Xs.lastIndex=ss.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Xs.exec(t))&&(i=ss.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:le(r,i)})),n=ss.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?pb(l[0].x):db(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function an(t,e){var n=typeof e,r;return e==null||n==="boolean"?va(e):(n==="number"?le:n==="string"?(r=Qe(e))?(e=r,si):nl:e instanceof Qe?si:e instanceof Date?Vd:Dd(e)?el:Array.isArray(e)?Fd:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gd:le)(t,e)}function gb(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function mb(t,e){var n=ya(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ba(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $c=180/Math.PI,Js={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hd(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*$c,skewX:Math.atan(l)*$c,scaleX:a,scaleY:s}}var zi;function vb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Js:Hd(e.a,e.b,e.c,e.d,e.e,e.f)}function yb(t){return t==null||(zi||(zi=document.createElementNS("http://www.w3.org/2000/svg","g")),zi.setAttribute("transform",t),!(t=zi.transform.baseVal.consolidate()))?Js:(t=t.matrix,Hd(t.a,t.b,t.c,t.d,t.e,t.f))}function Yd(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,d,m){if(u!==h||c!==f){var v=d.push("translate(",null,e,null,n);m.push({i:v-4,x:le(u,h)},{i:v-2,x:le(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function a(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:le(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:le(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,m){if(u!==h||c!==f){var v=d.push(i(d)+"scale(",null,",",null,")");m.push({i:v-4,x:le(u,h)},{i:v-2,x:le(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),a(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var m=-1,v=f.length,p;++m<v;)h[(p=f[m]).i]=p.x(d);return h.join("")}}}var Ud=Yd(vb,"px, ","px)","deg)"),qd=Yd(yb,", ",")",")"),bb=1e-12;function Cc(t){return((t=Math.exp(t))+1/t)/2}function _b(t){return((t=Math.exp(t))-1/t)/2}function wb(t){return((t=Math.exp(2*t))-1)/(t+1)}const Wd=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],h=a[1],f=a[2],d=c-s,m=h-l,v=d*d+m*m,p,g;if(v<bb)g=Math.log(f/u)/e,p=function(A){return[s+A*d,l+A*m,u*Math.exp(e*A*g)]};else{var _=Math.sqrt(v),b=(f*f-u*u+r*v)/(2*u*n*_),y=(f*f-u*u-r*v)/(2*f*n*_),w=Math.log(Math.sqrt(b*b+1)-b),x=Math.log(Math.sqrt(y*y+1)-y);g=(x-w)/e,p=function(A){var $=A*g,N=Cc(w),k=u/(n*_)*(N*wb(e*$+w)-_b(w));return[s+k*d,l+k*m,u*N/Cc(e*$+w)]}}return p.duration=g*1e3*e/Math.SQRT2,p}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);function Xd(t){return function(e,n){var r=t((e=To(e)).h,(n=To(n)).h),i=Et(e.s,n.s),o=Et(e.l,n.l),a=Et(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const xb=Xd(ya);var Mb=Xd(Et);function Tb(t,e){var n=Et((t=Ao(t)).l,(e=Ao(e)).l),r=Et(t.a,e.a),i=Et(t.b,e.b),o=Et(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Jd(t){return function(e,n){var r=t((e=$o(e)).h,(n=$o(n)).h),i=Et(e.c,n.c),o=Et(e.l,n.l),a=Et(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const Sb=Jd(ya);var Ab=Jd(Et);function Zd(t){return function e(n){n=+n;function r(i,o){var a=t((i=ye(i)).h,(o=ye(o)).h),s=Et(i.s,o.s),l=Et(i.l,o.l),u=Et(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}const $b=Zd(ya);var _a=Zd(Et);function Kd(t,e){e===void 0&&(e=t,t=an);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Cb(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var lr=0,Lr=0,Nr=0,Qd=1e3,Co,zr,No=0,Tn=0,wa=0,ui=typeof performance=="object"&&performance.now?performance:Date,t0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mi(){return Tn||(t0(Nb),Tn=ui.now()+wa)}function Nb(){Tn=0}function li(){this._call=this._time=this._next=null}li.prototype=xa.prototype={constructor:li,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Mi():+n)+(e==null?0:+e),!this._next&&zr!==this&&(zr?zr._next=this:Co=this,zr=this),this._call=t,this._time=n,Zs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zs())}};function xa(t,e,n){var r=new li;return r.restart(t,e,n),r}function e0(){Mi(),++lr;for(var t=Co,e;t;)(e=Tn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lr}function Nc(){Tn=(No=ui.now())+wa,lr=Lr=0;try{e0()}finally{lr=0,Pb(),Tn=0}}function kb(){var t=ui.now(),e=t-No;e>Qd&&(wa-=e,No=t)}function Pb(){for(var t,e=Co,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Co=n);zr=t,Zs(r)}function Zs(t){if(!lr){Lr&&(Lr=clearTimeout(Lr));var e=t-Tn;e>24?(t<1/0&&(Lr=setTimeout(Nc,t-ui.now()-wa)),Nr&&(Nr=clearInterval(Nr))):(Nr||(No=ui.now(),Nr=setInterval(kb,Qd)),lr=1,t0(Nc))}}function Ks(t,e,n){var r=new li;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function Eb(t,e,n){var r=new li,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?Mi():+s,r._restart(function l(u){u+=i,r._restart(l,i+=a,s),o(u)},a,s)},r.restart(t,e,n),r)}var Rb=kn("start","end","cancel","interrupt"),jb=[],n0=0,Qs=1,tu=2,so=3,kc=4,eu=5,uo=6;function Ma(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Ob(t,n,{name:e,index:r,group:i,on:Rb,tween:jb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:n0})}function rl(t,e){var n=be(t,e);if(n.state>n0)throw new Error("too late; already scheduled");return n}function Ne(t,e){var n=be(t,e);if(n.state>so)throw new Error("too late; already running");return n}function be(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ob(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xa(o,0,n.time);function o(u){n.state=Qs,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,f,d;if(n.state!==Qs)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===so)return Ks(a);d.state===kc?(d.state=uo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=uo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Ks(function(){n.state===so&&(n.state=kc,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=tu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===tu){for(n.state=so,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=eu,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===eu&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=uo,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function yn(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>tu&&r.state<eu,r.state=uo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Ib(t){return this.each(function(){yn(this,t)})}function Lb(t,e){var n,r;return function(){var i=Ne(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function zb(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ne(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function Bb(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=be(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Lb:zb)(n,t,e))}function il(t,e,n){var r=t._id;return t.each(function(){var i=Ne(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return be(i,r).value[e]}}function r0(t,e){var n;return(typeof e=="number"?le:e instanceof Qe?si:(n=Qe(e))?(e=n,si):nl)(t,e)}function Db(t){return function(){this.removeAttribute(t)}}function Fb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vb(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Gb(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Hb(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Yb(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Ub(t,e){var n=wi(t),r=n==="transform"?qd:r0;return this.attrTween(t,typeof e=="function"?(n.local?Yb:Hb)(n,r,il(this,"attr."+t,e)):e==null?(n.local?Fb:Db)(n):(n.local?Gb:Vb)(n,r,e))}function qb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wb(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Xb(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wb(t,o)),n}return i._value=e,i}function Jb(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&qb(t,o)),n}return i._value=e,i}function Zb(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wi(t);return this.tween(n,(r.local?Xb:Jb)(r,e))}function Kb(t,e){return function(){rl(this,t).delay=+e.apply(this,arguments)}}function Qb(t,e){return e=+e,function(){rl(this,t).delay=e}}function t_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kb:Qb)(e,t)):be(this.node(),e).delay}function e_(t,e){return function(){Ne(this,t).duration=+e.apply(this,arguments)}}function n_(t,e){return e=+e,function(){Ne(this,t).duration=e}}function r_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?e_:n_)(e,t)):be(this.node(),e).duration}function i_(t,e){if(typeof e!="function")throw new Error;return function(){Ne(this,t).ease=e}}function o_(t){var e=this._id;return arguments.length?this.each(i_(e,t)):be(this.node(),e).ease}function a_(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ne(this,t).ease=n}}function s_(t){if(typeof t!="function")throw new Error;return this.each(a_(this._id,t))}function u_(t){typeof t!="function"&&(t=Wu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Se(r,this._parents,this._name,this._id)}function l_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,h=a[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)a[s]=e[s];return new Se(a,this._parents,this._name,this._id)}function c_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function f_(t,e,n){var r,i,o=c_(e)?rl:Ne;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function h_(t,e){var n=this._id;return arguments.length<2?be(this.node(),n).on.on(t):this.each(f_(n,t,e))}function d_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function p_(){return this.on("end.remove",d_(this._id))}function g_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=da(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Ma(u[f],e,n,f,u,be(c,n)));return new Se(o,this._parents,e,n)}function m_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qu(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,m=be(c,n),v=0,p=f.length;v<p;++v)(d=f[v])&&Ma(d,e,n,v,f,m);o.push(f),a.push(c)}return new Se(o,a,e,n)}var v_=Pn.prototype.constructor;function y_(){return new v_(this._groups,this._parents)}function b_(t,e){var n,r,i;return function(){var o=xn(this,t),a=(this.style.removeProperty(t),xn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function i0(t){return function(){this.style.removeProperty(t)}}function __(t,e,n){var r,i=n+"",o;return function(){var a=xn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function w_(t,e,n){var r,i,o;return function(){var a=xn(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),xn(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function x_(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=Ne(this,t),u=l.on,c=l.value[o]==null?s||(s=i0(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function M_(t,e,n){var r=(t+="")=="transform"?Ud:r0;return e==null?this.styleTween(t,b_(t,r)).on("end.style."+t,i0(t)):typeof e=="function"?this.styleTween(t,w_(t,r,il(this,"style."+t,e))).each(x_(this._id,t)):this.styleTween(t,__(t,r,e),n).on("end.style."+t,null)}function T_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function S_(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&T_(t,a,n)),r}return o._value=e,o}function A_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,S_(t,e,n??""))}function $_(t){return function(){this.textContent=t}}function C_(t){return function(){var e=t(this);this.textContent=e??""}}function N_(t){return this.tween("text",typeof t=="function"?C_(il(this,"text",t)):$_(t==null?"":t+""))}function k_(t){return function(e){this.textContent=t.call(this,e)}}function P_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&k_(i)),e}return r._value=t,r}function E_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,P_(t))}function R_(){for(var t=this._name,e=this._id,n=a0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=be(l,e);Ma(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Se(r,this._parents,t,n)}function j_(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=Ne(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var O_=0;function Se(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function o0(t){return Pn().transition(t)}function a0(){return++O_}var Pe=Pn.prototype;Se.prototype=o0.prototype={constructor:Se,select:g_,selectAll:m_,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:u_,merge:l_,selection:y_,transition:R_,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:h_,attr:Ub,attrTween:Zb,style:M_,styleTween:A_,text:N_,textTween:E_,remove:p_,tween:Bb,delay:t_,duration:r_,ease:o_,easeVarying:s_,end:j_,[Symbol.iterator]:Pe[Symbol.iterator]};const I_=t=>+t;function L_(t){return t*t}function z_(t){return t*(2-t)}function Pc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function B_(t){return t*t*t}function D_(t){return--t*t*t+1}function nu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ol=3,F_=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(ol),V_=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(ol),Ec=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(ol),s0=Math.PI,u0=s0/2;function G_(t){return+t==1?1:1-Math.cos(t*u0)}function H_(t){return Math.sin(t*u0)}function Rc(t){return(1-Math.cos(s0*t))/2}function tn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Y_(t){return tn(1-+t)}function U_(t){return 1-tn(t)}function jc(t){return((t*=2)<=1?tn(1-t):2-tn(t-1))/2}function q_(t){return 1-Math.sqrt(1-t*t)}function W_(t){return Math.sqrt(1- --t*t)}function Oc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ru=4/11,X_=6/11,J_=8/11,Z_=3/4,K_=9/11,Q_=10/11,tw=15/16,ew=21/22,nw=63/64,Bi=1/ru/ru;function rw(t){return 1-ci(1-t)}function ci(t){return(t=+t)<ru?Bi*t*t:t<J_?Bi*(t-=X_)*t+Z_:t<Q_?Bi*(t-=K_)*t+tw:Bi*(t-=ew)*t+nw}function iw(t){return((t*=2)<=1?1-ci(1-t):ci(t-1)+1)/2}var al=1.70158,ow=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(al),aw=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(al),Ic=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(al),cr=2*Math.PI,sl=1,ul=.3,sw=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=cr);function i(o){return e*tn(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return t(o,n*cr)},i.period=function(o){return t(e,o)},i}(sl,ul),Lc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=cr);function i(o){return 1-e*tn(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return t(o,n*cr)},i.period=function(o){return t(e,o)},i}(sl,ul),uw=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=cr);function i(o){return((o=o*2-1)<0?e*tn(-o)*Math.sin((r-o)/n):2-e*tn(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return t(o,n*cr)},i.period=function(o){return t(e,o)},i}(sl,ul),lw={time:null,delay:0,duration:250,ease:nu};function cw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function fw(t){var e,n;t instanceof Se?(e=t._id,t=t._name):(e=a0(),(n=lw).time=Mi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Ma(l,t,e,u,a,n||cw(l,e));return new Se(r,this._parents,t,e)}Pn.prototype.interrupt=Ib;Pn.prototype.transition=fw;var hw=[null];function dw(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>Qs&&r.name===e)return new Se([[t]],hw,e,+i)}return null}const us=t=>()=>t;function pw(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function gw(t){t.stopImmediatePropagation()}function ls(t){t.preventDefault(),t.stopImmediatePropagation()}var zc={name:"drag"},cs={name:"space"},Fn={name:"handle"},Vn={name:"center"};const{abs:Bc,max:It,min:Lt}=Math;function Dc(t){return[+t[0],+t[1]]}function iu(t){return[Dc(t[0]),Dc(t[1])]}var lo={name:"x",handles:["w","e"].map(fi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},co={name:"y",handles:["n","s"].map(fi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},mw={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(fi),input:function(t){return t==null?null:iu(t)},output:function(t){return t}},Ee={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Fc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Vc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vw={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yw={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fi(t){return{type:t}}function bw(t){return!t.ctrlKey&&!t.button}function _w(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ww(){return navigator.maxTouchPoints||"ontouchstart"in this}function fs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function xw(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Mw(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Tw(){return ll(lo)}function Sw(){return ll(co)}function Aw(){return ll(mw)}function ll(t){var e=_w,n=bw,r=ww,i=!0,o=kn("start","brush","end"),a=6,s;function l(p){var g=p.property("__brush",v).selectAll(".overlay").data([fi("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ee.overlay).merge(g).each(function(){var b=fs(this).extent;Ft(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),p.selectAll(".selection").data([fi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ee.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=p.selectAll(".handle").data(t.handles,function(b){return b.type});_.exit().remove(),_.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Ee[b.type]}),p.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,g,_){p.tween?p.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,y=b.__brush,w=c(b,arguments),x=y.selection,A=t.input(typeof g=="function"?g.apply(this,arguments):g,y.extent),$=an(x,A);function N(k){y.selection=k===1&&A===null?null:$(k),u.call(b),w.brush()}return x!==null&&A!==null?N:N(1)}):p.each(function(){var b=this,y=arguments,w=b.__brush,x=t.input(typeof g=="function"?g.apply(b,y):g,w.extent),A=c(b,y).beforestart();yn(b),w.selection=x===null?null:x,u.call(b),A.start(_).brush(_).end(_)})},l.clear=function(p,g){l.move(p,null,g)};function u(){var p=Ft(this),g=fs(this).selection;g?(p.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?g[1][0]-a/2:g[0][0]-a/2}).attr("y",function(_){return _.type[0]==="s"?g[1][1]-a/2:g[0][1]-a/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?g[1][0]-g[0][0]+a:a}).attr("height",function(_){return _.type==="e"||_.type==="w"?g[1][1]-g[0][1]+a:a})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(p,g,_){var b=p.__brush.emitter;return b&&(!_||!b.clean)?b:new h(p,g,_)}function h(p,g,_){this.that=p,this.args=g,this.state=p.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,g){return this.starting?(this.starting=!1,this.emit("start",p,g)):this.emit("brush",p),this},brush:function(p,g){return this.emit("brush",p,g),this},end:function(p,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,g)),this},emit:function(p,g,_){var b=Ft(this.that).datum();o.call(p,this.that,new pw(p,{sourceEvent:g,target:l,selection:t.output(this.state.selection),mode:_,dispatch:o}),b)}};function f(p){if(s&&!p.touches||!n.apply(this,arguments))return;var g=this,_=p.target.__data__.type,b=(i&&p.metaKey?_="overlay":_)==="selection"?zc:i&&p.altKey?Vn:Fn,y=t===co?null:vw[_],w=t===lo?null:yw[_],x=fs(g),A=x.extent,$=x.selection,N=A[0][0],k,P,L=A[0][1],T,M,S=A[1][0],C,O,B=A[1][1],I,R,j=0,z=0,F,G=y&&w&&i&&p.shiftKey,H,J,W=Array.from(p.touches||[p],q=>{const it=q.identifier;return q=oe(q,g),q.point0=q.slice(),q.identifier=it,q});yn(g);var X=c(g,arguments,!0).beforestart();if(_==="overlay"){$&&(F=!0);const q=[W[0],W[1]||W[0]];x.selection=$=[[k=t===co?N:Lt(q[0][0],q[1][0]),T=t===lo?L:Lt(q[0][1],q[1][1])],[C=t===co?S:It(q[0][0],q[1][0]),I=t===lo?B:It(q[0][1],q[1][1])]],W.length>1&&tt(p)}else k=$[0][0],T=$[0][1],C=$[1][0],I=$[1][1];P=k,M=T,O=C,R=I;var V=Ft(g).attr("pointer-events","none"),Y=V.selectAll(".overlay").attr("cursor",Ee[_]);if(p.touches)X.moved=D,X.ended=ot;else{var K=Ft(p.view).on("mousemove.brush",D,!0).on("mouseup.brush",ot,!0);i&&K.on("keydown.brush",at,!0).on("keyup.brush",rt,!0),pa(p.view)}u.call(g),X.start(p,b.name);function D(q){for(const it of q.changedTouches||[q])for(const Tt of W)Tt.identifier===it.identifier&&(Tt.cur=oe(it,g));if(G&&!H&&!J&&W.length===1){const it=W[0];Bc(it.cur[0]-it[0])>Bc(it.cur[1]-it[1])?J=!0:H=!0}for(const it of W)it.cur&&(it[0]=it.cur[0],it[1]=it.cur[1]);F=!0,ls(q),tt(q)}function tt(q){const it=W[0],Tt=it.point0;var gt;switch(j=it[0]-Tt[0],z=it[1]-Tt[1],b){case cs:case zc:{y&&(j=It(N-k,Lt(S-C,j)),P=k+j,O=C+j),w&&(z=It(L-T,Lt(B-I,z)),M=T+z,R=I+z);break}case Fn:{W[1]?(y&&(P=It(N,Lt(S,W[0][0])),O=It(N,Lt(S,W[1][0])),y=1),w&&(M=It(L,Lt(B,W[0][1])),R=It(L,Lt(B,W[1][1])),w=1)):(y<0?(j=It(N-k,Lt(S-k,j)),P=k+j,O=C):y>0&&(j=It(N-C,Lt(S-C,j)),P=k,O=C+j),w<0?(z=It(L-T,Lt(B-T,z)),M=T+z,R=I):w>0&&(z=It(L-I,Lt(B-I,z)),M=T,R=I+z));break}case Vn:{y&&(P=It(N,Lt(S,k-j*y)),O=It(N,Lt(S,C+j*y))),w&&(M=It(L,Lt(B,T-z*w)),R=It(L,Lt(B,I+z*w)));break}}O<P&&(y*=-1,gt=k,k=C,C=gt,gt=P,P=O,O=gt,_ in Fc&&Y.attr("cursor",Ee[_=Fc[_]])),R<M&&(w*=-1,gt=T,T=I,I=gt,gt=M,M=R,R=gt,_ in Vc&&Y.attr("cursor",Ee[_=Vc[_]])),x.selection&&($=x.selection),H&&(P=$[0][0],O=$[1][0]),J&&(M=$[0][1],R=$[1][1]),($[0][0]!==P||$[0][1]!==M||$[1][0]!==O||$[1][1]!==R)&&(x.selection=[[P,M],[O,R]],u.call(g),X.brush(q,b.name))}function ot(q){if(gw(q),q.touches){if(q.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else ga(q.view,F),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);V.attr("pointer-events","all"),Y.attr("cursor",Ee.overlay),x.selection&&($=x.selection),xw($)&&(x.selection=null,u.call(g)),X.end(q,b.name)}function at(q){switch(q.keyCode){case 16:{G=y&&w;break}case 18:{b===Fn&&(y&&(C=O-j*y,k=P+j*y),w&&(I=R-z*w,T=M+z*w),b=Vn,tt(q));break}case 32:{(b===Fn||b===Vn)&&(y<0?C=O-j:y>0&&(k=P-j),w<0?I=R-z:w>0&&(T=M-z),b=cs,Y.attr("cursor",Ee.selection),tt(q));break}default:return}ls(q)}function rt(q){switch(q.keyCode){case 16:{G&&(H=J=G=!1,tt(q));break}case 18:{b===Vn&&(y<0?C=O:y>0&&(k=P),w<0?I=R:w>0&&(T=M),b=Fn,tt(q));break}case 32:{b===cs&&(q.altKey?(y&&(C=O-j*y,k=P+j*y),w&&(I=R-z*w,T=M+z*w),b=Vn):(y<0?C=O:y>0&&(k=P),w<0?I=R:w>0&&(T=M),b=Fn),Y.attr("cursor",Ee[_]),tt(q));break}default:return}ls(q)}}function d(p){c(this,arguments).moved(p)}function m(p){c(this,arguments).ended(p)}function v(){var p=this.__brush||{selection:null};return p.extent=iu(e.apply(this,arguments)),p.dim=t,p}return l.extent=function(p){return arguments.length?(e=typeof p=="function"?p:us(iu(p)),l):e},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:us(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:us(!!p),l):r},l.handleSize=function(p){return arguments.length?(a=+p,l):a},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=o.on.apply(o,arguments);return p===o?l:p},l}var Gc=Math.abs,Gn=Math.cos,Hn=Math.sin,l0=Math.PI,Di=l0/2,Hc=l0*2,Yc=Math.max,hs=1e-12;function ds(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function $w(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Cw(){return cl(!1,!1)}function Nw(){return cl(!1,!0)}function kw(){return cl(!0,!1)}function cl(t,e){var n=0,r=null,i=null,o=null;function a(s){var l=s.length,u=new Array(l),c=ds(0,l),h=new Array(l*l),f=new Array(l),d=0,m;s=Float64Array.from({length:l*l},e?(v,p)=>s[p%l][p/l|0]:(v,p)=>s[p/l|0][p%l]);for(let v=0;v<l;++v){let p=0;for(let g=0;g<l;++g)p+=s[v*l+g]+t*s[g*l+v];d+=u[v]=p}d=Yc(0,Hc-n*l)/d,m=d?n:Hc/l;{let v=0;r&&c.sort((p,g)=>r(u[p],u[g]));for(const p of c){const g=v;if(t){const _=ds(~l+1,l).filter(b=>b<0?s[~b*l+p]:s[p*l+b]);i&&_.sort((b,y)=>i(b<0?-s[~b*l+p]:s[p*l+b],y<0?-s[~y*l+p]:s[p*l+y]));for(const b of _)if(b<0){const y=h[~b*l+p]||(h[~b*l+p]={source:null,target:null});y.target={index:p,startAngle:v,endAngle:v+=s[~b*l+p]*d,value:s[~b*l+p]}}else{const y=h[p*l+b]||(h[p*l+b]={source:null,target:null});y.source={index:p,startAngle:v,endAngle:v+=s[p*l+b]*d,value:s[p*l+b]}}f[p]={index:p,startAngle:g,endAngle:v,value:u[p]}}else{const _=ds(0,l).filter(b=>s[p*l+b]||s[b*l+p]);i&&_.sort((b,y)=>i(s[p*l+b],s[p*l+y]));for(const b of _){let y;if(p<b?(y=h[p*l+b]||(h[p*l+b]={source:null,target:null}),y.source={index:p,startAngle:v,endAngle:v+=s[p*l+b]*d,value:s[p*l+b]}):(y=h[b*l+p]||(h[b*l+p]={source:null,target:null}),y.target={index:p,startAngle:v,endAngle:v+=s[p*l+b]*d,value:s[p*l+b]},p===b&&(y.source=y.target)),y.source&&y.target&&y.source.value<y.target.value){const w=y.source;y.source=y.target,y.target=w}}f[p]={index:p,startAngle:g,endAngle:v,value:u[p]}}v+=m}}return h=Object.values(h),h.groups=f,o?h.sort(o):h}return a.padAngle=function(s){return arguments.length?(n=Yc(0,s),a):n},a.sortGroups=function(s){return arguments.length?(r=s,a):r},a.sortSubgroups=function(s){return arguments.length?(i=s,a):i},a.sortChords=function(s){return arguments.length?(s==null?o=null:(o=$w(s))._=s,a):o&&o._},a}const ou=Math.PI,au=2*ou,fn=1e-6,Pw=au-fn;function c0(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ew(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c0;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Ti=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c0:Ew(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,h=s-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>fn)if(!(Math.abs(h*l-u*c)>fn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,m=i-s,v=l*l+u*u,p=d*d+m*m,g=Math.sqrt(v),_=Math.sqrt(f),b=o*Math.tan((ou-Math.acos((v+f-p)/(2*g*_)))/2),y=b/_,w=b/g;Math.abs(y-1)>fn&&this._append`L${e+y*c},${n+y*h}`,this._append`A${o},${o},0,0,${+(h*d>c*m)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>fn||Math.abs(this._y1-c)>fn)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%au+au),f>Pw?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>fn&&this._append`A${r},${r},0,${+(f>=ou)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function fl(){return new Ti}fl.prototype=Ti.prototype;function Rw(t=3){return new Ti(+t)}var jw=Array.prototype.slice;function ln(t){return function(){return t}}function Ow(t){return t.source}function Iw(t){return t.target}function Uc(t){return t.radius}function Lw(t){return t.startAngle}function zw(t){return t.endAngle}function Bw(){return 0}function Dw(){return 10}function f0(t){var e=Ow,n=Iw,r=Uc,i=Uc,o=Lw,a=zw,s=Bw,l=null;function u(){var c,h=e.apply(this,arguments),f=n.apply(this,arguments),d=s.apply(this,arguments)/2,m=jw.call(arguments),v=+r.apply(this,(m[0]=h,m)),p=o.apply(this,m)-Di,g=a.apply(this,m)-Di,_=+i.apply(this,(m[0]=f,m)),b=o.apply(this,m)-Di,y=a.apply(this,m)-Di;if(l||(l=c=fl()),d>hs&&(Gc(g-p)>d*2+hs?g>p?(p+=d,g-=d):(p-=d,g+=d):p=g=(p+g)/2,Gc(y-b)>d*2+hs?y>b?(b+=d,y-=d):(b-=d,y+=d):b=y=(b+y)/2),l.moveTo(v*Gn(p),v*Hn(p)),l.arc(0,0,v,p,g),p!==b||g!==y)if(t){var w=+t.apply(this,arguments),x=_-w,A=(b+y)/2;l.quadraticCurveTo(0,0,x*Gn(b),x*Hn(b)),l.lineTo(_*Gn(A),_*Hn(A)),l.lineTo(x*Gn(y),x*Hn(y))}else l.quadraticCurveTo(0,0,_*Gn(b),_*Hn(b)),l.arc(0,0,_,b,y);if(l.quadraticCurveTo(0,0,v*Gn(p),v*Hn(p)),l.closePath(),c)return l=null,c+""||null}return t&&(u.headRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ln(+c),u):t}),u.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:ln(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:ln(+c),u):r},u.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:ln(+c),u):i},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ln(+c),u):o},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:ln(+c),u):a},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ln(+c),u):s},u.source=function(c){return arguments.length?(e=c,u):e},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Fw(){return f0()}function Vw(){return f0(Dw)}var Gw=Array.prototype,h0=Gw.slice;function Hw(t,e){return t-e}function Yw(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const qe=t=>()=>t;function Uw(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=qw(t,e[n]))return i;return 0}function qw(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],u=l[0],c=l[1],h=t[s],f=h[0],d=h[1];if(Ww(l,h,e))return 0;c>r!=d>r&&n<(f-u)*(r-c)/(d-c)+u&&(i=-i)}return i}function Ww(t,e,n){var r;return Xw(t,e,n)&&Jw(t[r=+(t[0]===e[0])],n[r],e[r])}function Xw(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function Jw(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Zw(){}var Re=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function su(){var t=1,e=1,n=Gu,r=l;function i(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(Hw);else{const h=Wr(u,Kw);for(c=_n(...Vu(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>o(u,h))}function o(u,c){const h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var f=[],d=[];return a(u,h,function(m){r(m,u,h),Yw(m)>0?f.push([m]):d.push(m)}),d.forEach(function(m){for(var v=0,p=f.length,g;v<p;++v)if(Uw((g=f[v])[0],m)!==-1){g.push(m);return}}),{type:"MultiPolygon",value:c,coordinates:f}}function a(u,c,h){var f=new Array,d=new Array,m,v,p,g,_,b;for(m=v=-1,g=cn(u[0],c),Re[g<<1].forEach(y);++m<t-1;)p=g,g=cn(u[m+1],c),Re[p|g<<1].forEach(y);for(Re[g<<0].forEach(y);++v<e-1;){for(m=-1,g=cn(u[v*t+t],c),_=cn(u[v*t],c),Re[g<<1|_<<2].forEach(y);++m<t-1;)p=g,g=cn(u[v*t+t+m+1],c),b=_,_=cn(u[v*t+m+1],c),Re[p|g<<1|_<<2|b<<3].forEach(y);Re[g|_<<3].forEach(y)}for(m=-1,_=u[v*t]>=c,Re[_<<2].forEach(y);++m<t-1;)b=_,_=cn(u[v*t+m+1],c),Re[_<<2|b<<3].forEach(y);Re[_<<3].forEach(y);function y(w){var x=[w[0][0]+m,w[0][1]+v],A=[w[1][0]+m,w[1][1]+v],$=s(x),N=s(A),k,P;(k=d[$])?(P=f[N])?(delete d[k.end],delete f[P.start],k===P?(k.ring.push(A),h(k.ring)):f[k.start]=d[P.end]={start:k.start,end:P.end,ring:k.ring.concat(P.ring)}):(delete d[k.end],k.ring.push(A),d[k.end=N]=k):(k=f[N])?(P=d[$])?(delete f[k.start],delete d[P.end],k===P?(k.ring.push(A),h(k.ring)):f[P.start]=d[k.end]={start:P.start,end:k.end,ring:P.ring.concat(k.ring)}):(delete f[k.start],k.ring.unshift(x),f[k.start=$]=k):f[$]=d[N]={start:$,end:N,ring:[x,A]}}}function s(u){return u[0]*2+u[1]*(t+1)*4}function l(u,c,h){u.forEach(function(f){var d=f[0],m=f[1],v=d|0,p=m|0,g=ps(c[p*t+v]);d>0&&d<t&&v===d&&(f[0]=qc(d,ps(c[p*t+v-1]),g,h)),m>0&&m<e&&p===m&&(f[1]=qc(m,ps(c[(p-1)*t+v]),g,h))})}return i.contour=o,i.size=function(u){if(!arguments.length)return[t,e];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?qe(h0.call(u)):qe(u),i):n},i.smooth=function(u){return arguments.length?(r=u?l:Zw,i):r===l},i}function Kw(t){return isFinite(t)?t:NaN}function cn(t,e){return t==null?!1:+t>=e}function ps(t){return t==null||isNaN(t=+t)?-1/0:t}function qc(t,e,n,r){const i=r-e,o=n-e,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function Qw(t){return t[0]}function t3(t){return t[1]}function e3(){return 1}function n3(){var t=Qw,e=t3,n=e3,r=960,i=500,o=20,a=2,s=o*3,l=r+s*2>>a,u=i+s*2>>a,c=qe(20);function h(_){var b=new Float32Array(l*u),y=Math.pow(2,-a),w=-1;for(const T of _){var x=(t(T,++w,_)+s)*y,A=(e(T,w,_)+s)*y,$=+n(T,w,_);if($&&x>=0&&x<l&&A>=0&&A<u){var N=Math.floor(x),k=Math.floor(A),P=x-N-.5,L=A-k-.5;b[N+k*l]+=(1-P)*(1-L)*$,b[N+1+k*l]+=P*(1-L)*$,b[N+1+(k+1)*l]+=P*L*$,b[N+(k+1)*l]+=(1-P)*L*$}}return Yh({data:b,width:l,height:u},o*y),b}function f(_){var b=h(_),y=c(b),w=Math.pow(2,2*a);return Array.isArray(y)||(y=_n(Number.MIN_VALUE,ni(b)/w,y)),su().size([l,u]).thresholds(y.map(x=>x*w))(b).map((x,A)=>(x.value=+y[A],d(x)))}f.contours=function(_){var b=h(_),y=su().size([l,u]),w=Math.pow(2,2*a),x=A=>{A=+A;var $=d(y.contour(b,A*w));return $.value=A,$};return Object.defineProperty(x,"max",{get:()=>ni(b)/w}),x};function d(_){return _.coordinates.forEach(m),_}function m(_){_.forEach(v)}function v(_){_.forEach(p)}function p(_){_[0]=_[0]*Math.pow(2,a)-s,_[1]=_[1]*Math.pow(2,a)-s}function g(){return s=o*3,l=r+s*2>>a,u=i+s*2>>a,f}return f.x=function(_){return arguments.length?(t=typeof _=="function"?_:qe(+_),f):t},f.y=function(_){return arguments.length?(e=typeof _=="function"?_:qe(+_),f):e},f.weight=function(_){return arguments.length?(n=typeof _=="function"?_:qe(+_),f):n},f.size=function(_){if(!arguments.length)return[r,i];var b=+_[0],y=+_[1];if(!(b>=0&&y>=0))throw new Error("invalid size");return r=b,i=y,g()},f.cellSize=function(_){if(!arguments.length)return 1<<a;if(!((_=+_)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(_)/Math.LN2),g()},f.thresholds=function(_){return arguments.length?(c=typeof _=="function"?_:Array.isArray(_)?qe(h0.call(_)):qe(_),f):c},f.bandwidth=function(_){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*_*_+1)-1)/2,g()},f}const Ge=11102230246251565e-32,zt=134217729,r3=(3+8*Ge)*Ge;function gs(t,e,n,r,i){let o,a,s,l,u=e[0],c=r[0],h=0,f=0;c>u==c>-u?(o=u,u=e[++h]):(o=c,c=r[++f]);let d=0;if(h<t&&f<n)for(c>u==c>-u?(a=u+o,s=o-(a-u),u=e[++h]):(a=c+o,s=o-(a-c),c=r[++f]),o=a,s!==0&&(i[d++]=s);h<t&&f<n;)c>u==c>-u?(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=e[++h]):(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=r[++f]),o=a,s!==0&&(i[d++]=s);for(;h<t;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=e[++h],o=a,s!==0&&(i[d++]=s);for(;f<n;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=r[++f],o=a,s!==0&&(i[d++]=s);return(o!==0||d===0)&&(i[d++]=o),d}function i3(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Si(t){return new Float64Array(t)}const o3=(3+16*Ge)*Ge,a3=(2+12*Ge)*Ge,s3=(9+64*Ge)*Ge*Ge,Yn=Si(4),Wc=Si(8),Xc=Si(12),Jc=Si(16),Gt=Si(4);function u3(t,e,n,r,i,o,a){let s,l,u,c,h,f,d,m,v,p,g,_,b,y,w,x,A,$;const N=t-i,k=n-i,P=e-o,L=r-o;y=N*L,f=zt*N,d=f-(f-N),m=N-d,f=zt*L,v=f-(f-L),p=L-v,w=m*p-(y-d*v-m*v-d*p),x=P*k,f=zt*P,d=f-(f-P),m=P-d,f=zt*k,v=f-(f-k),p=k-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Yn[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Yn[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Yn[2]=_-($-h)+(g-h),Yn[3]=$;let T=i3(4,Yn),M=a3*a;if(T>=M||-T>=M||(h=t-N,s=t-(N+h)+(h-i),h=n-k,u=n-(k+h)+(h-i),h=e-P,l=e-(P+h)+(h-o),h=r-L,c=r-(L+h)+(h-o),s===0&&l===0&&u===0&&c===0)||(M=s3*a+r3*Math.abs(T),T+=N*c+L*s-(P*u+k*l),T>=M||-T>=M))return T;y=s*L,f=zt*s,d=f-(f-s),m=s-d,f=zt*L,v=f-(f-L),p=L-v,w=m*p-(y-d*v-m*v-d*p),x=l*k,f=zt*l,d=f-(f-l),m=l-d,f=zt*k,v=f-(f-k),p=k-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Gt[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Gt[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Gt[2]=_-($-h)+(g-h),Gt[3]=$;const S=gs(4,Yn,4,Gt,Wc);y=N*c,f=zt*N,d=f-(f-N),m=N-d,f=zt*c,v=f-(f-c),p=c-v,w=m*p-(y-d*v-m*v-d*p),x=P*u,f=zt*P,d=f-(f-P),m=P-d,f=zt*u,v=f-(f-u),p=u-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Gt[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Gt[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Gt[2]=_-($-h)+(g-h),Gt[3]=$;const C=gs(S,Wc,4,Gt,Xc);y=s*c,f=zt*s,d=f-(f-s),m=s-d,f=zt*c,v=f-(f-c),p=c-v,w=m*p-(y-d*v-m*v-d*p),x=l*u,f=zt*l,d=f-(f-l),m=l-d,f=zt*u,v=f-(f-u),p=u-v,A=m*p-(x-d*v-m*v-d*p),g=w-A,h=w-g,Gt[0]=w-(g+h)+(h-A),_=y+g,h=_-y,b=y-(_-h)+(g-h),g=b-x,h=b-g,Gt[1]=b-(g+h)+(h-x),$=_+g,h=$-_,Gt[2]=_-($-h)+(g-h),Gt[3]=$;const O=gs(C,Xc,4,Gt,Jc);return Jc[O-1]}function Fi(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s,u=Math.abs(a+s);return Math.abs(l)>=o3*u?l:-u3(t,e,n,r,i,o,u)}const Zc=Math.pow(2,-52),Vi=new Uint32Array(512);class ko{static from(e,n=d3,r=p3){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new ko(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,u=-1/0,c=-1/0;for(let N=0;N<a;N++){const k=e[2*N],P=e[2*N+1];k<s&&(s=k),P<l&&(l=P),k>u&&(u=k),P>c&&(c=P),this._ids[N]=N}const h=(s+u)/2,f=(l+c)/2;let d,m,v;for(let N=0,k=1/0;N<a;N++){const P=ms(h,f,e[2*N],e[2*N+1]);P<k&&(d=N,k=P)}const p=e[2*d],g=e[2*d+1];for(let N=0,k=1/0;N<a;N++){if(N===d)continue;const P=ms(p,g,e[2*N],e[2*N+1]);P<k&&P>0&&(m=N,k=P)}let _=e[2*m],b=e[2*m+1],y=1/0;for(let N=0;N<a;N++){if(N===d||N===m)continue;const k=f3(p,g,_,b,e[2*N],e[2*N+1]);k<y&&(v=N,y=k)}let w=e[2*v],x=e[2*v+1];if(y===1/0){for(let P=0;P<a;P++)this._dists[P]=e[2*P]-e[0]||e[2*P+1]-e[1];Zn(this._ids,this._dists,0,a-1);const N=new Uint32Array(a);let k=0;for(let P=0,L=-1/0;P<a;P++){const T=this._ids[P],M=this._dists[T];M>L&&(N[k++]=T,L=M)}this.hull=N.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Fi(p,g,_,b,w,x)<0){const N=m,k=_,P=b;m=v,_=w,b=x,v=N,w=k,x=P}const A=h3(p,g,_,b,w,x);this._cx=A.x,this._cy=A.y;for(let N=0;N<a;N++)this._dists[N]=ms(e[2*N],e[2*N+1],A.x,A.y);Zn(this._ids,this._dists,0,a-1),this._hullStart=d;let $=3;r[d]=n[v]=m,r[m]=n[d]=v,r[v]=n[m]=d,i[d]=0,i[m]=1,i[v]=2,o.fill(-1),o[this._hashKey(p,g)]=d,o[this._hashKey(_,b)]=m,o[this._hashKey(w,x)]=v,this.trianglesLen=0,this._addTriangle(d,m,v,-1,-1,-1);for(let N=0,k,P;N<this._ids.length;N++){const L=this._ids[N],T=e[2*L],M=e[2*L+1];if(N>0&&Math.abs(T-k)<=Zc&&Math.abs(M-P)<=Zc||(k=T,P=M,L===d||L===m||L===v))continue;let S=0;for(let R=0,j=this._hashKey(T,M);R<this._hashSize&&(S=o[(j+R)%this._hashSize],!(S!==-1&&S!==r[S]));R++);S=n[S];let C=S,O;for(;O=r[C],Fi(T,M,e[2*C],e[2*C+1],e[2*O],e[2*O+1])>=0;)if(C=O,C===S){C=-1;break}if(C===-1)continue;let B=this._addTriangle(C,L,r[C],-1,-1,i[C]);i[L]=this._legalize(B+2),i[C]=B,$++;let I=r[C];for(;O=r[I],Fi(T,M,e[2*I],e[2*I+1],e[2*O],e[2*O+1])<0;)B=this._addTriangle(I,L,O,i[L],-1,i[I]),i[L]=this._legalize(B+2),r[I]=I,$--,I=O;if(C===S)for(;O=n[C],Fi(T,M,e[2*O],e[2*O+1],e[2*C],e[2*C+1])<0;)B=this._addTriangle(O,L,C,-1,i[C],i[O]),this._legalize(B+2),i[O]=B,r[C]=C,$--,C=O;this._hullStart=n[L]=C,r[C]=n[I]=L,r[L]=I,o[this._hashKey(T,M)]=L,o[this._hashKey(e[2*C],e[2*C+1])]=C}this.hull=new Uint32Array($);for(let N=0,k=this._hullStart;N<$;N++)this.hull[N]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(l3(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=Vi[--o];continue}const u=s-s%3,c=l+(e+1)%3,h=u+(s+2)%3,f=n[a],d=n[e],m=n[c],v=n[h];if(c3(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*m],i[2*m+1],i[2*v],i[2*v+1])){n[e]=v,n[s]=f;const g=r[h];if(g===-1){let b=this._hullStart;do{if(this._hullTri[b]===h){this._hullTri[b]=e;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(e,g),this._link(s,r[a]),this._link(a,h);const _=u+(s+1)%3;o<Vi.length&&(Vi[o++]=_)}else{if(o===0)break;e=Vi[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function l3(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function ms(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function c3(t,e,n,r,i,o,a,s){const l=t-a,u=e-s,c=n-a,h=r-s,f=i-a,d=o-s,m=l*l+u*u,v=c*c+h*h,p=f*f+d*d;return l*(h*p-v*d)-u*(c*p-v*f)+m*(c*d-h*f)<0}function f3(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,u=o-e,c=a*a+s*s,h=l*l+u*u,f=.5/(a*u-s*l),d=(u*c-s*h)*f,m=(a*h-l*c)*f;return d*d+m*m}function h3(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,u=o-e,c=a*a+s*s,h=l*l+u*u,f=.5/(a*u-s*l),d=t+(u*c-s*h)*f,m=e+(a*h-l*c)*f;return{x:d,y:m}}function Zn(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;kr(t,i,o),e[t[n]]>e[t[r]]&&kr(t,n,r),e[t[o]]>e[t[r]]&&kr(t,o,r),e[t[n]]>e[t[o]]&&kr(t,n,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;kr(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(Zn(t,e,o,r),Zn(t,e,n,a-1)):(Zn(t,e,n,a-1),Zn(t,e,o,r))}}function kr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function d3(t){return t[0]}function p3(t){return t[1]}const Kc=1e-6;class gn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Kc||Math.abs(this._y1-o)>Kc)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class uu{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class d0{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let v=0,p=0,g=r.length,_,b;v<g;v+=3,p+=2){const y=r[v]*2,w=r[v+1]*2,x=r[v+2]*2,A=e[y],$=e[y+1],N=e[w],k=e[w+1],P=e[x],L=e[x+1],T=N-A,M=k-$,S=P-A,C=L-$,O=(T*C-M*S)*2;if(Math.abs(O)<1e-9){if(o===void 0){o=a=0;for(const I of n)o+=e[I*2],a+=e[I*2+1];o/=n.length,a/=n.length}const B=1e9*Math.sign((o-A)*C-(a-$)*S);_=(A+P)/2-B*C,b=($+L)/2+B*S}else{const B=1/O,I=T*T+M*M,R=S*S+C*C;_=A+(C*I-M*R)*B,b=$+(T*R-S*I)*B}s[p]=_,s[p+1]=b}let l=n[n.length-1],u,c=l*4,h,f=e[2*l],d,m=e[2*l+1];i.fill(0);for(let v=0;v<n.length;++v)l=n[v],u=c,h=f,d=m,c=l*4,f=e[2*l],m=e[2*l+1],i[u+2]=i[c]=d-m,i[u+3]=i[c+1]=f-h}render(e){const n=e==null?e=new gn:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f<c)continue;const d=Math.floor(c/3)*2,m=Math.floor(f/3)*2,v=a[d],p=a[d+1],g=a[m],_=a[m+1];this._renderSegment(v,p,g,_,e)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const h=Math.floor(i[u]/3)*2,f=a[h],d=a[h+1],m=l*4,v=this._project(f,d,s[m+2],s[m+3]);v&&this._renderSegment(f,d,v[0],v[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new gn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new gn:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new uu;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+l-2)%l]&&n[(o+3)%a]===i[(s+l-1)%l]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const s=[];let l=a;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,o,a,s=n[r-2],l=n[r-1],u,c=this._regioncode(s,l),h,f=0;for(let d=0;d<r;d+=2)if(o=s,a=l,s=n[d],l=n[d+1],u=c,c=this._regioncode(s,l),u===0&&c===0)h=f,f=0,i?i.push(s,l):i=[s,l];else{let m,v,p,g,_;if(u===0){if((m=this._clipSegment(o,a,s,l,u,c))===null)continue;[v,p,g,_]=m}else{if((m=this._clipSegment(s,l,o,a,c,u))===null)continue;[g,_,v,p]=m,h=f,f=this._edgecode(v,p),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(v,p):i=[v,p]}h=f,f=this._edgecode(g,_),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(g,_):i=[g,_]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){const s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let l,u,c=o||a;c&8?(l=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),o?(e=l,n=u,o=this._regioncode(e,n)):(r=l,i=u,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let u=0,c=s.length,h,f=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)h=f,f=this._edgecode(s[u],s[u+1]),h&&f&&(u=this._edge(e,h,f,s,u),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,l=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,l=n+(o=a)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const g3=2*Math.PI,Un=Math.pow;function m3(t){return t[0]}function v3(t){return t[1]}function y3(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function b3(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class hl{static from(e,n=m3,r=v3,i){return new hl("length"in e?_3(e,n,r,i):Float64Array.from(w3(e,n,r,i)))}constructor(e){this._delaunator=new ko(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&y3(e)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,d=n.length/2;f<d;++f){const m=b3(n[2*f],n[2*f+1],h);n[2*f]=m[0],n[2*f+1]=m[1]}this._delaunator=new ko(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||a[c]===-1)&&(a[c]=l)}for(let l=0,u=i.length;l<u;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new d0(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const l=n[e];if(l===-1)return;let u=l,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=o[u],u===-1){const h=r[(i[e]+1)%r.length];h!==c&&(yield h);return}}while(u!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,h=Un(n-u[e*2],2)+Un(r-u[e*2+1],2);const f=i[e];let d=f;do{let m=l[d];const v=Un(n-u[m*2],2)+Un(r-u[m*2+1],2);if(v<h&&(h=v,c=m),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=s[d],d===-1){if(d=o[(a[e]+1)%o.length],d!==m&&Un(n-u[d*2],2)+Un(r-u[d*2+1],2)<h)return d;break}}while(d!==f);return c}render(e){const n=e==null?e=new gn:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const l=i[a];if(l<a)continue;const u=o[a]*2,c=o[l]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new gn:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],l=i[o+1];e.moveTo(s+n,l),e.arc(s,l,n,0,g3)}return r&&r.value()}renderHull(e){const n=e==null?e=new gn:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new uu;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new gn:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new uu;return this.renderTriangle(e,n),n.value()}}function _3(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*w3(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}var Qc={},vs={},ys=34,Pr=10,bs=13;function p0(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function x3(t,e){var n=p0(t);return function(r,i){return e(n(r),i,t)}}function tf(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function te(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function M3(t){return t<0?"-"+te(-t,6):t>9999?"+"+te(t,6):te(t,4)}function T3(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":M3(t.getUTCFullYear())+"-"+te(t.getUTCMonth()+1,2)+"-"+te(t.getUTCDate(),2)+(i?"T"+te(e,2)+":"+te(n,2)+":"+te(r,2)+"."+te(i,3)+"Z":r?"T"+te(e,2)+":"+te(n,2)+":"+te(r,2)+"Z":n||e?"T"+te(e,2)+":"+te(n,2)+"Z":"")}function Ta(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,f){var d,m,v=i(h,function(p,g){if(d)return d(p,g-1);m=p,d=f?x3(p,f):p0(p)});return v.columns=m||[],v}function i(h,f){var d=[],m=h.length,v=0,p=0,g,_=m<=0,b=!1;h.charCodeAt(m-1)===Pr&&--m,h.charCodeAt(m-1)===bs&&--m;function y(){if(_)return vs;if(b)return b=!1,Qc;var x,A=v,$;if(h.charCodeAt(A)===ys){for(;v++<m&&h.charCodeAt(v)!==ys||h.charCodeAt(++v)===ys;);return(x=v)>=m?_=!0:($=h.charCodeAt(v++))===Pr?b=!0:$===bs&&(b=!0,h.charCodeAt(v)===Pr&&++v),h.slice(A+1,x-1).replace(/""/g,'"')}for(;v<m;){if(($=h.charCodeAt(x=v++))===Pr)b=!0;else if($===bs)b=!0,h.charCodeAt(v)===Pr&&++v;else if($!==n)continue;return h.slice(A,x)}return _=!0,h.slice(A,m)}for(;(g=y())!==vs;){for(var w=[];g!==Qc&&g!==vs;)w.push(g),g=y();f&&(w=f(w,p++))==null||d.push(w)}return d}function o(h,f){return h.map(function(d){return f.map(function(m){return c(d[m])}).join(t)})}function a(h,f){return f==null&&(f=tf(h)),[f.map(c).join(t)].concat(o(h,f)).join(`
`)}function s(h,f){return f==null&&(f=tf(h)),o(h,f).join(`
`)}function l(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?T3(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}var En=Ta(","),g0=En.parse,S3=En.parseRows,A3=En.format,$3=En.formatBody,C3=En.formatRows,N3=En.formatRow,k3=En.formatValue,Rn=Ta("	"),m0=Rn.parse,P3=Rn.parseRows,E3=Rn.format,R3=Rn.formatBody,j3=Rn.formatRows,O3=Rn.formatRow,I3=Rn.formatValue;function L3(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))z3&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const z3=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function B3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function D3(t,e){return fetch(t,e).then(B3)}function F3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function V3(t,e){return fetch(t,e).then(F3)}function G3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Sa(t,e){return fetch(t,e).then(G3)}function v0(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Sa(e,n).then(function(i){return t(i,r)})}}function H3(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Ta(t);return Sa(e,n).then(function(o){return i.parse(o,r)})}var Y3=v0(g0),U3=v0(m0);function q3(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function W3(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function X3(t,e){return fetch(t,e).then(W3)}function dl(t){return(e,n)=>Sa(e,n).then(r=>new DOMParser().parseFromString(r,t))}const J3=dl("application/xml");var Z3=dl("text/html"),K3=dl("image/svg+xml");function Q3(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,l=0,u=0;for(o=0;o<a;++o)s=n[o],l+=s.x,u+=s.y;for(l=(l/a-t)*r,u=(u/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=l,s.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function t5(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return y0(this.cover(e,n),e,n,t)}function y0(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,l=t._y0,u=t._x1,c=t._y1,h,f,d,m,v,p,g,_;if(!o)return t._root=a,t;for(;o.length;)if((v=e>=(h=(s+u)/2))?s=h:u=h,(p=n>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[g=p<<1|v]))return i[g]=a,t;if(d=+t._x.call(null,o.data),m=+t._y.call(null,o.data),e===d&&n===m)return a.next=o,i?i[g]=a:t._root=a,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(v=e>=(h=(s+u)/2))?s=h:u=h,(p=n>=(f=(l+c)/2))?l=f:c=f;while((g=p<<1|v)===(_=(m>=f)<<1|d>=h));return i[_]=o,i[g]=a,t}function e5(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>h&&(h=o));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)y0(this,a[n],s[n],t[n]);return this}function n5(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,l,u;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=s,s=l,a*=2,u){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function r5(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function i5(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function qt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function o5(t,e,n){var r,i=this._x0,o=this._y0,a,s,l,u,c=this._x1,h=this._y1,f=[],d=this._root,m,v;for(d&&f.push(new qt(d,i,o,c,h)),n==null?n=1/0:(i=t-n,o=e-n,c=t+n,h=e+n,n*=n);m=f.pop();)if(!(!(d=m.node)||(a=m.x0)>c||(s=m.y0)>h||(l=m.x1)<i||(u=m.y1)<o))if(d.length){var p=(a+l)/2,g=(s+u)/2;f.push(new qt(d[3],p,g,l,u),new qt(d[2],a,g,p,u),new qt(d[1],p,s,l,g),new qt(d[0],a,s,p,g)),(v=(e>=g)<<1|t>=p)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-v],f[f.length-1-v]=m)}else{var _=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),y=_*_+b*b;if(y<n){var w=Math.sqrt(n=y);i=t-w,o=e-w,c=t+w,h=e+w,r=d.data}}return r}function a5(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._x1,u=this._y1,c,h,f,d,m,v,p,g;if(!n)return this;if(n.length)for(;;){if((m=c>=(f=(a+l)/2))?a=f:l=f,(v=h>=(d=(s+u)/2))?s=d:u=d,e=n,!(n=n[p=v<<1|m]))return this;if(!n.length)break;(e[p+1&3]||e[p+2&3]||e[p+3&3])&&(r=e,g=p)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[p]=o:delete e[p],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=o,this)}function s5(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function u5(){return this._root}function l5(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function c5(t){var e=[],n,r=this._root,i,o,a,s,l;for(r&&e.push(new qt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(o+s)/2,c=(a+l)/2;(i=r[3])&&e.push(new qt(i,u,c,s,l)),(i=r[2])&&e.push(new qt(i,o,c,u,l)),(i=r[1])&&e.push(new qt(i,u,a,s,c)),(i=r[0])&&e.push(new qt(i,o,a,u,c))}return this}function f5(t){var e=[],n=[],r;for(this._root&&e.push(new qt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(a+l)/2,h=(s+u)/2;(o=i[0])&&e.push(new qt(o,a,s,c,h)),(o=i[1])&&e.push(new qt(o,c,s,l,h)),(o=i[2])&&e.push(new qt(o,a,h,c,u)),(o=i[3])&&e.push(new qt(o,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function h5(t){return t[0]}function d5(t){return arguments.length?(this._x=t,this):this._x}function p5(t){return t[1]}function g5(t){return arguments.length?(this._y=t,this):this._y}function Aa(t,e,n){var r=new pl(e??h5,n??p5,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function pl(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ef(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Qt=Aa.prototype=pl.prototype;Qt.copy=function(){var t=new pl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=ef(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=ef(r));return t};Qt.add=t5;Qt.addAll=e5;Qt.cover=n5;Qt.data=r5;Qt.extent=i5;Qt.find=o5;Qt.remove=a5;Qt.removeAll=s5;Qt.root=u5;Qt.size=l5;Qt.visit=c5;Qt.visitAfter=f5;Qt.x=d5;Qt.y=g5;function Ct(t){return function(){return t}}function Je(t){return(t()-.5)*1e-6}function m5(t){return t.x+t.vx}function v5(t){return t.y+t.vy}function y5(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Ct(t==null?1:+t));function a(){for(var u,c=e.length,h,f,d,m,v,p,g=0;g<o;++g)for(h=Aa(e,m5,v5).visitAfter(s),u=0;u<c;++u)f=e[u],v=n[f.index],p=v*v,d=f.x+f.vx,m=f.y+f.vy,h.visit(_);function _(b,y,w,x,A){var $=b.data,N=b.r,k=v+N;if($){if($.index>f.index){var P=d-$.x-$.vx,L=m-$.y-$.vy,T=P*P+L*L;T<k*k&&(P===0&&(P=Je(r),T+=P*P),L===0&&(L=Je(r),T+=L*L),T=(k-(T=Math.sqrt(T)))/T*i,f.vx+=(P*=T)*(k=(N*=N)/(p+N)),f.vy+=(L*=T)*k,$.vx-=P*(k=1-k),$.vy-=L*k)}return}return y>d+k||x<d-k||w>m+k||A<m-k}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u,c){e=u,r=c,l()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),l(),a):t},a}function b5(t){return t.index}function nf(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function _5(t){var e=b5,n=h,r,i=Ct(30),o,a,s,l,u,c=1;t==null&&(t=[]);function h(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function f(p){for(var g=0,_=t.length;g<c;++g)for(var b=0,y,w,x,A,$,N,k;b<_;++b)y=t[b],w=y.source,x=y.target,A=x.x+x.vx-w.x-w.vx||Je(u),$=x.y+x.vy-w.y-w.vy||Je(u),N=Math.sqrt(A*A+$*$),N=(N-o[b])/N*p*r[b],A*=N,$*=N,x.vx-=A*(k=l[b]),x.vy-=$*k,w.vx+=A*(k=1-k),w.vy+=$*k}function d(){if(a){var p,g=a.length,_=t.length,b=new Map(a.map((w,x)=>[e(w,x,a),w])),y;for(p=0,s=new Array(g);p<_;++p)y=t[p],y.index=p,typeof y.source!="object"&&(y.source=nf(b,y.source)),typeof y.target!="object"&&(y.target=nf(b,y.target)),s[y.source.index]=(s[y.source.index]||0)+1,s[y.target.index]=(s[y.target.index]||0)+1;for(p=0,l=new Array(_);p<_;++p)y=t[p],l[p]=s[y.source.index]/(s[y.source.index]+s[y.target.index]);r=new Array(_),m(),o=new Array(_),v()}}function m(){if(a)for(var p=0,g=t.length;p<g;++p)r[p]=+n(t[p],p,t)}function v(){if(a)for(var p=0,g=t.length;p<g;++p)o[p]=+i(t[p],p,t)}return f.initialize=function(p,g){a=p,u=g,d()},f.links=function(p){return arguments.length?(t=p,d(),f):t},f.id=function(p){return arguments.length?(e=p,f):e},f.iterations=function(p){return arguments.length?(c=+p,f):c},f.strength=function(p){return arguments.length?(n=typeof p=="function"?p:Ct(+p),m(),f):n},f.distance=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(+p),v(),f):i},f}const w5=1664525,x5=1013904223,rf=4294967296;function M5(){let t=1;return()=>(t=(w5*t+x5)%rf)/rf}function T5(t){return t.x}function S5(t){return t.y}var A5=10,$5=Math.PI*(3-Math.sqrt(5));function C5(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=xa(h),u=kn("tick","end"),c=M5();t==null&&(t=[]);function h(){f(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function f(v){var p,g=t.length,_;v===void 0&&(v=1);for(var b=0;b<v;++b)for(n+=(o-n)*i,s.forEach(function(y){y(n)}),p=0;p<g;++p)_=t[p],_.fx==null?_.x+=_.vx*=a:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=a:(_.y=_.fy,_.vy=0);return e}function d(){for(var v=0,p=t.length,g;v<p;++v){if(g=t[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var _=A5*Math.sqrt(.5+v),b=v*$5;g.x=_*Math.cos(b),g.y=_*Math.sin(b)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function m(v){return v.initialize&&v.initialize(t,c),v}return d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(t=v,d(),s.forEach(m),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(o=+v,e):o},velocityDecay:function(v){return arguments.length?(a=1-v,e):1-a},randomSource:function(v){return arguments.length?(c=v,s.forEach(m),e):c},force:function(v,p){return arguments.length>1?(p==null?s.delete(v):s.set(v,m(p)),e):s.get(v)},find:function(v,p,g){var _=0,b=t.length,y,w,x,A,$;for(g==null?g=1/0:g*=g,_=0;_<b;++_)A=t[_],y=v-A.x,w=p-A.y,x=y*y+w*w,x<g&&($=A,g=x);return $},on:function(v,p){return arguments.length>1?(u.on(v,p),e):u.on(v)}}}function N5(){var t,e,n,r,i=Ct(-30),o,a=1,s=1/0,l=.81;function u(d){var m,v=t.length,p=Aa(t,T5,S5).visitAfter(h);for(r=d,m=0;m<v;++m)e=t[m],p.visit(f)}function c(){if(t){var d,m=t.length,v;for(o=new Array(m),d=0;d<m;++d)v=t[d],o[v.index]=+i(v,d,t)}}function h(d){var m=0,v,p,g=0,_,b,y;if(d.length){for(_=b=y=0;y<4;++y)(v=d[y])&&(p=Math.abs(v.value))&&(m+=v.value,g+=p,_+=p*v.x,b+=p*v.y);d.x=_/g,d.y=b/g}else{v=d,v.x=v.data.x,v.y=v.data.y;do m+=o[v.data.index];while(v=v.next)}d.value=m}function f(d,m,v,p){if(!d.value)return!0;var g=d.x-e.x,_=d.y-e.y,b=p-m,y=g*g+_*_;if(b*b/l<y)return y<s&&(g===0&&(g=Je(n),y+=g*g),_===0&&(_=Je(n),y+=_*_),y<a&&(y=Math.sqrt(a*y)),e.vx+=g*d.value*r/y,e.vy+=_*d.value*r/y),!0;if(d.length||y>=s)return;(d.data!==e||d.next)&&(g===0&&(g=Je(n),y+=g*g),_===0&&(_=Je(n),y+=_*_),y<a&&(y=Math.sqrt(a*y)));do d.data!==e&&(b=o[d.data.index]*r/y,e.vx+=g*b,e.vy+=_*b);while(d=d.next)}return u.initialize=function(d,m){t=d,n=m,c()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Ct(+d),c(),u):i},u.distanceMin=function(d){return arguments.length?(a=d*d,u):Math.sqrt(a)},u.distanceMax=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.theta=function(d){return arguments.length?(l=d*d,u):Math.sqrt(l)},u}function k5(t,e,n){var r,i=Ct(.1),o,a;typeof t!="function"&&(t=Ct(+t)),e==null&&(e=0),n==null&&(n=0);function s(u){for(var c=0,h=r.length;c<h;++c){var f=r[c],d=f.x-e||1e-6,m=f.y-n||1e-6,v=Math.sqrt(d*d+m*m),p=(a[c]-v)*o[c]*u/v;f.vx+=d*p,f.vy+=m*p}}function l(){if(r){var u,c=r.length;for(o=new Array(c),a=new Array(c),u=0;u<c;++u)a[u]=+t(r[u],u,r),o[u]=isNaN(a[u])?0:+i(r[u],u,r)}}return s.initialize=function(u){r=u,l()},s.strength=function(u){return arguments.length?(i=typeof u=="function"?u:Ct(+u),l(),s):i},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),l(),s):t},s.x=function(u){return arguments.length?(e=+u,s):e},s.y=function(u){return arguments.length?(n=+u,s):n},s}function P5(t){var e=Ct(.1),n,r,i;typeof t!="function"&&(t=Ct(t==null?0:+t));function o(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*s}function a(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a(),o):e},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),a(),o):t},o}function E5(t){var e=Ct(.1),n,r,i;typeof t!="function"&&(t=Ct(t==null?0:+t));function o(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*s}function a(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a(),o):e},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),a(),o):t},o}function R5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Po(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fr(t){return t=Po(Math.abs(t)),t?t[1]:NaN}function j5(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function O5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var I5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(t){if(!(e=I5.exec(t)))throw new Error("invalid format: "+t);var e;return new $a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hr.prototype=$a.prototype;function $a(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L5(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var b0;function z5(t,e){var n=Po(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(b0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Po(t,Math.max(0,e+o-1))[0]}function of(t,e){var n=Po(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const af={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:R5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>of(t*100,e),r:of,s:z5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sf(t){return t}var uf=Array.prototype.map,lf=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _0(t){var e=t.grouping===void 0||t.thousands===void 0?sf:j5(uf.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?sf:O5(uf.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=hr(h);var f=h.fill,d=h.align,m=h.sign,v=h.symbol,p=h.zero,g=h.width,_=h.comma,b=h.precision,y=h.trim,w=h.type;w==="n"?(_=!0,w="g"):af[w]||(b===void 0&&(b=12),y=!0,w="g"),(p||f==="0"&&d==="=")&&(p=!0,f="0",d="=");var x=v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=v==="$"?r:/[%p]/.test(w)?a:"",$=af[w],N=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(P){var L=x,T=A,M,S,C;if(w==="c")T=$(P)+T,P="";else{P=+P;var O=P<0||1/P<0;if(P=isNaN(P)?l:$(Math.abs(P),b),y&&(P=L5(P)),O&&+P==0&&m!=="+"&&(O=!1),L=(O?m==="("?m:s:m==="-"||m==="("?"":m)+L,T=(w==="s"?lf[8+b0/3]:"")+T+(O&&m==="("?")":""),N){for(M=-1,S=P.length;++M<S;)if(C=P.charCodeAt(M),48>C||C>57){T=(C===46?i+P.slice(M+1):P.slice(M))+T,P=P.slice(0,M);break}}}_&&!p&&(P=e(P,1/0));var B=L.length+P.length+T.length,I=B<g?new Array(g-B+1).join(f):"";switch(_&&p&&(P=e(I+P,I.length?g-T.length:1/0),I=""),d){case"<":P=L+P+T+I;break;case"=":P=L+I+P+T;break;case"^":P=I.slice(0,B=I.length>>1)+L+P+T+I.slice(B);break;default:P=I+L+P+T;break}return o(P)}return k.toString=function(){return h+""},k}function c(h,f){var d=u((h=hr(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(fr(f)/3)))*3,v=Math.pow(10,-m),p=lf[8+m/3];return function(g){return d(v*g)+p}}return{format:u,formatPrefix:c}}var Gi,Ca,gl;w0({thousands:",",grouping:[3],currency:["$",""]});function w0(t){return Gi=_0(t),Ca=Gi.format,gl=Gi.formatPrefix,Gi}function x0(t){return Math.max(0,-fr(Math.abs(t)))}function M0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fr(e)/3)))*3-fr(Math.abs(t)))}function T0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fr(e)-fr(t))+1}var et=1e-6,hi=1e-12,ct=Math.PI,Mt=ct/2,Eo=ct/4,Jt=ct*2,mt=180/ct,nt=ct/180,ft=Math.abs,Tr=Math.atan,Zt=Math.atan2,Q=Math.cos,Hi=Math.ceil,S0=Math.exp,lu=Math.hypot,Ro=Math.log,_s=Math.pow,Z=Math.sin,fe=Math.sign||function(t){return t>0?1:t<0?-1:0},Rt=Math.sqrt,ml=Math.tan;function A0(t){return t>1?0:t<-1?ct:Math.acos(t)}function Kt(t){return t>1?Mt:t<-1?-Mt:Math.asin(t)}function cf(t){return(t=Z(t/2))*t}function _t(){}function jo(t,e){t&&hf.hasOwnProperty(t.type)&&hf[t.type](t,e)}var ff={Feature:function(t,e){jo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)jo(n[r].geometry,e)}},hf={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){cu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)cu(n[r],e,0)},Polygon:function(t,e){df(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)df(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)jo(n[r],e)}};function cu(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function df(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)cu(t[n],e,1);e.polygonEnd()}function ge(t,e){t&&ff.hasOwnProperty(t.type)?ff[t.type](t,e):jo(t,e)}var Oo=new Nt,Io=new Nt,$0,C0,fu,hu,du,Ae={point:_t,lineStart:_t,lineEnd:_t,polygonStart:function(){Oo=new Nt,Ae.lineStart=B5,Ae.lineEnd=D5},polygonEnd:function(){var t=+Oo;Io.add(t<0?Jt+t:t),this.lineStart=this.lineEnd=this.point=_t},sphere:function(){Io.add(Jt)}};function B5(){Ae.point=F5}function D5(){N0($0,C0)}function F5(t,e){Ae.point=N0,$0=t,C0=e,t*=nt,e*=nt,fu=t,hu=Q(e=e/2+Eo),du=Z(e)}function N0(t,e){t*=nt,e*=nt,e=e/2+Eo;var n=t-fu,r=n>=0?1:-1,i=r*n,o=Q(e),a=Z(e),s=du*a,l=hu*o+s*Q(i),u=s*r*Z(i);Oo.add(Zt(u,l)),fu=t,hu=o,du=a}function V5(t){return Io=new Nt,ge(t,Ae),Io*2}function Lo(t){return[Zt(t[1],t[0]),Kt(t[2])]}function Sn(t){var e=t[0],n=t[1],r=Q(n);return[r*Q(e),r*Z(e),Z(n)]}function Yi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ws(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ui(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function zo(t){var e=Rt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var bt,re,xt,ae,hn,k0,P0,nr,Xr,We,He,Le={point:pu,lineStart:pf,lineEnd:gf,polygonStart:function(){Le.point=R0,Le.lineStart=G5,Le.lineEnd=H5,Xr=new Nt,Ae.polygonStart()},polygonEnd:function(){Ae.polygonEnd(),Le.point=pu,Le.lineStart=pf,Le.lineEnd=gf,Oo<0?(bt=-(xt=180),re=-(ae=90)):Xr>et?ae=90:Xr<-et&&(re=-90),He[0]=bt,He[1]=xt},sphere:function(){bt=-(xt=180),re=-(ae=90)}};function pu(t,e){We.push(He=[bt=t,xt=t]),e<re&&(re=e),e>ae&&(ae=e)}function E0(t,e){var n=Sn([t*nt,e*nt]);if(nr){var r=dr(nr,n),i=[r[1],-r[0],0],o=dr(i,r);zo(o),o=Lo(o);var a=t-hn,s=a>0?1:-1,l=o[0]*mt*s,u,c=ft(a)>180;c^(s*hn<l&&l<s*t)?(u=o[1]*mt,u>ae&&(ae=u)):(l=(l+360)%360-180,c^(s*hn<l&&l<s*t)?(u=-o[1]*mt,u<re&&(re=u)):(e<re&&(re=e),e>ae&&(ae=e))),c?t<hn?ie(bt,t)>ie(bt,xt)&&(xt=t):ie(t,xt)>ie(bt,xt)&&(bt=t):xt>=bt?(t<bt&&(bt=t),t>xt&&(xt=t)):t>hn?ie(bt,t)>ie(bt,xt)&&(xt=t):ie(t,xt)>ie(bt,xt)&&(bt=t)}else We.push(He=[bt=t,xt=t]);e<re&&(re=e),e>ae&&(ae=e),nr=n,hn=t}function pf(){Le.point=E0}function gf(){He[0]=bt,He[1]=xt,Le.point=pu,nr=null}function R0(t,e){if(nr){var n=t-hn;Xr.add(ft(n)>180?n+(n>0?360:-360):n)}else k0=t,P0=e;Ae.point(t,e),E0(t,e)}function G5(){Ae.lineStart()}function H5(){R0(k0,P0),Ae.lineEnd(),ft(Xr)>et&&(bt=-(xt=180)),He[0]=bt,He[1]=xt,nr=null}function ie(t,e){return(e-=t)<0?e+360:e}function Y5(t,e){return t[0]-e[0]}function mf(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function U5(t){var e,n,r,i,o,a,s;if(ae=xt=-(bt=re=1/0),We=[],ge(t,Le),n=We.length){for(We.sort(Y5),e=1,r=We[0],o=[r];e<n;++e)i=We[e],mf(r,i[0])||mf(r,i[1])?(ie(r[0],i[1])>ie(r[0],r[1])&&(r[1]=i[1]),ie(i[0],r[1])>ie(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=ie(r[1],i[0]))>a&&(a=s,bt=i[0],xt=r[1])}return We=He=null,bt===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[bt,re],[xt,ae]]}var Br,Bo,Do,Fo,Vo,Go,Ho,Yo,gu,mu,vu,j0,O0,Ht,Yt,Ut,me={sphere:_t,point:vl,lineStart:vf,lineEnd:yf,polygonStart:function(){me.lineStart=X5,me.lineEnd=J5},polygonEnd:function(){me.lineStart=vf,me.lineEnd=yf}};function vl(t,e){t*=nt,e*=nt;var n=Q(e);Ai(n*Q(t),n*Z(t),Z(e))}function Ai(t,e,n){++Br,Do+=(t-Do)/Br,Fo+=(e-Fo)/Br,Vo+=(n-Vo)/Br}function vf(){me.point=q5}function q5(t,e){t*=nt,e*=nt;var n=Q(e);Ht=n*Q(t),Yt=n*Z(t),Ut=Z(e),me.point=W5,Ai(Ht,Yt,Ut)}function W5(t,e){t*=nt,e*=nt;var n=Q(e),r=n*Q(t),i=n*Z(t),o=Z(e),a=Zt(Rt((a=Yt*o-Ut*i)*a+(a=Ut*r-Ht*o)*a+(a=Ht*i-Yt*r)*a),Ht*r+Yt*i+Ut*o);Bo+=a,Go+=a*(Ht+(Ht=r)),Ho+=a*(Yt+(Yt=i)),Yo+=a*(Ut+(Ut=o)),Ai(Ht,Yt,Ut)}function yf(){me.point=vl}function X5(){me.point=Z5}function J5(){I0(j0,O0),me.point=vl}function Z5(t,e){j0=t,O0=e,t*=nt,e*=nt,me.point=I0;var n=Q(e);Ht=n*Q(t),Yt=n*Z(t),Ut=Z(e),Ai(Ht,Yt,Ut)}function I0(t,e){t*=nt,e*=nt;var n=Q(e),r=n*Q(t),i=n*Z(t),o=Z(e),a=Yt*o-Ut*i,s=Ut*r-Ht*o,l=Ht*i-Yt*r,u=lu(a,s,l),c=Kt(u),h=u&&-c/u;gu.add(h*a),mu.add(h*s),vu.add(h*l),Bo+=c,Go+=c*(Ht+(Ht=r)),Ho+=c*(Yt+(Yt=i)),Yo+=c*(Ut+(Ut=o)),Ai(Ht,Yt,Ut)}function K5(t){Br=Bo=Do=Fo=Vo=Go=Ho=Yo=0,gu=new Nt,mu=new Nt,vu=new Nt,ge(t,me);var e=+gu,n=+mu,r=+vu,i=lu(e,n,r);return i<hi&&(e=Go,n=Ho,r=Yo,Bo<et&&(e=Do,n=Fo,r=Vo),i=lu(e,n,r),i<hi)?[NaN,NaN]:[Zt(n,e)*mt,Kt(r/i)*mt]}function qn(t){return function(){return t}}function yu(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function bu(t,e){return ft(t)>ct&&(t-=Math.round(t/Jt)*Jt),[t,e]}bu.invert=bu;function yl(t,e,n){return(t%=Jt)?e||n?yu(_f(t),wf(e,n)):_f(t):e||n?wf(e,n):bu}function bf(t){return function(e,n){return e+=t,ft(e)>ct&&(e-=Math.round(e/Jt)*Jt),[e,n]}}function _f(t){var e=bf(t);return e.invert=bf(-t),e}function wf(t,e){var n=Q(t),r=Z(t),i=Q(e),o=Z(e);function a(s,l){var u=Q(l),c=Q(s)*u,h=Z(s)*u,f=Z(l),d=f*n+c*r;return[Zt(h*i-d*o,c*n-f*r),Kt(d*i+h*o)]}return a.invert=function(s,l){var u=Q(l),c=Q(s)*u,h=Z(s)*u,f=Z(l),d=f*i-h*o;return[Zt(h*i+f*o,c*n+d*r),Kt(d*n-c*r)]},a}function L0(t){t=yl(t[0]*nt,t[1]*nt,t.length>2?t[2]*nt:0);function e(n){return n=t(n[0]*nt,n[1]*nt),n[0]*=mt,n[1]*=mt,n}return e.invert=function(n){return n=t.invert(n[0]*nt,n[1]*nt),n[0]*=mt,n[1]*=mt,n},e}function z0(t,e,n,r,i,o){if(n){var a=Q(e),s=Z(e),l=r*n;i==null?(i=e+r*Jt,o=e-l/2):(i=xf(a,i),o=xf(a,o),(r>0?i<o:i>o)&&(i+=r*Jt));for(var u,c=i;r>0?c>o:c<o;c-=l)u=Lo([a,-s*Q(c),-s*Z(c)]),t.point(u[0],u[1])}}function xf(t,e){e=Sn(e),e[0]-=t,zo(e);var n=A0(-e[1]);return((-e[2]<0?-n:n)+Jt-et)%Jt}function Q5(){var t=qn([0,0]),e=qn(90),n=qn(2),r,i,o={point:a};function a(l,u){r.push(l=i(l,u)),l[0]*=mt,l[1]*=mt}function s(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*nt,c=n.apply(this,arguments)*nt;return r=[],i=yl(-l[0]*nt,-l[1]*nt,0).invert,z0(o,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(t=typeof l=="function"?l:qn([+l[0],+l[1]]),s):t},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),s):e},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:qn(+l),s):n},s}function B0(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:_t,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function fo(t,e){return ft(t[0]-e[0])<et&&ft(t[1]-e[1])<et}function qi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function D0(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(m){if(!((v=m.length-1)<=0)){var v,p=m[0],g=m[v],_;if(fo(p,g)){if(!p[2]&&!g[2]){for(i.lineStart(),s=0;s<v;++s)i.point((p=m[s])[0],p[1]);i.lineEnd();return}g[0]+=2*et}o.push(_=new qi(p,m,null,!0)),a.push(_.o=new qi(p,null,_,!1)),o.push(_=new qi(g,m,null,!1)),a.push(_.o=new qi(g,null,_,!0))}}),!!o.length){for(a.sort(e),Mf(o),Mf(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var u=o[0],c,h;;){for(var f=u,d=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function Mf(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function xs(t){return ft(t[0])<=ct?t[0]:fe(t[0])*((ft(t[0])+ct)%Jt-ct)}function F0(t,e){var n=xs(e),r=e[1],i=Z(r),o=[Z(n),-Q(n),0],a=0,s=0,l=new Nt;i===1?r=Mt+et:i===-1&&(r=-Mt-et);for(var u=0,c=t.length;u<c;++u)if(f=(h=t[u]).length)for(var h,f,d=h[f-1],m=xs(d),v=d[1]/2+Eo,p=Z(v),g=Q(v),_=0;_<f;++_,m=y,p=x,g=A,d=b){var b=h[_],y=xs(b),w=b[1]/2+Eo,x=Z(w),A=Q(w),$=y-m,N=$>=0?1:-1,k=N*$,P=k>ct,L=p*x;if(l.add(Zt(L*N*Z(k),g*A+L*Q(k))),a+=P?$+N*Jt:$,P^m>=n^y>=n){var T=dr(Sn(d),Sn(b));zo(T);var M=dr(o,T);zo(M);var S=(P^$>=0?-1:1)*Kt(M[2]);(r>S||r===S&&(T[0]||T[1]))&&(s+=P^$>=0?1:-1)}}return(a<-et||a<et&&l<-hi)^s&1}function V0(t,e,n,r){return function(i){var o=e(i),a=B0(),s=e(a),l=!1,u,c,h,f={point:d,lineStart:v,lineEnd:p,polygonStart:function(){f.point=g,f.lineStart=_,f.lineEnd=b,c=[],u=[]},polygonEnd:function(){f.point=d,f.lineStart=v,f.lineEnd=p,c=Uu(c);var y=F0(u,r);c.length?(l||(i.polygonStart(),l=!0),D0(c,ex,y,n,i)):y&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,w){t(y,w)&&i.point(y,w)}function m(y,w){o.point(y,w)}function v(){f.point=m,o.lineStart()}function p(){f.point=d,o.lineEnd()}function g(y,w){h.push([y,w]),s.point(y,w)}function _(){s.lineStart(),h=[]}function b(){g(h[0][0],h[0][1]),s.lineEnd();var y=s.clean(),w=a.result(),x,A=w.length,$,N,k;if(h.pop(),u.push(h),h=null,!!A){if(y&1){if(N=w[0],($=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),x=0;x<$;++x)i.point((k=N[x])[0],k[1]);i.lineEnd()}return}A>1&&y&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(tx))}}return f}}function tx(t){return t.length>1}function ex(t,e){return((t=t.x)[0]<0?t[1]-Mt-et:Mt-t[1])-((e=e.x)[0]<0?e[1]-Mt-et:Mt-e[1])}const _u=V0(function(){return!0},nx,ix,[-ct,-Mt]);function nx(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?ct:-ct,l=ft(o-e);ft(l-ct)<et?(t.point(e,n=(n+a)/2>0?Mt:-Mt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&l>=ct&&(ft(e-r)<et&&(e-=r*et),ft(o-s)<et&&(o-=s*et),n=rx(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function rx(t,e,n,r){var i,o,a=Z(t-n);return ft(a)>et?Tr((Z(e)*(o=Q(r))*Z(n)-Z(r)*(i=Q(e))*Z(t))/(i*o*a)):(e+r)/2}function ix(t,e,n,r){var i;if(t==null)i=n*Mt,r.point(-ct,i),r.point(0,i),r.point(ct,i),r.point(ct,0),r.point(ct,-i),r.point(0,-i),r.point(-ct,-i),r.point(-ct,0),r.point(-ct,i);else if(ft(t[0]-e[0])>et){var o=t[0]<e[0]?ct:-ct;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function G0(t){var e=Q(t),n=2*nt,r=e>0,i=ft(e)>et;function o(c,h,f,d){z0(d,t,n,f,c,h)}function a(c,h){return Q(c)*Q(h)>e}function s(c){var h,f,d,m,v;return{lineStart:function(){m=d=!1,v=1},point:function(p,g){var _=[p,g],b,y=a(p,g),w=r?y?0:u(p,g):y?u(p+(p<0?ct:-ct),g):0;if(!h&&(m=d=y)&&c.lineStart(),y!==d&&(b=l(h,_),(!b||fo(h,b)||fo(_,b))&&(_[2]=1)),y!==d)v=0,y?(c.lineStart(),b=l(_,h),c.point(b[0],b[1])):(b=l(h,_),c.point(b[0],b[1],2),c.lineEnd()),h=b;else if(i&&h&&r^y){var x;!(w&f)&&(x=l(_,h,!0))&&(v=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}y&&(!h||!fo(h,_))&&c.point(_[0],_[1]),h=_,d=y,f=w},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return v|(m&&d)<<1}}}function l(c,h,f){var d=Sn(c),m=Sn(h),v=[1,0,0],p=dr(d,m),g=Yi(p,p),_=p[0],b=g-_*_;if(!b)return!f&&c;var y=e*g/b,w=-e*_/b,x=dr(v,p),A=Ui(v,y),$=Ui(p,w);ws(A,$);var N=x,k=Yi(A,N),P=Yi(N,N),L=k*k-P*(Yi(A,A)-1);if(!(L<0)){var T=Rt(L),M=Ui(N,(-k-T)/P);if(ws(M,A),M=Lo(M),!f)return M;var S=c[0],C=h[0],O=c[1],B=h[1],I;C<S&&(I=S,S=C,C=I);var R=C-S,j=ft(R-ct)<et,z=j||R<et;if(!j&&B<O&&(I=O,O=B,B=I),z?j?O+B>0^M[1]<(ft(M[0]-S)<et?O:B):O<=M[1]&&M[1]<=B:R>ct^(S<=M[0]&&M[0]<=C)){var F=Ui(N,(-k+T)/P);return ws(F,A),[M,Lo(F)]}}}function u(c,h){var f=r?t:ct-t,d=0;return c<-f?d|=1:c>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return V0(a,s,o,r?[0,-t]:[-ct,t-ct])}function ox(t,e,n,r,i,o){var a=t[0],s=t[1],l=e[0],u=e[1],c=0,h=1,f=l-a,d=u-s,m;if(m=n-a,!(!f&&m>0)){if(m/=f,f<0){if(m<c)return;m<h&&(h=m)}else if(f>0){if(m>h)return;m>c&&(c=m)}if(m=i-a,!(!f&&m<0)){if(m/=f,f<0){if(m>h)return;m>c&&(c=m)}else if(f>0){if(m<c)return;m<h&&(h=m)}if(m=r-s,!(!d&&m>0)){if(m/=d,d<0){if(m<c)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>c&&(c=m)}if(m=o-s,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>c&&(c=m)}else if(d>0){if(m<c)return;m<h&&(h=m)}return c>0&&(t[0]=a+c*f,t[1]=s+c*d),h<1&&(e[0]=a+h*f,e[1]=s+h*d),!0}}}}}var Dr=1e9,Wi=-Dr;function Na(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,h,f){var d=0,m=0;if(u==null||(d=a(u,h))!==(m=a(c,h))||l(u,c)<0^h>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==m);else f.point(c[0],c[1])}function a(u,c){return ft(u[0]-t)<et?c>0?0:3:ft(u[0]-n)<et?c>0?2:1:ft(u[1]-e)<et?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var h=a(u,1),f=a(c,1);return h!==f?h-f:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=B0(),f,d,m,v,p,g,_,b,y,w,x,A={point:$,lineStart:L,lineEnd:T,polygonStart:k,polygonEnd:P};function $(S,C){i(S,C)&&c.point(S,C)}function N(){for(var S=0,C=0,O=d.length;C<O;++C)for(var B=d[C],I=1,R=B.length,j=B[0],z,F,G=j[0],H=j[1];I<R;++I)z=G,F=H,j=B[I],G=j[0],H=j[1],F<=r?H>r&&(G-z)*(r-F)>(H-F)*(t-z)&&++S:H<=r&&(G-z)*(r-F)<(H-F)*(t-z)&&--S;return S}function k(){c=h,f=[],d=[],x=!0}function P(){var S=N(),C=x&&S,O=(f=Uu(f)).length;(C||O)&&(u.polygonStart(),C&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),O&&D0(f,s,S,o,u),u.polygonEnd()),c=u,f=d=m=null}function L(){A.point=M,d&&d.push(m=[]),w=!0,y=!1,_=b=NaN}function T(){f&&(M(v,p),g&&y&&h.rejoin(),f.push(h.result())),A.point=$,y&&c.lineEnd()}function M(S,C){var O=i(S,C);if(d&&m.push([S,C]),w)v=S,p=C,g=O,w=!1,O&&(c.lineStart(),c.point(S,C));else if(O&&y)c.point(S,C);else{var B=[_=Math.max(Wi,Math.min(Dr,_)),b=Math.max(Wi,Math.min(Dr,b))],I=[S=Math.max(Wi,Math.min(Dr,S)),C=Math.max(Wi,Math.min(Dr,C))];ox(B,I,t,e,n,r)?(y||(c.lineStart(),c.point(B[0],B[1])),c.point(I[0],I[1]),O||c.lineEnd(),x=!1):O&&(c.lineStart(),c.point(S,C),x=!1)}_=S,b=C,y=O}return A}}function ax(){var t=0,e=0,n=960,r=500,i,o,a;return a={stream:function(s){return i&&o===s?i:i=Na(t,e,n,r)(o=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=o=null,a):[[t,e],[n,r]]}}}var wu,xu,ho,po,pr={sphere:_t,point:_t,lineStart:sx,lineEnd:_t,polygonStart:_t,polygonEnd:_t};function sx(){pr.point=lx,pr.lineEnd=ux}function ux(){pr.point=pr.lineEnd=_t}function lx(t,e){t*=nt,e*=nt,xu=t,ho=Z(e),po=Q(e),pr.point=cx}function cx(t,e){t*=nt,e*=nt;var n=Z(e),r=Q(e),i=ft(t-xu),o=Q(i),a=Z(i),s=r*a,l=po*n-ho*r*o,u=ho*n+po*r*o;wu.add(Zt(Rt(s*s+l*l),u)),xu=t,ho=n,po=r}function H0(t){return wu=new Nt,ge(t,pr),+wu}var Mu=[null,null],fx={type:"LineString",coordinates:Mu};function Uo(t,e){return Mu[0]=t,Mu[1]=e,H0(fx)}var Tf={Feature:function(t,e){return qo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(qo(n[r].geometry,e))return!0;return!1}},Sf={Sphere:function(){return!0},Point:function(t,e){return Af(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Af(n[r],e))return!0;return!1},LineString:function(t,e){return $f(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($f(n[r],e))return!0;return!1},Polygon:function(t,e){return Cf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Cf(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(qo(n[r],e))return!0;return!1}};function qo(t,e){return t&&Sf.hasOwnProperty(t.type)?Sf[t.type](t,e):!1}function Af(t,e){return Uo(t,e)===0}function $f(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=Uo(t[o],e),r===0||o>0&&(i=Uo(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<hi*i))return!0;n=r}return!1}function Cf(t,e){return!!F0(t.map(hx),Y0(e))}function hx(t){return t=t.map(Y0),t.pop(),t}function Y0(t){return[t[0]*nt,t[1]*nt]}function dx(t,e){return(t&&Tf.hasOwnProperty(t.type)?Tf[t.type]:qo)(t,e)}function Nf(t,e,n){var r=Xe(t,e-et,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function kf(t,e,n){var r=Xe(t,e-et,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function U0(){var t,e,n,r,i,o,a,s,l=10,u=l,c=90,h=360,f,d,m,v,p=2.5;function g(){return{type:"MultiLineString",coordinates:_()}}function _(){return Xe(Hi(r/c)*c,n,c).map(m).concat(Xe(Hi(s/h)*h,a,h).map(v)).concat(Xe(Hi(e/l)*l,t,l).filter(function(b){return ft(b%c)>et}).map(f)).concat(Xe(Hi(o/u)*u,i,u).filter(function(b){return ft(b%h)>et}).map(d))}return g.lines=function(){return _().map(function(b){return{type:"LineString",coordinates:b}})},g.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(v(a).slice(1),m(n).reverse().slice(1),v(s).reverse().slice(1))]}},g.extent=function(b){return arguments.length?g.extentMajor(b).extentMinor(b):g.extentMinor()},g.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],a=+b[1][1],r>n&&(b=r,r=n,n=b),s>a&&(b=s,s=a,a=b),g.precision(p)):[[r,s],[n,a]]},g.extentMinor=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],o=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),o>i&&(b=o,o=i,i=b),g.precision(p)):[[e,o],[t,i]]},g.step=function(b){return arguments.length?g.stepMajor(b).stepMinor(b):g.stepMinor()},g.stepMajor=function(b){return arguments.length?(c=+b[0],h=+b[1],g):[c,h]},g.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],g):[l,u]},g.precision=function(b){return arguments.length?(p=+b,f=Nf(o,i,90),d=kf(e,t,p),m=Nf(s,a,90),v=kf(r,n,p),g):p},g.extentMajor([[-180,-90+et],[180,90-et]]).extentMinor([[-180,-80-et],[180,80+et]])}function px(){return U0()()}function gx(t,e){var n=t[0]*nt,r=t[1]*nt,i=e[0]*nt,o=e[1]*nt,a=Q(r),s=Z(r),l=Q(o),u=Z(o),c=a*Q(n),h=a*Z(n),f=l*Q(i),d=l*Z(i),m=2*Kt(Rt(cf(o-r)+a*l*cf(i-n))),v=Z(m),p=m?function(g){var _=Z(g*=m)/v,b=Z(m-g)/v,y=b*c+_*f,w=b*h+_*d,x=b*s+_*u;return[Zt(w,y)*mt,Zt(x,Rt(y*y+w*w))*mt]}:function(){return[n*mt,r*mt]};return p.distance=m,p}const di=t=>t;var Ms=new Nt,Tu=new Nt,q0,W0,Su,Au,ze={point:_t,lineStart:_t,lineEnd:_t,polygonStart:function(){ze.lineStart=mx,ze.lineEnd=yx},polygonEnd:function(){ze.lineStart=ze.lineEnd=ze.point=_t,Ms.add(ft(Tu)),Tu=new Nt},result:function(){var t=Ms/2;return Ms=new Nt,t}};function mx(){ze.point=vx}function vx(t,e){ze.point=X0,q0=Su=t,W0=Au=e}function X0(t,e){Tu.add(Au*t-Su*e),Su=t,Au=e}function yx(){X0(q0,W0)}var gr=1/0,Wo=gr,pi=-gr,Xo=pi,Jo={point:bx,lineStart:_t,lineEnd:_t,polygonStart:_t,polygonEnd:_t,result:function(){var t=[[gr,Wo],[pi,Xo]];return pi=Xo=-(Wo=gr=1/0),t}};function bx(t,e){t<gr&&(gr=t),t>pi&&(pi=t),e<Wo&&(Wo=e),e>Xo&&(Xo=e)}var $u=0,Cu=0,Fr=0,Zo=0,Ko=0,Kn=0,Nu=0,ku=0,Vr=0,J0,Z0,_e,we,ce={point:An,lineStart:Pf,lineEnd:Ef,polygonStart:function(){ce.lineStart=xx,ce.lineEnd=Mx},polygonEnd:function(){ce.point=An,ce.lineStart=Pf,ce.lineEnd=Ef},result:function(){var t=Vr?[Nu/Vr,ku/Vr]:Kn?[Zo/Kn,Ko/Kn]:Fr?[$u/Fr,Cu/Fr]:[NaN,NaN];return $u=Cu=Fr=Zo=Ko=Kn=Nu=ku=Vr=0,t}};function An(t,e){$u+=t,Cu+=e,++Fr}function Pf(){ce.point=_x}function _x(t,e){ce.point=wx,An(_e=t,we=e)}function wx(t,e){var n=t-_e,r=e-we,i=Rt(n*n+r*r);Zo+=i*(_e+t)/2,Ko+=i*(we+e)/2,Kn+=i,An(_e=t,we=e)}function Ef(){ce.point=An}function xx(){ce.point=Tx}function Mx(){K0(J0,Z0)}function Tx(t,e){ce.point=K0,An(J0=_e=t,Z0=we=e)}function K0(t,e){var n=t-_e,r=e-we,i=Rt(n*n+r*r);Zo+=i*(_e+t)/2,Ko+=i*(we+e)/2,Kn+=i,i=we*t-_e*e,Nu+=i*(_e+t),ku+=i*(we+e),Vr+=i*3,An(_e=t,we=e)}function Q0(t){this._context=t}Q0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Jt);break}}},result:_t};var Pu=new Nt,Ts,t1,e1,Gr,Hr,gi={point:_t,lineStart:function(){gi.point=Sx},lineEnd:function(){Ts&&n1(t1,e1),gi.point=_t},polygonStart:function(){Ts=!0},polygonEnd:function(){Ts=null},result:function(){var t=+Pu;return Pu=new Nt,t}};function Sx(t,e){gi.point=n1,t1=Gr=t,e1=Hr=e}function n1(t,e){Gr-=t,Hr-=e,Pu.add(Rt(Gr*Gr+Hr*Hr)),Gr=t,Hr=e}let Rf,Qo,jf,Of;class If{constructor(e){this._append=e==null?r1:Ax(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==jf||this._append!==Qo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,jf=r,Qo=this._append,Of=this._,this._=i}this._+=Of;break}}}result(){const e=this._;return this._="",e.length?e:null}}function r1(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ax(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return r1;if(e!==Rf){const n=10**e;Rf=e,Qo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Qo}function $x(t,e){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ge(s,i(o))),o.result()}return a.area=function(s){return ge(s,i(ze)),ze.result()},a.measure=function(s){return ge(s,i(gi)),gi.result()},a.bounds=function(s){return ge(s,i(Jo)),Jo.result()},a.centroid=function(s){return ge(s,i(ce)),ce.result()},a.projection=function(s){return arguments.length?(i=s==null?(t=null,di):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(e=null,new If(n)):new Q0(e=s),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return e===null&&(o=new If(n)),a},a.projection(t).digits(n).context(e)}function Cx(t){return{stream:$i(t)}}function $i(t){return function(e){var n=new Eu;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Eu(){}Eu.prototype={constructor:Eu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function bl(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ge(n,t.stream(Jo)),e(Jo.result()),r!=null&&t.clipExtent(r),t}function ka(t,e,n){return bl(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,l])},n)}function _l(t,e,n){return ka(t,[[0,0],e],n)}function wl(t,e,n){return bl(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function xl(t,e,n){return bl(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var Lf=16,Nx=Q(30*nt);function zf(t,e){return+e?Px(t,e):kx(t)}function kx(t){return $i({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Px(t,e){function n(r,i,o,a,s,l,u,c,h,f,d,m,v,p){var g=u-r,_=c-i,b=g*g+_*_;if(b>4*e&&v--){var y=a+f,w=s+d,x=l+m,A=Rt(y*y+w*w+x*x),$=Kt(x/=A),N=ft(ft(x)-1)<et||ft(o-h)<et?(o+h)/2:Zt(w,y),k=t(N,$),P=k[0],L=k[1],T=P-r,M=L-i,S=_*T-g*M;(S*S/b>e||ft((g*T+_*M)/b-.5)>.3||a*f+s*d+l*m<Nx)&&(n(r,i,o,a,s,l,P,L,N,y/=A,w/=A,x,v,p),p.point(P,L),n(P,L,N,y,w,x,u,c,h,f,d,m,v,p))}}return function(r){var i,o,a,s,l,u,c,h,f,d,m,v,p={point:g,lineStart:_,lineEnd:y,polygonStart:function(){r.polygonStart(),p.lineStart=w},polygonEnd:function(){r.polygonEnd(),p.lineStart=_}};function g($,N){$=t($,N),r.point($[0],$[1])}function _(){h=NaN,p.point=b,r.lineStart()}function b($,N){var k=Sn([$,N]),P=t($,N);n(h,f,c,d,m,v,h=P[0],f=P[1],c=$,d=k[0],m=k[1],v=k[2],Lf,r),r.point(h,f)}function y(){p.point=g,r.lineEnd()}function w(){_(),p.point=x,p.lineEnd=A}function x($,N){b(i=$,N),o=h,a=f,s=d,l=m,u=v,p.point=b}function A(){n(h,f,c,d,m,v,o,a,i,s,l,u,Lf,r),p.lineEnd=y,y()}return p}}var Ex=$i({point:function(t,e){this.stream.point(t*nt,e*nt)}});function Rx(t){return $i({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function jx(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function Bf(t,e,n,r,i,o){if(!o)return jx(t,e,n,r,i);var a=Q(o),s=Z(o),l=a*t,u=s*t,c=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function m(v,p){return v*=r,p*=i,[l*v-u*p+e,n-u*v-l*p]}return m.invert=function(v,p){return[r*(c*v-h*p+f),i*(d-h*v-c*p)]},m}function ke(t){return Ml(function(){return t})()}function Ml(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,l=0,u=0,c,h=0,f=1,d=1,m=null,v=_u,p=null,g,_,b,y=di,w=.5,x,A,$,N,k;function P(S){return $(S[0]*nt,S[1]*nt)}function L(S){return S=$.invert(S[0],S[1]),S&&[S[0]*mt,S[1]*mt]}P.stream=function(S){return N&&k===S?N:N=Ex(Rx(c)(v(x(y(k=S)))))},P.preclip=function(S){return arguments.length?(v=S,m=void 0,M()):v},P.postclip=function(S){return arguments.length?(y=S,p=g=_=b=null,M()):y},P.clipAngle=function(S){return arguments.length?(v=+S?G0(m=S*nt):(m=null,_u),M()):m*mt},P.clipExtent=function(S){return arguments.length?(y=S==null?(p=g=_=b=null,di):Na(p=+S[0][0],g=+S[0][1],_=+S[1][0],b=+S[1][1]),M()):p==null?null:[[p,g],[_,b]]},P.scale=function(S){return arguments.length?(n=+S,T()):n},P.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],T()):[r,i]},P.center=function(S){return arguments.length?(o=S[0]%360*nt,a=S[1]%360*nt,T()):[o*mt,a*mt]},P.rotate=function(S){return arguments.length?(s=S[0]%360*nt,l=S[1]%360*nt,u=S.length>2?S[2]%360*nt:0,T()):[s*mt,l*mt,u*mt]},P.angle=function(S){return arguments.length?(h=S%360*nt,T()):h*mt},P.reflectX=function(S){return arguments.length?(f=S?-1:1,T()):f<0},P.reflectY=function(S){return arguments.length?(d=S?-1:1,T()):d<0},P.precision=function(S){return arguments.length?(x=zf(A,w=S*S),M()):Rt(w)},P.fitExtent=function(S,C){return ka(P,S,C)},P.fitSize=function(S,C){return _l(P,S,C)},P.fitWidth=function(S,C){return wl(P,S,C)},P.fitHeight=function(S,C){return xl(P,S,C)};function T(){var S=Bf(n,0,0,f,d,h).apply(null,e(o,a)),C=Bf(n,r-S[0],i-S[1],f,d,h);return c=yl(s,l,u),A=yu(e,C),$=yu(c,A),x=zf(A,w),M()}function M(){return N=k=null,P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&L,T()}}function Tl(t){var e=0,n=ct/3,r=Ml(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*nt,n=o[1]*nt):[e*mt,n*mt]},i}function Ox(t){var e=Q(t);function n(r,i){return[r*e,Z(i)/e]}return n.invert=function(r,i){return[r/e,Kt(i*e)]},n}function i1(t,e){var n=Z(t),r=(n+Z(e))/2;if(ft(r)<et)return Ox(t);var i=1+n*(2*r-n),o=Rt(i)/r;function a(s,l){var u=Rt(i-2*r*Z(l))/r;return[u*Z(s*=r),o-u*Q(s)]}return a.invert=function(s,l){var u=o-l,c=Zt(s,ft(u))*fe(u);return u*r<0&&(c-=ct*fe(s)*fe(u)),[c/r,Kt((i-(s*s+u*u)*r*r)/(2*r))]},a}function ta(){return Tl(i1).scale(155.424).center([0,33.6442])}function o1(){return ta().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ix(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Lx(){var t,e,n=o1(),r,i=ta().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ta().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(f,d){l=[f,d]}};function c(f){var d=f[0],m=f[1];return l=null,r.point(d,m),l||(o.point(d,m),l)||(s.point(d,m),l)}c.invert=function(f){var d=n.scale(),m=n.translate(),v=(f[0]-m[0])/d,p=(f[1]-m[1])/d;return(p>=.12&&p<.234&&v>=-.425&&v<-.214?i:p>=.166&&p<.234&&v>=-.214&&v<-.115?a:n).invert(f)},c.stream=function(f){return t&&e===f?t:t=Ix([n.stream(e=f),i.stream(f),a.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),a.precision(f),h()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),a.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),m=+f[0],v=+f[1];return r=n.translate(f).clipExtent([[m-.455*d,v-.238*d],[m+.455*d,v+.238*d]]).stream(u),o=i.translate([m-.307*d,v+.201*d]).clipExtent([[m-.425*d+et,v+.12*d+et],[m-.214*d-et,v+.234*d-et]]).stream(u),s=a.translate([m-.205*d,v+.212*d]).clipExtent([[m-.214*d+et,v+.166*d+et],[m-.115*d-et,v+.234*d-et]]).stream(u),h()},c.fitExtent=function(f,d){return ka(c,f,d)},c.fitSize=function(f,d){return _l(c,f,d)},c.fitWidth=function(f,d){return wl(c,f,d)},c.fitHeight=function(f,d){return xl(c,f,d)};function h(){return t=e=null,c}return c.scale(1070)}function a1(t){return function(e,n){var r=Q(e),i=Q(n),o=t(r*i);return o===1/0?[2,0]:[o*i*Z(e),o*Z(n)]}}function Ci(t){return function(e,n){var r=Rt(e*e+n*n),i=t(r),o=Z(i),a=Q(i);return[Zt(e*o,r*a),Kt(r&&n*o/r)]}}var Sl=a1(function(t){return Rt(2/(1+t))});Sl.invert=Ci(function(t){return 2*Kt(t/2)});function zx(){return ke(Sl).scale(124.75).clipAngle(180-.001)}var Al=a1(function(t){return(t=A0(t))&&t/Z(t)});Al.invert=Ci(function(t){return t});function Bx(){return ke(Al).scale(79.4188).clipAngle(180-.001)}function Ni(t,e){return[t,Ro(ml((Mt+e)/2))]}Ni.invert=function(t,e){return[t,2*Tr(S0(e))-Mt]};function Dx(){return s1(Ni).scale(961/Jt)}function s1(t){var e=ke(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,s,l,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=s=l=u=null:(a=+h[0][0],s=+h[0][1],l=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,s],[l,u]]};function c(){var h=ct*r(),f=e(L0(e.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Ni?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,l),u]]:[[a,Math.max(f[1]-h,s)],[l,Math.min(f[1]+h,u)]])}return c()}function Xi(t){return ml((Mt+t)/2)}function u1(t,e){var n=Q(t),r=t===e?Z(t):Ro(n/Q(e))/Ro(Xi(e)/Xi(t)),i=n*_s(Xi(t),r)/r;if(!r)return Ni;function o(a,s){i>0?s<-Mt+et&&(s=-Mt+et):s>Mt-et&&(s=Mt-et);var l=i/_s(Xi(s),r);return[l*Z(r*a),i-l*Q(r*a)]}return o.invert=function(a,s){var l=i-s,u=fe(r)*Rt(a*a+l*l),c=Zt(a,ft(l))*fe(l);return l*r<0&&(c-=ct*fe(a)*fe(l)),[c/r,2*Tr(_s(i/u,1/r))-Mt]},o}function Fx(){return Tl(u1).scale(109.5).parallels([30,30])}function mi(t,e){return[t,e]}mi.invert=mi;function Vx(){return ke(mi).scale(152.63)}function l1(t,e){var n=Q(t),r=t===e?Z(t):(n-Q(e))/(e-t),i=n/r+t;if(ft(r)<et)return mi;function o(a,s){var l=i-s,u=r*a;return[l*Z(u),i-l*Q(u)]}return o.invert=function(a,s){var l=i-s,u=Zt(a,ft(l))*fe(l);return l*r<0&&(u-=ct*fe(a)*fe(l)),[u/r,i-fe(r)*Rt(a*a+l*l)]},o}function Gx(){return Tl(l1).scale(131.154).center([0,13.9389])}var Jr=1.340264,Zr=-.081106,Kr=893e-6,Qr=.003796,ea=Rt(3)/2,Hx=12;function $l(t,e){var n=Kt(ea*Z(e)),r=n*n,i=r*r*r;return[t*Q(n)/(ea*(Jr+3*Zr*r+i*(7*Kr+9*Qr*r))),n*(Jr+Zr*r+i*(Kr+Qr*r))]}$l.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,s,l;o<Hx&&(s=n*(Jr+Zr*r+i*(Kr+Qr*r))-e,l=Jr+3*Zr*r+i*(7*Kr+9*Qr*r),n-=a=s/l,r=n*n,i=r*r*r,!(ft(a)<hi));++o);return[ea*t*(Jr+3*Zr*r+i*(7*Kr+9*Qr*r))/Q(n),Kt(Z(n)/ea)]};function Yx(){return ke($l).scale(177.158)}function Cl(t,e){var n=Q(e),r=Q(t)*n;return[n*Z(t)/r,Z(e)/r]}Cl.invert=Ci(Tr);function Ux(){return ke(Cl).scale(144.049).clipAngle(60)}function qx(){var t=1,e=0,n=0,r=1,i=1,o=0,a,s,l=null,u,c,h,f=1,d=1,m=$i({point:function(y,w){var x=b([y,w]);this.stream.point(x[0],x[1])}}),v=di,p,g;function _(){return f=t*r,d=t*i,p=g=null,b}function b(y){var w=y[0]*f,x=y[1]*d;if(o){var A=x*a-w*s;w=w*a+x*s,x=A}return[w+e,x+n]}return b.invert=function(y){var w=y[0]-e,x=y[1]-n;if(o){var A=x*a+w*s;w=w*a-x*s,x=A}return[w/f,x/d]},b.stream=function(y){return p&&g===y?p:p=m(v(g=y))},b.postclip=function(y){return arguments.length?(v=y,l=u=c=h=null,_()):v},b.clipExtent=function(y){return arguments.length?(v=y==null?(l=u=c=h=null,di):Na(l=+y[0][0],u=+y[0][1],c=+y[1][0],h=+y[1][1]),_()):l==null?null:[[l,u],[c,h]]},b.scale=function(y){return arguments.length?(t=+y,_()):t},b.translate=function(y){return arguments.length?(e=+y[0],n=+y[1],_()):[e,n]},b.angle=function(y){return arguments.length?(o=y%360*nt,s=Z(o),a=Q(o),_()):o*mt},b.reflectX=function(y){return arguments.length?(r=y?-1:1,_()):r<0},b.reflectY=function(y){return arguments.length?(i=y?-1:1,_()):i<0},b.fitExtent=function(y,w){return ka(b,y,w)},b.fitSize=function(y,w){return _l(b,y,w)},b.fitWidth=function(y,w){return wl(b,y,w)},b.fitHeight=function(y,w){return xl(b,y,w)},b}function Nl(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Nl.invert=function(t,e){var n=e,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(ft(i)>et&&--r>0);return[t/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function Wx(){return ke(Nl).scale(175.295)}function kl(t,e){return[Q(e)*Z(t),Z(e)]}kl.invert=Ci(Kt);function Xx(){return ke(kl).scale(249.5).clipAngle(90+et)}function Pl(t,e){var n=Q(e),r=1+Q(t)*n;return[n*Z(t)/r,Z(e)/r]}Pl.invert=Ci(function(t){return 2*Tr(t)});function Jx(){return ke(Pl).scale(250).clipAngle(142)}function El(t,e){return[Ro(ml((Mt+e)/2)),-t]}El.invert=function(t,e){return[-e,2*Tr(S0(t))-Mt]};function Zx(){var t=s1(El),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Kx(t,e){return t.parent===e.parent?1:2}function Qx(t){return t.reduce(t6,0)/t.length}function t6(t,e){return t+e.x}function e6(t){return 1+t.reduce(n6,0)}function n6(t,e){return Math.max(t,e.y)}function r6(t){for(var e;e=t.children;)t=e[0];return t}function i6(t){for(var e;e=t.children;)t=e[e.length-1];return t}function o6(){var t=Kx,e=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(f){var d=f.children;d?(f.x=Qx(d),f.y=e6(d)):(f.x=a?s+=t(f,a):0,f.y=0,a=f)});var l=r6(o),u=i6(o),c=l.x-t(l,u)/2,h=u.x+t(u,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*e,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*e,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function a6(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function s6(){return this.eachAfter(a6)}function u6(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function l6(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function c6(t,e){for(var n=this,r=[n],i=[],o,a,s,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function f6(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function h6(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function d6(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function p6(t){for(var e=this,n=g6(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function g6(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function m6(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function v6(){return Array.from(this)}function y6(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function b6(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*_6(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Rl(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=M6)):e===void 0&&(e=x6);for(var n=new $n(t),r,i=[n],o,a,s,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)i.push(o=a[s]=new $n(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(c1)}function w6(){return Rl(this).eachBefore(T6)}function x6(t){return t.children}function M6(t){return Array.isArray(t)?t[1]:null}function T6(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function c1(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function $n(t){this.data=t,this.depth=this.height=0,this.parent=null}$n.prototype=Rl.prototype={constructor:$n,count:s6,each:u6,eachAfter:c6,eachBefore:l6,find:f6,sum:h6,sort:d6,path:p6,ancestors:m6,descendants:v6,leaves:y6,links:b6,copy:w6,[Symbol.iterator]:_6};function go(t){return t==null?null:f1(t)}function f1(t){if(typeof t!="function")throw new Error;return t}function dn(){return 0}function Jn(t){return function(){return t}}const S6=1664525,A6=1013904223,Df=4294967296;function jl(){let t=1;return()=>(t=(S6*t+A6)%Df)/Df}function $6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function C6(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function N6(t){return h1(t,jl())}function h1(t,e){for(var n=0,r=(t=C6(Array.from(t),e)).length,i=[],o,a;n<r;)o=t[n],a&&d1(a,o)?++n:(a=P6(i=k6(i,o)),n=0);return a}function k6(t,e){var n,r;if(Ss(e,t))return[e];for(n=0;n<t.length;++n)if(Ji(e,t[n])&&Ss(Yr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ji(Yr(t[n],t[r]),e)&&Ji(Yr(t[n],e),t[r])&&Ji(Yr(t[r],e),t[n])&&Ss(p1(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ji(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function d1(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Ss(t,e){for(var n=0;n<e.length;++n)if(!d1(t,e[n]))return!1;return!0}function P6(t){switch(t.length){case 1:return E6(t[0]);case 2:return Yr(t[0],t[1]);case 3:return p1(t[0],t[1],t[2])}}function E6(t){return{x:t.x,y:t.y,r:t.r}}function Yr(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,c=s-i,h=Math.sqrt(l*l+u*u);return{x:(n+o+l/h*c)/2,y:(r+a+u/h*c)/2,r:(h+i+s)/2}}function p1(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,c=n.y,h=n.r,f=r-a,d=r-u,m=i-s,v=i-c,p=l-o,g=h-o,_=r*r+i*i-o*o,b=_-a*a-s*s+l*l,y=_-u*u-c*c+h*h,w=d*m-f*v,x=(m*y-v*b)/(w*2)-r,A=(v*p-m*g)/w,$=(d*b-f*y)/(w*2)-i,N=(f*g-d*p)/w,k=A*A+N*N-1,P=2*(o+x*A+$*N),L=x*x+$*$-o*o,T=-(Math.abs(k)>1e-6?(P+Math.sqrt(P*P-4*k*L))/(2*k):L/P);return{x:r+x+A*T,y:i+$+N*T,r:T}}function Ff(t,e,n){var r=t.x-e.x,i,o,a=t.y-e.y,s,l,u=r*r+a*a;u?(o=e.r+n.r,o*=o,l=t.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=t.x-i*r-s*a,n.y=t.y-i*a+s*r):(i=(u+o-l)/(2*u),s=Math.sqrt(Math.max(0,o/u-i*i)),n.x=e.x+i*r-s*a,n.y=e.y+i*a+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Vf(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Gf(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Zi(t){this._=t,this.next=null,this.previous=null}function g1(t,e){if(!(o=(t=$6(t)).length))return 0;var n,r,i,o,a,s,l,u,c,h,f;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Ff(r,n,i=t[2]),n=new Zi(n),r=new Zi(r),i=new Zi(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<o;++l){Ff(n._,r._,i=t[l]),i=new Zi(i),u=r.next,c=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(Vf(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue t}h+=u._.r,u=u.next}else{if(Vf(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue t}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Gf(n);(i=i.next)!==r;)(s=Gf(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=h1(n,e),l=0;l<o;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function R6(t){return g1(t,jl()),t}function j6(t){return Math.sqrt(t.value)}function O6(){var t=null,e=1,n=1,r=dn;function i(o){const a=jl();return o.x=e/2,o.y=n/2,t?o.eachBefore(Hf(t)).eachAfter(As(r,.5,a)).eachBefore(Yf(1)):o.eachBefore(Hf(j6)).eachAfter(As(dn,1,a)).eachAfter(As(r,o.r/Math.min(e,n),a)).eachBefore(Yf(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=go(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Jn(+o),i):r},i}function Hf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function As(t,e,n){return function(r){if(i=r.children){var i,o,a=i.length,s=t(r)*e||0,l;if(s)for(o=0;o<a;++o)i[o].r+=s;if(l=g1(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=l+s}}}function Yf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function m1(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ki(t,e,n,r,i){for(var o=t.children,a,s=-1,l=o.length,u=t.value&&(r-e)/t.value;++s<l;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function I6(){var t=1,e=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(o(e,s)),r&&a.eachBefore(m1),a}function o(a,s){return function(l){l.children&&ki(l,l.x0,a*(l.depth+1)/s,l.x1,a*(l.depth+2)/s);var u=l.x0,c=l.y0,h=l.x1-n,f=l.y1-n;h<u&&(u=h=(u+h)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=h,l.y1=f}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var L6={depth:-1},Uf={},$s={};function z6(t){return t.id}function B6(t){return t.parentId}function D6(){var t=z6,e=B6,n;function r(i){var o=Array.from(i),a=t,s=e,l,u,c,h,f,d,m,v,p=new Map;if(n!=null){const g=o.map((y,w)=>F6(n(y,w,i))),_=g.map(qf),b=new Set(g).add("");for(const y of _)b.has(y)||(b.add(y),g.push(y),_.push(qf(y)),o.push($s));a=(y,w)=>g[w],s=(y,w)=>_[w]}for(c=0,l=o.length;c<l;++c)u=o[c],d=o[c]=new $n(u),(m=a(u,c,i))!=null&&(m+="")&&(v=d.id=m,p.set(v,p.has(v)?Uf:d)),(m=s(u,c,i))!=null&&(m+="")&&(d.parent=m);for(c=0;c<l;++c)if(d=o[c],m=d.parent){if(f=p.get(m),!f)throw new Error("missing: "+m);if(f===Uf)throw new Error("ambiguous: "+m);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===$s&&h.children.length===1;)h=h.children[0],--l;for(let g=o.length-1;g>=0&&(d=o[g],d.data===$s);--g)d.data=null}if(h.parent=L6,h.eachBefore(function(g){g.depth=g.parent.depth+1,--l}).eachBefore(c1),h.parent=null,l>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=go(i),r):t},r.parentId=function(i){return arguments.length?(e=go(i),r):e},r.path=function(i){return arguments.length?(n=go(i),r):n},r}function F6(t){t=`${t}`;let e=t.length;return Ru(t,e-1)&&!Ru(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function qf(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Ru(t,e););return t.slice(0,e)}function Ru(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function V6(t,e){return t.parent===e.parent?1:2}function Cs(t){var e=t.children;return e?e[0]:t.t}function Ns(t){var e=t.children;return e?e[e.length-1]:t.t}function G6(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function H6(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function Y6(t,e,n){return t.a.parent===e.parent?t.a:n}function mo(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}mo.prototype=Object.create($n.prototype);function U6(t){for(var e=new mo(t,0),n,r=[e],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new mo(o[a],a)),i.parent=n;return(e.parent=new mo(null,0)).children=[e],e}function q6(){var t=V6,e=1,n=1,r=null;function i(u){var c=U6(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(l);else{var h=u,f=u,d=u;u.eachBefore(function(_){_.x<h.x&&(h=_),_.x>f.x&&(f=_),_.depth>d.depth&&(d=_)});var m=h===f?1:t(h,f)/2,v=m-h.x,p=e/(f.x+m+v),g=n/(d.depth||1);u.eachBefore(function(_){_.x=(_.x+v)*p,_.y=_.depth*g})}return u}function o(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){H6(u);var d=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-d):u.z=d}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,d=u,m=c,v=f.parent.children[0],p=f.m,g=d.m,_=m.m,b=v.m,y;m=Ns(m),f=Cs(f),m&&f;)v=Cs(v),d=Ns(d),d.a=u,y=m.z+_-f.z-p+t(m._,f._),y>0&&(G6(Y6(m,u,h),u,y),p+=y,g+=y),_+=m.m,p+=f.m,b+=v.m,g+=d.m;m&&!Ns(d)&&(d.t=m,d.m+=_-g),f&&!Cs(v)&&(v.t=f,v.m+=p-b,h=u)}return h}function l(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function Pa(t,e,n,r,i){for(var o=t.children,a,s=-1,l=o.length,u=t.value&&(i-n)/t.value;++s<l;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var v1=(1+Math.sqrt(5))/2;function y1(t,e,n,r,i,o){for(var a=[],s=e.children,l,u,c=0,h=0,f=s.length,d,m,v=e.value,p,g,_,b,y,w,x;c<f;){d=i-n,m=o-r;do p=s[h++].value;while(!p&&h<f);for(g=_=p,w=Math.max(m/d,d/m)/(v*t),x=p*p*w,y=Math.max(_/x,x/g);h<f;++h){if(p+=u=s[h].value,u<g&&(g=u),u>_&&(_=u),x=p*p*w,b=Math.max(_/x,x/g),b>y){p-=u;break}y=b}a.push(l={value:p,dice:d<m,children:s.slice(c,h)}),l.dice?ki(l,n,r,i,v?r+=m*p/v:o):Pa(l,n,r,v?n+=d*p/v:i,o),v-=p,c=h}return a}const b1=function t(e){function n(r,i,o,a,s){y1(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(v1);function W6(){var t=b1,e=!1,n=1,r=1,i=[0],o=dn,a=dn,s=dn,l=dn,u=dn;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(m1),f}function h(f){var d=i[f.depth],m=f.x0+d,v=f.y0+d,p=f.x1-d,g=f.y1-d;p<m&&(m=p=(m+p)/2),g<v&&(v=g=(v+g)/2),f.x0=m,f.y0=v,f.x1=p,f.y1=g,f.children&&(d=i[f.depth+1]=o(f)/2,m+=u(f)-d,v+=a(f)-d,p-=s(f)-d,g-=l(f)-d,p<m&&(m=p=(m+p)/2),g<v&&(v=g=(v+g)/2),t(f,m,v,p,g))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=f1(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:Jn(+f),c):o},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(a=typeof f=="function"?f:Jn(+f),c):a},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Jn(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Jn(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:Jn(+f),c):u},c}function X6(t,e,n,r,i){var o=t.children,a,s=o.length,l,u=new Array(s+1);for(u[0]=l=a=0;a<s;++a)u[a+1]=l+=o[a].value;c(0,s,t.value,e,n,r,i);function c(h,f,d,m,v,p,g){if(h>=f-1){var _=o[h];_.x0=m,_.y0=v,_.x1=p,_.y1=g;return}for(var b=u[h],y=d/2+b,w=h+1,x=f-1;w<x;){var A=w+x>>>1;u[A]<y?w=A+1:x=A}y-u[w-1]<u[w]-y&&h+1<w&&--w;var $=u[w]-b,N=d-$;if(p-m>g-v){var k=d?(m*N+p*$)/d:p;c(h,w,$,m,v,k,g),c(w,f,N,k,v,p,g)}else{var P=d?(v*N+g*$)/d:g;c(h,w,$,m,v,p,P),c(w,f,N,m,P,p,g)}}}function J6(t,e,n,r,i){(t.depth&1?Pa:ki)(t,e,n,r,i)}const Z6=function t(e){function n(r,i,o,a,s){if((l=r._squarify)&&l.ratio===e)for(var l,u,c,h,f=-1,d,m=l.length,v=r.value;++f<m;){for(u=l[f],c=u.children,h=u.value=0,d=c.length;h<d;++h)u.value+=c[h].value;u.dice?ki(u,i,o,a,v?o+=(s-o)*u.value/v:s):Pa(u,i,o,v?i+=(a-i)*u.value/v:a,s),v-=u.value}else r._squarify=l=y1(e,r,i,o,a,s),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(v1);function K6(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[1]*i[0]-r[0]*i[1];return o/2}function Q6(t){for(var e=-1,n=t.length,r=0,i=0,o,a=t[n-1],s,l=0;++e<n;)o=a,a=t[e],l+=s=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*s,i+=(o[1]+a[1])*s;return l*=3,[r/l,i/l]}function t4(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function e4(t,e){return t[0]-e[0]||t[1]-e[1]}function Wf(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&t4(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function n4(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(e4),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Wf(r),a=Wf(i),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[r[o[e]][2]]);for(e=+s;e<a.length-l;++e)u.push(t[r[a[e]][2]]);return u}function r4(t,e){for(var n=t.length,r=t[n-1],i=e[0],o=e[1],a=r[0],s=r[1],l,u,c=!1,h=0;h<n;++h)r=t[h],l=r[0],u=r[1],u>o!=s>o&&i<(a-l)*(o-u)/(s-u)+l&&(c=!c),a=l,s=u;return c}function i4(t){for(var e=-1,n=t.length,r=t[n-1],i,o,a=r[0],s=r[1],l=0;++e<n;)i=a,o=s,r=t[e],a=r[0],s=r[1],i-=a,o-=s,l+=Math.hypot(i,o);return l}const Ot=Math.random,o4=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Ot),a4=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(Ot),Ol=function t(e){function n(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(o!=null)s=o,o=null;else do o=e()*2-1,s=e()*2-1,a=o*o+s*s;while(!a||a>1);return r+i*s*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n}(Ot),s4=function t(e){var n=Ol.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(Ot),_1=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=e();return i+o*e()}}return n.source=t,n}(Ot),u4=function t(e){var n=_1.source(e);function r(i){if((i=+i)==0)return e;var o=n(i);return function(){return o()/i}}return r.source=t,r}(Ot),l4=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(Ot),c4=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(Ot),f4=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(Ot),w1=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(Ot),Il=function t(e){var n=Ol.source(e)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-e())*o;var a=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(a)),l=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var u=n(),c=1+s*u;while(c<=0);c*=c*c;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+a*(1-c+Math.log(c)));return a*c*l()*o}}return r.source=t,r}(Ot),x1=function t(e){var n=Il.source(e);function r(i,o){var a=n(i),s=n(o);return function(){var l=a();return l===0?0:l/(l+s())}}return r.source=t,r}(Ot),M1=function t(e){var n=w1.source(e),r=x1.source(e);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var s=0,l=o,u=a;l*u>16&&l*(1-u)>16;){var c=Math.floor((l+1)*u),h=r(c,l-c+1)();h<=u?(s+=c,l-=c,u=(u-h)/(1-h)):(l=c-1,u/=h)}for(var f=u<.5,d=f?u:1-u,m=n(d),v=m(),p=0;v<=l;++p)v+=m();return s+(f?p:l-p)}}return i.source=t,i}(Ot),h4=function t(e){function n(r,i,o){var a;return(r=+r)==0?a=s=>-Math.log(s):(r=1/r,a=s=>Math.pow(s,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-e()))}}return n.source=t,n}(Ot),d4=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(Ot),p4=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=e();return r+i*Math.log(o/(1-o))}}return n.source=t,n}(Ot),g4=function t(e){var n=Il.source(e),r=M1.source(e);function i(o){return function(){for(var a=0,s=o;s>16;){var l=Math.floor(.875*s),u=n(l)();if(u>s)return a+r(l-1,s/u)();a+=l,s-=u}for(var c=-Math.log1p(-e()),h=0;c<=s;++h)c-=Math.log1p(-e());return a+h}}return i.source=t,i}(Ot),m4=1664525,v4=1013904223,Xf=1/4294967296;function y4(t=Math.random()){let e=(0<=t&&t<1?t/Xf:Math.abs(t))|0;return()=>(e=m4*e+v4|0,Xf*(e>>>0))}function de(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ue(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ju=Symbol("implicit");function Ll(){var t=new ei,e=[],n=[],r=ju;function i(o){let a=t.get(o);if(a===void 0){if(r!==ju)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ei;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ll(e,n).unknown(r)},de.apply(i,arguments),i}function zl(){var t=Ll().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,d=i<r,m=d?i:r,v=d?r:i;o=(v-m)/Math.max(1,f-l+u*2),s&&(o=Math.floor(o)),m+=(v-m-o*(f-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var p=Xe(f).map(function(g){return m+o*g});return n(d?p.reverse():p)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return zl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},de.apply(h(),arguments)}function T1(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return T1(e())},t}function b4(){return T1(zl.apply(null,arguments).paddingInner(1))}function _4(t){return function(){return t}}function na(t){return+t}var Jf=[0,1];function Wt(t){return t}function Ou(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_4(isNaN(e)?NaN:.5)}function w4(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function x4(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ou(i,r),o=n(a,o)):(r=Ou(r,i),o=n(o,a)),function(s){return o(r(s))}}function M4(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ou(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ke(t,s,1,r)-1;return o[l](i[l](s))}}function Pi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ea(){var t=Jf,e=Jf,n=an,r,i,o,a=Wt,s,l,u;function c(){var f=Math.min(t.length,e.length);return a!==Wt&&(a=w4(t[0],t[f-1])),s=f>2?M4:x4,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=s(e,t.map(r),le)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,na),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=ba,c()},h.clamp=function(f){return arguments.length?(a=f?!0:Wt,c()):a!==Wt},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,c()}}function Bl(){return Ea()(Wt,Wt)}function S1(t,e,n,r){var i=_o(t,e,n),o;switch(r=hr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=M0(i,a))&&(r.precision=o),gl(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=T0(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=x0(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ca(r)}function sn(t){var e=t.domain;return t.ticks=function(n){var r=e();return _n(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return S1(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=wn(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function A1(){var t=Bl();return t.copy=function(){return Pi(t,A1())},de.apply(t,arguments),sn(t)}function $1(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,na),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return $1(t).unknown(e)},t=arguments.length?Array.from(t,na):[0,1],sn(n)}function C1(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Zf(t){return Math.log(t)}function Kf(t){return Math.exp(t)}function T4(t){return-Math.log(-t)}function S4(t){return-Math.exp(-t)}function A4(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $4(t){return t===10?A4:t===Math.E?Math.exp:e=>Math.pow(t,e)}function C4(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qf(t){return(e,n)=>-t(-e,n)}function Dl(t){const e=t(Zf,Kf),n=e.domain;let r=10,i,o;function a(){return i=C4(r),o=$4(r),n()[0]<0?(i=Qf(i),o=Qf(o),t(T4,S4)):t(Zf,Kf),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),d=i(c),m,v;const p=s==null?10:+s;let g=[];if(!(r%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(m=1;m<r;++m)if(v=f<0?m/o(-f):m*o(f),!(v<u)){if(v>c)break;g.push(v)}}else for(;f<=d;++f)for(m=r-1;m>=1;--m)if(v=f>0?m/o(-f):m*o(f),!(v<u)){if(v>c)break;g.push(v)}g.length*2<p&&(g=_n(u,c,p))}else g=_n(f,d,Math.min(d-f,p)).map(o);return h?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hr(l)).precision==null&&(l.trim=!0),l=Ca(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(C1(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function N1(){const t=Dl(Ea()).domain([1,10]);return t.copy=()=>Pi(t,N1()).base(t.base()),de.apply(t,arguments),t}function th(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eh(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fl(t){var e=1,n=t(th(e),eh(e));return n.constant=function(r){return arguments.length?t(th(e=+r),eh(e)):e},sn(n)}function k1(){var t=Fl(Ea());return t.copy=function(){return Pi(t,k1()).constant(t.constant())},de.apply(t,arguments)}function nh(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function N4(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function k4(t){return t<0?-t*t:t*t}function Vl(t){var e=t(Wt,Wt),n=1;function r(){return n===1?t(Wt,Wt):n===.5?t(N4,k4):t(nh(n),nh(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},sn(e)}function Gl(){var t=Vl(Ea());return t.copy=function(){return Pi(t,Gl()).exponent(t.exponent())},de.apply(t,arguments),t}function P4(){return Gl.apply(null,arguments).exponent(.5)}function rh(t){return Math.sign(t)*t*t}function E4(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P1(){var t=Bl(),e=[0,1],n=!1,r;function i(o){var a=E4(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(rh(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,na)).map(rh)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return P1(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},de.apply(i,arguments),sn(i)}function E1(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=ad(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Ke(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(wt),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return E1().domain(t).range(e).unknown(r)},de.apply(o,arguments)}function R1(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ke(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return R1().domain([t,e]).range(i).unknown(o)},de.apply(sn(a),arguments)}function j1(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ke(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return j1().domain(t).range(e).unknown(n)},de.apply(i,arguments)}const ks=new Date,Ps=new Date;function At(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>At(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(ks.setTime(+o),Ps.setTime(+a),t(ks),t(Ps),Math.floor(n(ks,Ps))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const mr=At(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mr.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?At(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mr);const ih=mr.range,De=1e3,he=De*60,Fe=he*60,Ye=Fe*24,Hl=Ye*7,oh=Ye*30,Es=Ye*365,Ve=At(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*De)},(t,e)=>(e-t)/De,t=>t.getUTCSeconds()),ah=Ve.range,Ra=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*De)},(t,e)=>{t.setTime(+t+e*he)},(t,e)=>(e-t)/he,t=>t.getMinutes()),R4=Ra.range,ja=At(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*he)},(t,e)=>(e-t)/he,t=>t.getUTCMinutes()),j4=ja.range,Oa=At(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*De-t.getMinutes()*he)},(t,e)=>{t.setTime(+t+e*Fe)},(t,e)=>(e-t)/Fe,t=>t.getHours()),O4=Oa.range,Ia=At(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fe)},(t,e)=>(e-t)/Fe,t=>t.getUTCHours()),I4=Ia.range,Sr=At(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*he)/Ye,t=>t.getDate()-1),L4=Sr.range,Ei=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ye,t=>t.getUTCDate()-1),z4=Ei.range,Yl=At(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ye,t=>Math.floor(t/Ye)),B4=Yl.range;function jn(t){return At(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*he)/Hl)}const vr=jn(0),vi=jn(1),O1=jn(2),I1=jn(3),Cn=jn(4),L1=jn(5),z1=jn(6),sh=vr.range,D4=vi.range,F4=O1.range,V4=I1.range,G4=Cn.range,H4=L1.range,Y4=z1.range;function On(t){return At(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Hl)}const yr=On(0),yi=On(1),B1=On(2),D1=On(3),Nn=On(4),F1=On(5),V1=On(6),uh=yr.range,U4=yi.range,q4=B1.range,W4=D1.range,X4=Nn.range,J4=F1.range,Z4=V1.range,La=At(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),K4=La.range,za=At(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Q4=za.range,$e=At(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$e.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const t8=$e.range,Ce=At(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ce.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:At(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const e8=Ce.range;function G1(t,e,n,r,i,o){const a=[[Ve,1,De],[Ve,5,5*De],[Ve,15,15*De],[Ve,30,30*De],[o,1,he],[o,5,5*he],[o,15,15*he],[o,30,30*he],[i,1,Fe],[i,3,3*Fe],[i,6,6*Fe],[i,12,12*Fe],[r,1,Ye],[r,2,2*Ye],[n,1,Hl],[e,1,oh],[e,3,3*oh],[t,1,Es]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:l(u,c,h),m=d?d.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,h){const f=Math.abs(c-u)/h,d=ua(([,,p])=>p).right(a,f);if(d===a.length)return t.every(_o(u/Es,c/Es,h));if(d===0)return mr.every(Math.max(_o(u,c,h),1));const[m,v]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return m.every(v)}return[s,l]}const[H1,Y1]=G1(Ce,za,yr,Yl,Ia,ja),[U1,q1]=G1($e,La,vr,Sr,Oa,Ra);function Rs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function js(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Er(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function W1(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Rr(i),c=jr(i),h=Rr(o),f=jr(o),d=Rr(a),m=jr(a),v=Rr(s),p=jr(s),g=Rr(l),_=jr(l),b={a:O,A:B,b:I,B:R,c:null,d:ph,e:ph,f:T8,g:j8,G:I8,H:w8,I:x8,j:M8,L:X1,m:S8,M:A8,p:j,q:z,Q:vh,s:yh,S:$8,u:C8,U:N8,V:k8,w:P8,W:E8,x:null,X:null,y:R8,Y:O8,Z:L8,"%":mh},y={a:F,A:G,b:H,B:J,c:null,d:gh,e:gh,f:F8,g:Z8,G:Q8,H:z8,I:B8,j:D8,L:Z1,m:V8,M:G8,p:W,q:X,Q:vh,s:yh,S:H8,u:Y8,U:U8,V:q8,w:W8,W:X8,x:null,X:null,y:J8,Y:K8,Z:t7,"%":mh},w={a:k,A:P,b:L,B:T,c:M,d:hh,e:hh,f:v8,g:fh,G:ch,H:dh,I:dh,j:d8,L:m8,m:h8,M:p8,p:N,q:f8,Q:b8,s:_8,S:g8,u:a8,U:s8,V:u8,w:o8,W:l8,x:S,X:C,y:fh,Y:ch,Z:c8,"%":y8};b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y);function x(V,Y){return function(K){var D=[],tt=-1,ot=0,at=V.length,rt,q,it;for(K instanceof Date||(K=new Date(+K));++tt<at;)V.charCodeAt(tt)===37&&(D.push(V.slice(ot,tt)),(q=lh[rt=V.charAt(++tt)])!=null?rt=V.charAt(++tt):q=rt==="e"?" ":"0",(it=Y[rt])&&(rt=it(K,q)),D.push(rt),ot=tt+1);return D.push(V.slice(ot,tt)),D.join("")}}function A(V,Y){return function(K){var D=Er(1900,void 0,1),tt=$(D,V,K+="",0),ot,at;if(tt!=K.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(Y&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(ot=js(Er(D.y,0,1)),at=ot.getUTCDay(),ot=at>4||at===0?yi.ceil(ot):yi(ot),ot=Ei.offset(ot,(D.V-1)*7),D.y=ot.getUTCFullYear(),D.m=ot.getUTCMonth(),D.d=ot.getUTCDate()+(D.w+6)%7):(ot=Rs(Er(D.y,0,1)),at=ot.getDay(),ot=at>4||at===0?vi.ceil(ot):vi(ot),ot=Sr.offset(ot,(D.V-1)*7),D.y=ot.getFullYear(),D.m=ot.getMonth(),D.d=ot.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),at="Z"in D?js(Er(D.y,0,1)).getUTCDay():Rs(Er(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(at+5)%7:D.w+D.U*7-(at+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,js(D)):Rs(D)}}function $(V,Y,K,D){for(var tt=0,ot=Y.length,at=K.length,rt,q;tt<ot;){if(D>=at)return-1;if(rt=Y.charCodeAt(tt++),rt===37){if(rt=Y.charAt(tt++),q=w[rt in lh?Y.charAt(tt++):rt],!q||(D=q(V,K,D))<0)return-1}else if(rt!=K.charCodeAt(D++))return-1}return D}function N(V,Y,K){var D=u.exec(Y.slice(K));return D?(V.p=c.get(D[0].toLowerCase()),K+D[0].length):-1}function k(V,Y,K){var D=d.exec(Y.slice(K));return D?(V.w=m.get(D[0].toLowerCase()),K+D[0].length):-1}function P(V,Y,K){var D=h.exec(Y.slice(K));return D?(V.w=f.get(D[0].toLowerCase()),K+D[0].length):-1}function L(V,Y,K){var D=g.exec(Y.slice(K));return D?(V.m=_.get(D[0].toLowerCase()),K+D[0].length):-1}function T(V,Y,K){var D=v.exec(Y.slice(K));return D?(V.m=p.get(D[0].toLowerCase()),K+D[0].length):-1}function M(V,Y,K){return $(V,e,Y,K)}function S(V,Y,K){return $(V,n,Y,K)}function C(V,Y,K){return $(V,r,Y,K)}function O(V){return a[V.getDay()]}function B(V){return o[V.getDay()]}function I(V){return l[V.getMonth()]}function R(V){return s[V.getMonth()]}function j(V){return i[+(V.getHours()>=12)]}function z(V){return 1+~~(V.getMonth()/3)}function F(V){return a[V.getUTCDay()]}function G(V){return o[V.getUTCDay()]}function H(V){return l[V.getUTCMonth()]}function J(V){return s[V.getUTCMonth()]}function W(V){return i[+(V.getUTCHours()>=12)]}function X(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var Y=x(V+="",b);return Y.toString=function(){return V},Y},parse:function(V){var Y=A(V+="",!1);return Y.toString=function(){return V},Y},utcFormat:function(V){var Y=x(V+="",y);return Y.toString=function(){return V},Y},utcParse:function(V){var Y=A(V+="",!0);return Y.toString=function(){return V},Y}}}var lh={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,n8=/^%/,r8=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function i8(t){return t.replace(r8,"\\$&")}function Rr(t){return new RegExp("^(?:"+t.map(i8).join("|")+")","i")}function jr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function o8(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function a8(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function s8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function u8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function l8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ch(t,e,n){var r=jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fh(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function c8(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f8(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function h8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hh(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function d8(t,e,n){var r=jt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dh(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function p8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function g8(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function m8(t,e,n){var r=jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function v8(t,e,n){var r=jt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function y8(t,e,n){var r=n8.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function b8(t,e,n){var r=jt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _8(t,e,n){var r=jt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ph(t,e){return dt(t.getDate(),e,2)}function w8(t,e){return dt(t.getHours(),e,2)}function x8(t,e){return dt(t.getHours()%12||12,e,2)}function M8(t,e){return dt(1+Sr.count($e(t),t),e,3)}function X1(t,e){return dt(t.getMilliseconds(),e,3)}function T8(t,e){return X1(t,e)+"000"}function S8(t,e){return dt(t.getMonth()+1,e,2)}function A8(t,e){return dt(t.getMinutes(),e,2)}function $8(t,e){return dt(t.getSeconds(),e,2)}function C8(t){var e=t.getDay();return e===0?7:e}function N8(t,e){return dt(vr.count($e(t)-1,t),e,2)}function J1(t){var e=t.getDay();return e>=4||e===0?Cn(t):Cn.ceil(t)}function k8(t,e){return t=J1(t),dt(Cn.count($e(t),t)+($e(t).getDay()===4),e,2)}function P8(t){return t.getDay()}function E8(t,e){return dt(vi.count($e(t)-1,t),e,2)}function R8(t,e){return dt(t.getFullYear()%100,e,2)}function j8(t,e){return t=J1(t),dt(t.getFullYear()%100,e,2)}function O8(t,e){return dt(t.getFullYear()%1e4,e,4)}function I8(t,e){var n=t.getDay();return t=n>=4||n===0?Cn(t):Cn.ceil(t),dt(t.getFullYear()%1e4,e,4)}function L8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function gh(t,e){return dt(t.getUTCDate(),e,2)}function z8(t,e){return dt(t.getUTCHours(),e,2)}function B8(t,e){return dt(t.getUTCHours()%12||12,e,2)}function D8(t,e){return dt(1+Ei.count(Ce(t),t),e,3)}function Z1(t,e){return dt(t.getUTCMilliseconds(),e,3)}function F8(t,e){return Z1(t,e)+"000"}function V8(t,e){return dt(t.getUTCMonth()+1,e,2)}function G8(t,e){return dt(t.getUTCMinutes(),e,2)}function H8(t,e){return dt(t.getUTCSeconds(),e,2)}function Y8(t){var e=t.getUTCDay();return e===0?7:e}function U8(t,e){return dt(yr.count(Ce(t)-1,t),e,2)}function K1(t){var e=t.getUTCDay();return e>=4||e===0?Nn(t):Nn.ceil(t)}function q8(t,e){return t=K1(t),dt(Nn.count(Ce(t),t)+(Ce(t).getUTCDay()===4),e,2)}function W8(t){return t.getUTCDay()}function X8(t,e){return dt(yi.count(Ce(t)-1,t),e,2)}function J8(t,e){return dt(t.getUTCFullYear()%100,e,2)}function Z8(t,e){return t=K1(t),dt(t.getUTCFullYear()%100,e,2)}function K8(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function Q8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Nn(t):Nn.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function t7(){return"+0000"}function mh(){return"%"}function vh(t){return+t}function yh(t){return Math.floor(+t/1e3)}var Wn,Ul,Q1,Ba,ql;tp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tp(t){return Wn=W1(t),Ul=Wn.format,Q1=Wn.parse,Ba=Wn.utcFormat,ql=Wn.utcParse,Wn}var ep="%Y-%m-%dT%H:%M:%S.%LZ";function e7(t){return t.toISOString()}var n7=Date.prototype.toISOString?e7:Ba(ep);function r7(t){var e=new Date(t);return isNaN(e)?null:e}var i7=+new Date("2000-01-01T00:00:00.000Z")?r7:ql(ep);function o7(t){return new Date(t)}function a7(t){return t instanceof Date?+t:+new Date(+t)}function Wl(t,e,n,r,i,o,a,s,l,u){var c=Bl(),h=c.invert,f=c.domain,d=u(".%L"),m=u(":%S"),v=u("%I:%M"),p=u("%I %p"),g=u("%a %d"),_=u("%b %d"),b=u("%B"),y=u("%Y");function w(x){return(l(x)<x?d:s(x)<x?m:a(x)<x?v:o(x)<x?p:r(x)<x?i(x)<x?g:_:n(x)<x?b:y)(x)}return c.invert=function(x){return new Date(h(x))},c.domain=function(x){return arguments.length?f(Array.from(x,a7)):f().map(o7)},c.ticks=function(x){var A=f();return t(A[0],A[A.length-1],x??10)},c.tickFormat=function(x,A){return A==null?w:u(A)},c.nice=function(x){var A=f();return(!x||typeof x.range!="function")&&(x=e(A[0],A[A.length-1],x??10)),x?f(C1(A,x)):c},c.copy=function(){return Pi(c,Wl(t,e,n,r,i,o,a,s,l,u))},c}function s7(){return de.apply(Wl(U1,q1,$e,La,vr,Sr,Oa,Ra,Ve,Ul).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u7(){return de.apply(Wl(H1,Y1,Ce,za,yr,Ei,Ia,ja,Ve,Ba).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Da(){var t=0,e=1,n,r,i,o,a=Wt,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(f){var d,m;return arguments.length?([d,m]=f,a=h(d,m),u):[a(0),a(1)]}}return u.range=c(an),u.rangeRound=c(ba),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function un(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function np(){var t=sn(Da()(Wt));return t.copy=function(){return un(t,np())},Ue.apply(t,arguments)}function rp(){var t=Dl(Da()).domain([1,10]);return t.copy=function(){return un(t,rp()).base(t.base())},Ue.apply(t,arguments)}function ip(){var t=Fl(Da());return t.copy=function(){return un(t,ip()).constant(t.constant())},Ue.apply(t,arguments)}function Xl(){var t=Vl(Da());return t.copy=function(){return un(t,Xl()).exponent(t.exponent())},Ue.apply(t,arguments)}function l7(){return Xl.apply(null,arguments).exponent(.5)}function op(){var t=[],e=Wt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ke(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wt),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ri(t,o/r))},n.copy=function(){return op(e).domain(t)},Ue.apply(n,arguments)}function Fa(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Wt,c,h=!1,f;function d(v){return isNaN(v=+v)?f:(v=.5+((v=+c(v))-o)*(r*v<r*o?s:l),u(h?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(v){return arguments.length?(h=!!v,d):h},d.interpolator=function(v){return arguments.length?(u=v,d):u};function m(v){return function(p){var g,_,b;return arguments.length?([g,_,b]=p,u=Kd(v,[g,_,b]),d):[u(0),u(.5),u(1)]}}return d.range=m(an),d.rangeRound=m(ba),d.unknown=function(v){return arguments.length?(f=v,d):f},function(v){return c=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function ap(){var t=sn(Fa()(Wt));return t.copy=function(){return un(t,ap())},Ue.apply(t,arguments)}function sp(){var t=Dl(Fa()).domain([.1,1,10]);return t.copy=function(){return un(t,sp()).base(t.base())},Ue.apply(t,arguments)}function up(){var t=Fl(Fa());return t.copy=function(){return un(t,up()).constant(t.constant())},Ue.apply(t,arguments)}function Jl(){var t=Vl(Fa());return t.copy=function(){return un(t,Jl()).exponent(t.exponent())},Ue.apply(t,arguments)}function c7(){return Jl.apply(null,arguments).exponent(.5)}function lt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const f7=lt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),h7=lt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),d7=lt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),p7=lt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),g7=lt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),m7=lt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),v7=lt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),y7=lt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),b7=lt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_7=lt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),w7=lt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),vt=t=>Bd(t[t.length-1]);var lp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(lt);const x7=vt(lp);var cp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(lt);const M7=vt(cp);var fp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(lt);const T7=vt(fp);var hp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(lt);const S7=vt(hp);var dp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(lt);const A7=vt(dp);var pp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(lt);const $7=vt(pp);var gp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(lt);const C7=vt(gp);var mp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(lt);const N7=vt(mp);var vp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(lt);const k7=vt(vp);var yp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(lt);const P7=vt(yp);var bp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(lt);const E7=vt(bp);var _p=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(lt);const R7=vt(_p);var wp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(lt);const j7=vt(wp);var xp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(lt);const O7=vt(xp);var Mp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(lt);const I7=vt(Mp);var Tp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(lt);const L7=vt(Tp);var Sp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(lt);const z7=vt(Sp);var Ap=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(lt);const B7=vt(Ap);var $p=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(lt);const D7=vt($p);var Cp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(lt);const F7=vt(Cp);var Np=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(lt);const V7=vt(Np);var kp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(lt);const G7=vt(kp);var Pp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(lt);const H7=vt(Pp);var Ep=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(lt);const Y7=vt(Ep);var Rp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(lt);const U7=vt(Rp);var jp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(lt);const q7=vt(jp);var Op=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(lt);const W7=vt(Op);function X7(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const J7=_a(ye(300,.5,0),ye(-240,.5,1));var Z7=_a(ye(-100,.75,.35),ye(80,1.5,.8)),K7=_a(ye(260,.75,.35),ye(80,1.5,.8)),Ki=ye();function Q7(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ki.h=360*t-100,Ki.s=1.5-1.5*e,Ki.l=.8-.9*e,Ki+""}var Qi=ur(),t9=Math.PI/3,e9=Math.PI*2/3;function n9(t){var e;return t=(.5-t)*Math.PI,Qi.r=255*(e=Math.sin(t))*e,Qi.g=255*(e=Math.sin(t+t9))*e,Qi.b=255*(e=Math.sin(t+e9))*e,Qi+""}function r9(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Va(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const i9=Va(lt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o9=Va(lt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a9=Va(lt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s9=Va(lt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function st(t){return function(){return t}}const bh=Math.abs,Bt=Math.atan2,Ie=Math.cos,u9=Math.max,rr=Math.min,ee=Math.sin,yt=Math.sqrt,Dt=1e-12,en=Math.PI,ra=en/2,Ze=2*en;function l9(t){return t>1?0:t<-1?en:Math.acos(t)}function _h(t){return t>=1?ra:t<=-1?-ra:Math.asin(t)}function Ri(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ti(e)}function c9(t){return t.innerRadius}function f9(t){return t.outerRadius}function h9(t){return t.startAngle}function d9(t){return t.endAngle}function p9(t){return t&&t.padAngle}function g9(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,h=s-o,f=h*l-c*u;if(!(f*f<Dt))return f=(c*(e-o)-h*(t-i))/f,[t+f*l,e+f*u]}function to(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/yt(s*s+l*l),c=u*l,h=-u*s,f=t+c,d=e+h,m=n+c,v=r+h,p=(f+m)/2,g=(d+v)/2,_=m-f,b=v-d,y=_*_+b*b,w=i-o,x=f*v-m*d,A=(b<0?-1:1)*yt(u9(0,w*w*y-x*x)),$=(x*b-_*A)/y,N=(-x*_-b*A)/y,k=(x*b+_*A)/y,P=(-x*_+b*A)/y,L=$-p,T=N-g,M=k-p,S=P-g;return L*L+T*T>M*M+S*S&&($=k,N=P),{cx:$,cy:N,x01:-c,y01:-h,x11:$*(i/w-1),y11:N*(i/w-1)}}function m9(){var t=c9,e=f9,n=st(0),r=null,i=h9,o=d9,a=p9,s=null,l=Ri(u);function u(){var c,h,f=+t.apply(this,arguments),d=+e.apply(this,arguments),m=i.apply(this,arguments)-ra,v=o.apply(this,arguments)-ra,p=bh(v-m),g=v>m;if(s||(s=c=l()),d<f&&(h=d,d=f,f=h),!(d>Dt))s.moveTo(0,0);else if(p>Ze-Dt)s.moveTo(d*Ie(m),d*ee(m)),s.arc(0,0,d,m,v,!g),f>Dt&&(s.moveTo(f*Ie(v),f*ee(v)),s.arc(0,0,f,v,m,g));else{var _=m,b=v,y=m,w=v,x=p,A=p,$=a.apply(this,arguments)/2,N=$>Dt&&(r?+r.apply(this,arguments):yt(f*f+d*d)),k=rr(bh(d-f)/2,+n.apply(this,arguments)),P=k,L=k,T,M;if(N>Dt){var S=_h(N/f*ee($)),C=_h(N/d*ee($));(x-=S*2)>Dt?(S*=g?1:-1,y+=S,w-=S):(x=0,y=w=(m+v)/2),(A-=C*2)>Dt?(C*=g?1:-1,_+=C,b-=C):(A=0,_=b=(m+v)/2)}var O=d*Ie(_),B=d*ee(_),I=f*Ie(w),R=f*ee(w);if(k>Dt){var j=d*Ie(b),z=d*ee(b),F=f*Ie(y),G=f*ee(y),H;if(p<en)if(H=g9(O,B,F,G,j,z,I,R)){var J=O-H[0],W=B-H[1],X=j-H[0],V=z-H[1],Y=1/ee(l9((J*X+W*V)/(yt(J*J+W*W)*yt(X*X+V*V)))/2),K=yt(H[0]*H[0]+H[1]*H[1]);P=rr(k,(f-K)/(Y-1)),L=rr(k,(d-K)/(Y+1))}else P=L=0}A>Dt?L>Dt?(T=to(F,G,O,B,d,L,g),M=to(j,z,I,R,d,L,g),s.moveTo(T.cx+T.x01,T.cy+T.y01),L<k?s.arc(T.cx,T.cy,L,Bt(T.y01,T.x01),Bt(M.y01,M.x01),!g):(s.arc(T.cx,T.cy,L,Bt(T.y01,T.x01),Bt(T.y11,T.x11),!g),s.arc(0,0,d,Bt(T.cy+T.y11,T.cx+T.x11),Bt(M.cy+M.y11,M.cx+M.x11),!g),s.arc(M.cx,M.cy,L,Bt(M.y11,M.x11),Bt(M.y01,M.x01),!g))):(s.moveTo(O,B),s.arc(0,0,d,_,b,!g)):s.moveTo(O,B),!(f>Dt)||!(x>Dt)?s.lineTo(I,R):P>Dt?(T=to(I,R,j,z,f,-P,g),M=to(O,B,F,G,f,-P,g),s.lineTo(T.cx+T.x01,T.cy+T.y01),P<k?s.arc(T.cx,T.cy,P,Bt(T.y01,T.x01),Bt(M.y01,M.x01),!g):(s.arc(T.cx,T.cy,P,Bt(T.y01,T.x01),Bt(T.y11,T.x11),!g),s.arc(0,0,f,Bt(T.cy+T.y11,T.cx+T.x11),Bt(M.cy+M.y11,M.cx+M.x11),g),s.arc(M.cx,M.cy,P,Bt(M.y11,M.x11),Bt(M.y01,M.x01),!g))):s.arc(0,0,f,w,y,g)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-en/2;return[Ie(h)*c,ee(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:st(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:st(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:st(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:st(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:st(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:st(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:st(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var v9=Array.prototype.slice;function Ga(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ip(t){this._context=t}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ha(t){return new Ip(t)}function Zl(t){return t[0]}function Kl(t){return t[1]}function Ql(t,e){var n=st(!0),r=null,i=Ha,o=null,a=Ri(s);t=typeof t=="function"?t:t===void 0?Zl:st(t),e=typeof e=="function"?e:e===void 0?Kl:st(e);function s(l){var u,c=(l=Ga(l)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,u,l),+e(h,u,l));if(d)return o=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:st(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:st(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:st(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Lp(t,e,n){var r=null,i=st(!0),o=null,a=Ha,s=null,l=Ri(u);t=typeof t=="function"?t:t===void 0?Zl:st(+t),e=typeof e=="function"?e:st(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Kl:st(+n);function u(h){var f,d,m,v=(h=Ga(h)).length,p,g=!1,_,b=new Array(v),y=new Array(v);for(o==null&&(s=a(_=l())),f=0;f<=v;++f){if(!(f<v&&i(p=h[f],f,h))===g)if(g=!g)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=d;--m)s.point(b[m],y[m]);s.lineEnd(),s.areaEnd()}g&&(b[f]=+t(p,f,h),y[f]=+e(p,f,h),s.point(r?+r(p,f,h):b[f],n?+n(p,f,h):y[f]))}if(_)return s=null,_+""||null}function c(){return Ql().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:st(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:st(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:st(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:st(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:st(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:st(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:st(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}function y9(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function b9(t){return t}function _9(){var t=b9,e=y9,n=null,r=st(0),i=st(Ze),o=st(0);function a(s){var l,u=(s=Ga(s)).length,c,h,f=0,d=new Array(u),m=new Array(u),v=+r.apply(this,arguments),p=Math.min(Ze,Math.max(-Ze,i.apply(this,arguments)-v)),g,_=Math.min(Math.abs(p)/u,o.apply(this,arguments)),b=_*(p<0?-1:1),y;for(l=0;l<u;++l)(y=m[d[l]=l]=+t(s[l],l,s))>0&&(f+=y);for(e!=null?d.sort(function(w,x){return e(m[w],m[x])}):n!=null&&d.sort(function(w,x){return n(s[w],s[x])}),l=0,h=f?(p-u*b)/f:0;l<u;++l,v=g)c=d[l],y=m[c],g=v+(y>0?y*h:0)+b,m[c]={data:s[c],index:l,value:y,startAngle:v,endAngle:g,padAngle:_};return m}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:st(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:st(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:st(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:st(+s),a):o},a}var zp=tc(Ha);function Bp(t){this._curve=t}Bp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function tc(t){function e(n){return new Bp(t(n))}return e._curve=t,e}function Ur(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(tc(n)):e()._curve},t}function wh(){return Ur(Ql().curve(zp))}function xh(){var t=Lp().curve(zp),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Ur(n())},delete t.lineX0,t.lineEndAngle=function(){return Ur(r())},delete t.lineX1,t.lineInnerRadius=function(){return Ur(i())},delete t.lineY0,t.lineOuterRadius=function(){return Ur(o())},delete t.lineY1,t.curve=function(a){return arguments.length?e(tc(a)):e()._curve},t}function qr(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Dp{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class w9{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=qr(this._x0,this._y0),i=qr(this._x0,this._y0=(this._y0+n)/2),o=qr(e,this._y0),a=qr(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=e,this._y0=n}}function Fp(t){return new Dp(t,!0)}function Vp(t){return new Dp(t,!1)}function x9(t){return new w9(t)}function M9(t){return t.source}function T9(t){return t.target}function Ya(t){let e=M9,n=T9,r=Zl,i=Kl,o=null,a=null,s=Ri(l);function l(){let u;const c=v9.call(arguments),h=e.apply(this,c),f=n.apply(this,c);if(o==null&&(a=t(u=s())),a.lineStart(),c[0]=h,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:st(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:st(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),l):o},l}function S9(){return Ya(Fp)}function A9(){return Ya(Vp)}function $9(){const t=Ya(x9);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const C9=yt(3),Gp={draw(t,e){const n=yt(e+rr(e/28,.75))*.59436,r=n/2,i=r*C9;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Ua={draw(t,e){const n=yt(e/en);t.moveTo(n,0),t.arc(0,0,n,0,Ze)}},Hp={draw(t,e){const n=yt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Yp=yt(1/3),N9=Yp*2,Up={draw(t,e){const n=yt(e/N9),r=n*Yp;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qp={draw(t,e){const n=yt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Wp={draw(t,e){const n=yt(e-rr(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Xp={draw(t,e){const n=yt(e),r=-n/2;t.rect(r,r,n,n)}},Jp={draw(t,e){const n=yt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},k9=.8908130915292852,Zp=ee(en/10)/ee(7*en/10),P9=ee(Ze/10)*Zp,E9=-Ie(Ze/10)*Zp,Kp={draw(t,e){const n=yt(e*k9),r=P9*n,i=E9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Ze*o/5,s=Ie(a),l=ee(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Os=yt(3),Qp={draw(t,e){const n=-yt(e/(Os*3));t.moveTo(0,n*2),t.lineTo(-Os*n,-n),t.lineTo(Os*n,-n),t.closePath()}},R9=yt(3),tg={draw(t,e){const n=yt(e)*.6824,r=n/2,i=n*R9/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},se=-.5,ue=yt(3)/2,Iu=1/yt(12),j9=(Iu/2+1)*3,eg={draw(t,e){const n=yt(e/j9),r=n/2,i=n*Iu,o=r,a=n*Iu+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(se*r-ue*i,ue*r+se*i),t.lineTo(se*o-ue*a,ue*o+se*a),t.lineTo(se*s-ue*l,ue*s+se*l),t.lineTo(se*r+ue*i,se*i-ue*r),t.lineTo(se*o+ue*a,se*a-ue*o),t.lineTo(se*s+ue*l,se*l-ue*s),t.closePath()}},Lu={draw(t,e){const n=yt(e-rr(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},Mh=[Ua,Hp,Up,Xp,Kp,Qp,eg],O9=[Ua,Wp,Lu,tg,Gp,Jp,qp];function I9(t,e){let n=null,r=Ri(i);t=typeof t=="function"?t:st(t||Ua),e=typeof e=="function"?e:st(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:st(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:st(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function nn(){}function ia(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qa(t){this._context=t}qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ia(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ia(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L9(t){return new qa(t)}function ng(t){this._context=t}ng.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ia(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z9(t){return new ng(t)}function rg(t){this._context=t}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ia(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function B9(t){return new rg(t)}function ig(t,e){this._basis=new qa(t),this._beta=e}ig.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*o),this._beta*e[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const D9=function t(e){function n(r){return e===1?new qa(r):new ig(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function oa(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ec(t,e){this._context=t,this._k=(1-e)/6}ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:oa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:oa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const F9=function t(e){function n(r){return new ec(r,e)}return n.tension=function(r){return t(+r)},n}(0);function nc(t,e){this._context=t,this._k=(1-e)/6}nc.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:oa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const V9=function t(e){function n(r){return new nc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function rc(t,e){this._context=t,this._k=(1-e)/6}rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G9=function t(e){function n(r){return new rc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ic(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Dt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Dt){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function og(t,e){this._context=t,this._alpha=e}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ic(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const H9=function t(e){function n(r){return e?new og(r,e):new ec(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ag(t,e){this._context=t,this._alpha=e}ag.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ic(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Y9=function t(e){function n(r){return e?new ag(r,e):new nc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function sg(t,e){this._context=t,this._alpha=e}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ic(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const U9=function t(e){function n(r){return e?new sg(r,e):new rc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ug(t){this._context=t}ug.prototype={areaStart:nn,areaEnd:nn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function q9(t){return new ug(t)}function Th(t){return t<0?-1:1}function Sh(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Th(o)+Th(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ah(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Is(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function aa(t){this._context=t}aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Is(this,this._t0,Ah(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Is(this,Ah(this,n=Sh(this,t,e)),n);break;default:Is(this,this._t0,n=Sh(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lg(t){this._context=new cg(t)}(lg.prototype=Object.create(aa.prototype)).point=function(t,e){aa.prototype.point.call(this,e,t)};function cg(t){this._context=t}cg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function W9(t){return new aa(t)}function X9(t){return new lg(t)}function fg(t){this._context=t}fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$h(t),i=$h(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $h(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function J9(t){return new fg(t)}function Wa(t,e){this._context=t,this._t=e}Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Z9(t){return new Wa(t,.5)}function K9(t){return new Wa(t,0)}function Q9(t){return new Wa(t,1)}function br(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _r(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tM(t,e){return t[e]}function eM(t){const e=[];return e.key=t,e}function nM(){var t=st([]),e=_r,n=br,r=tM;function i(o){var a=Array.from(t.apply(this,arguments),eM),s,l=a.length,u=-1,c;for(const h of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,c=Ga(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:st(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:st(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?_r:typeof o=="function"?o:st(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??br,i):n},i}function rM(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}br(t,e)}}function iM(t,e){if((l=t.length)>0)for(var n,r=0,i,o,a,s,l,u=t[e[0]].length;r<u;++r)for(a=s=0,n=0;n<l;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function oM(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}br(t,e)}}function aM(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,f=c[r-1][1]||0,d=(h-f)/2,m=0;m<s;++m){var v=t[e[m]],p=v[r][1]||0,g=v[r-1][1]||0;d+=p-g}l+=h,u+=d*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,br(t,e)}}function hg(t){var e=t.map(sM);return _r(t).sort(function(n,r){return e[n]-e[r]})}function sM(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function dg(t){var e=t.map(pg);return _r(t).sort(function(n,r){return e[n]-e[r]})}function pg(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function uM(t){return dg(t).reverse()}function lM(t){var e=t.length,n,r,i=t.map(pg),o=hg(t),a=0,s=0,l=[],u=[];for(n=0;n<e;++n)r=o[n],a<s?(a+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function cM(t){return _r(t).reverse()}const eo=t=>()=>t;function fM(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Me(t,e,n){this.k=t,this.x=e,this.y=n}Me.prototype={constructor:Me,scale:function(t){return t===1?this:new Me(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Me(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xa=new Me(1,0,0);gg.prototype=Me.prototype;function gg(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xa;return t.__zoom}function Ls(t){t.stopImmediatePropagation()}function Or(t){t.preventDefault(),t.stopImmediatePropagation()}function hM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function dM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ch(){return this.__zoom||Xa}function pM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function gM(){return navigator.maxTouchPoints||"ontouchstart"in this}function mM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function vM(){var t=hM,e=dM,n=mM,r=pM,i=gM,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Wd,u=kn("start","zoom","end"),c,h,f,d=500,m=150,v=0,p=10;function g(M){M.property("__zoom",Ch).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(M,S,C,O){var B=M.selection?M.selection():M;B.property("__zoom",Ch),M!==B?w(M,S,C,O):B.interrupt().each(function(){x(this,arguments).event(O).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},g.scaleBy=function(M,S,C,O){g.scaleTo(M,function(){var B=this.__zoom.k,I=typeof S=="function"?S.apply(this,arguments):S;return B*I},C,O)},g.scaleTo=function(M,S,C,O){g.transform(M,function(){var B=e.apply(this,arguments),I=this.__zoom,R=C==null?y(B):typeof C=="function"?C.apply(this,arguments):C,j=I.invert(R),z=typeof S=="function"?S.apply(this,arguments):S;return n(b(_(I,z),R,j),B,a)},C,O)},g.translateBy=function(M,S,C,O){g.transform(M,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),a)},null,O)},g.translateTo=function(M,S,C,O,B){g.transform(M,function(){var I=e.apply(this,arguments),R=this.__zoom,j=O==null?y(I):typeof O=="function"?O.apply(this,arguments):O;return n(Xa.translate(j[0],j[1]).scale(R.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof C=="function"?-C.apply(this,arguments):-C),I,a)},O,B)};function _(M,S){return S=Math.max(o[0],Math.min(o[1],S)),S===M.k?M:new Me(S,M.x,M.y)}function b(M,S,C){var O=S[0]-C[0]*M.k,B=S[1]-C[1]*M.k;return O===M.x&&B===M.y?M:new Me(M.k,O,B)}function y(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function w(M,S,C,O){M.on("start.zoom",function(){x(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(O).end()}).tween("zoom",function(){var B=this,I=arguments,R=x(B,I).event(O),j=e.apply(B,I),z=C==null?y(j):typeof C=="function"?C.apply(B,I):C,F=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),G=B.__zoom,H=typeof S=="function"?S.apply(B,I):S,J=l(G.invert(z).concat(F/G.k),H.invert(z).concat(F/H.k));return function(W){if(W===1)W=H;else{var X=J(W),V=F/X[2];W=new Me(V,z[0]-X[0]*V,z[1]-X[1]*V)}R.zoom(null,W)}})}function x(M,S,C){return!C&&M.__zooming||new A(M,S)}function A(M,S){this.that=M,this.args=S,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,S),this.taps=0}A.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,S){return this.mouse&&M!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var S=Ft(this.that).datum();u.call(M,this.that,new fM(M,{sourceEvent:this.sourceEvent,target:g,type:M,transform:this.that.__zoom,dispatch:u}),S)}};function $(M,...S){if(!t.apply(this,arguments))return;var C=x(this,S).event(M),O=this.__zoom,B=Math.max(o[0],Math.min(o[1],O.k*Math.pow(2,r.apply(this,arguments)))),I=oe(M);if(C.wheel)(C.mouse[0][0]!==I[0]||C.mouse[0][1]!==I[1])&&(C.mouse[1]=O.invert(C.mouse[0]=I)),clearTimeout(C.wheel);else{if(O.k===B)return;C.mouse=[I,O.invert(I)],yn(this),C.start()}Or(M),C.wheel=setTimeout(R,m),C.zoom("mouse",n(b(_(O,B),C.mouse[0],C.mouse[1]),C.extent,a));function R(){C.wheel=null,C.end()}}function N(M,...S){if(f||!t.apply(this,arguments))return;var C=M.currentTarget,O=x(this,S,!0).event(M),B=Ft(M.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",F,!0),I=oe(M,C),R=M.clientX,j=M.clientY;pa(M.view),Ls(M),O.mouse=[I,this.__zoom.invert(I)],yn(this),O.start();function z(G){if(Or(G),!O.moved){var H=G.clientX-R,J=G.clientY-j;O.moved=H*H+J*J>v}O.event(G).zoom("mouse",n(b(O.that.__zoom,O.mouse[0]=oe(G,C),O.mouse[1]),O.extent,a))}function F(G){B.on("mousemove.zoom mouseup.zoom",null),ga(G.view,O.moved),Or(G),O.event(G).end()}}function k(M,...S){if(t.apply(this,arguments)){var C=this.__zoom,O=oe(M.changedTouches?M.changedTouches[0]:M,this),B=C.invert(O),I=C.k*(M.shiftKey?.5:2),R=n(b(_(C,I),O,B),e.apply(this,S),a);Or(M),s>0?Ft(this).transition().duration(s).call(w,R,O,M):Ft(this).call(g.transform,R,O,M)}}function P(M,...S){if(t.apply(this,arguments)){var C=M.touches,O=C.length,B=x(this,S,M.changedTouches.length===O).event(M),I,R,j,z;for(Ls(M),R=0;R<O;++R)j=C[R],z=oe(j,this),z=[z,this.__zoom.invert(z),j.identifier],B.touch0?!B.touch1&&B.touch0[2]!==z[2]&&(B.touch1=z,B.taps=0):(B.touch0=z,I=!0,B.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(B.taps<2&&(h=z[0],c=setTimeout(function(){c=null},d)),yn(this),B.start())}}function L(M,...S){if(this.__zooming){var C=x(this,S).event(M),O=M.changedTouches,B=O.length,I,R,j,z;for(Or(M),I=0;I<B;++I)R=O[I],j=oe(R,this),C.touch0&&C.touch0[2]===R.identifier?C.touch0[0]=j:C.touch1&&C.touch1[2]===R.identifier&&(C.touch1[0]=j);if(R=C.that.__zoom,C.touch1){var F=C.touch0[0],G=C.touch0[1],H=C.touch1[0],J=C.touch1[1],W=(W=H[0]-F[0])*W+(W=H[1]-F[1])*W,X=(X=J[0]-G[0])*X+(X=J[1]-G[1])*X;R=_(R,Math.sqrt(W/X)),j=[(F[0]+H[0])/2,(F[1]+H[1])/2],z=[(G[0]+J[0])/2,(G[1]+J[1])/2]}else if(C.touch0)j=C.touch0[0],z=C.touch0[1];else return;C.zoom("touch",n(b(R,j,z),C.extent,a))}}function T(M,...S){if(this.__zooming){var C=x(this,S).event(M),O=M.changedTouches,B=O.length,I,R;for(Ls(M),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),I=0;I<B;++I)R=O[I],C.touch0&&C.touch0[2]===R.identifier?delete C.touch0:C.touch1&&C.touch1[2]===R.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(R=oe(R,this),Math.hypot(h[0]-R[0],h[1]-R[1])<p)){var j=Ft(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return g.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:eo(+M),g):r},g.filter=function(M){return arguments.length?(t=typeof M=="function"?M:eo(!!M),g):t},g.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:eo(!!M),g):i},g.extent=function(M){return arguments.length?(e=typeof M=="function"?M:eo([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),g):e},g.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],g):[o[0],o[1]]},g.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(M){return arguments.length?(n=M,g):n},g.duration=function(M){return arguments.length?(s=+M,g):s},g.interpolate=function(M){return arguments.length?(l=M,g):l},g.on=function(){var M=u.on.apply(u,arguments);return M===u?g:M},g.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,g):Math.sqrt(v)},g.tapDistance=function(M){return arguments.length?(p=+M,g):p},g}const yM=Object.freeze(Object.defineProperty({__proto__:null,Adder:Nt,Delaunay:hl,FormatSpecifier:$a,InternMap:ei,InternSet:bn,Node:$n,Path:Ti,Voronoi:d0,ZoomTransform:Me,active:dw,arc:m9,area:Lp,areaRadial:xh,ascending:wt,autoType:L3,axisBottom:r2,axisLeft:i2,axisRight:n2,axisTop:e2,bin:hc,bisect:Ke,bisectCenter:Zm,bisectLeft:Jm,bisectRight:Ke,bisector:ua,blob:D3,blur:Km,blur2:Yh,blurImage:Qm,brush:Aw,brushSelection:Mw,brushX:Tw,brushY:Sw,buffer:V3,chord:Cw,chordDirected:kw,chordTranspose:Nw,cluster:o6,color:Qe,contourDensity:n3,contours:su,count:la,create:By,creator:ha,cross:av,csv:Y3,csvFormat:A3,csvFormatBody:$3,csvFormatRow:N3,csvFormatRows:C3,csvFormatValue:k3,csvParse:g0,csvParseRows:S3,cubehelix:ye,cumsum:sv,curveBasis:L9,curveBasisClosed:z9,curveBasisOpen:B9,curveBumpX:Fp,curveBumpY:Vp,curveBundle:D9,curveCardinal:F9,curveCardinalClosed:V9,curveCardinalOpen:G9,curveCatmullRom:H9,curveCatmullRomClosed:Y9,curveCatmullRomOpen:U9,curveLinear:Ha,curveLinearClosed:q9,curveMonotoneX:W9,curveMonotoneY:X9,curveNatural:J9,curveStep:Z9,curveStepAfter:Q9,curveStepBefore:K9,descending:Gh,deviation:Wh,difference:Gv,disjoint:Hv,dispatch:kn,drag:Wy,dragDisable:pa,dragEnable:ga,dsv:H3,dsvFormat:Ta,easeBack:Ic,easeBackIn:ow,easeBackInOut:Ic,easeBackOut:aw,easeBounce:ci,easeBounceIn:rw,easeBounceInOut:iw,easeBounceOut:ci,easeCircle:Oc,easeCircleIn:q_,easeCircleInOut:Oc,easeCircleOut:W_,easeCubic:nu,easeCubicIn:B_,easeCubicInOut:nu,easeCubicOut:D_,easeElastic:Lc,easeElasticIn:sw,easeElasticInOut:uw,easeElasticOut:Lc,easeExp:jc,easeExpIn:Y_,easeExpInOut:jc,easeExpOut:U_,easeLinear:I_,easePoly:Ec,easePolyIn:F_,easePolyInOut:Ec,easePolyOut:V_,easeQuad:Pc,easeQuadIn:L_,easeQuadInOut:Pc,easeQuadOut:z_,easeSin:Rc,easeSinIn:G_,easeSinInOut:Rc,easeSinOut:H_,every:Lv,extent:Wr,fcumsum:lv,filter:Bv,flatGroup:cv,flatRollup:fv,forceCenter:Q3,forceCollide:y5,forceLink:_5,forceManyBody:N5,forceRadial:k5,forceSimulation:C5,forceX:P5,forceY:E5,get format(){return Ca},formatDefaultLocale:w0,formatLocale:_0,get formatPrefix(){return gl},formatSpecifier:hr,fsum:uv,geoAlbers:o1,geoAlbersUsa:Lx,geoArea:V5,geoAzimuthalEqualArea:zx,geoAzimuthalEqualAreaRaw:Sl,geoAzimuthalEquidistant:Bx,geoAzimuthalEquidistantRaw:Al,geoBounds:U5,geoCentroid:K5,geoCircle:Q5,geoClipAntimeridian:_u,geoClipCircle:G0,geoClipExtent:ax,geoClipRectangle:Na,geoConicConformal:Fx,geoConicConformalRaw:u1,geoConicEqualArea:ta,geoConicEqualAreaRaw:i1,geoConicEquidistant:Gx,geoConicEquidistantRaw:l1,geoContains:dx,geoDistance:Uo,geoEqualEarth:Yx,geoEqualEarthRaw:$l,geoEquirectangular:Vx,geoEquirectangularRaw:mi,geoGnomonic:Ux,geoGnomonicRaw:Cl,geoGraticule:U0,geoGraticule10:px,geoIdentity:qx,geoInterpolate:gx,geoLength:H0,geoMercator:Dx,geoMercatorRaw:Ni,geoNaturalEarth1:Wx,geoNaturalEarth1Raw:Nl,geoOrthographic:Xx,geoOrthographicRaw:kl,geoPath:$x,geoProjection:ke,geoProjectionMutator:Ml,geoRotation:L0,geoStereographic:Jx,geoStereographicRaw:Pl,geoStream:ge,geoTransform:Cx,geoTransverseMercator:Zx,geoTransverseMercatorRaw:El,gray:ab,greatest:od,greatestIndex:Pv,group:Kh,groupSort:pv,groups:Qh,hcl:$o,hierarchy:Rl,histogram:hc,hsl:To,html:Z3,image:q3,index:hv,indexes:dv,interpolate:an,interpolateArray:hb,interpolateBasis:Od,interpolateBasisClosed:Id,interpolateBlues:G7,interpolateBrBG:x7,interpolateBuGn:P7,interpolateBuPu:E7,interpolateCividis:X7,interpolateCool:K7,interpolateCubehelix:$b,interpolateCubehelixDefault:J7,interpolateCubehelixLong:_a,interpolateDate:Vd,interpolateDiscrete:gb,interpolateGnBu:R7,interpolateGreens:H7,interpolateGreys:Y7,interpolateHcl:Sb,interpolateHclLong:Ab,interpolateHsl:xb,interpolateHslLong:Mb,interpolateHue:mb,interpolateInferno:a9,interpolateLab:Tb,interpolateMagma:o9,interpolateNumber:le,interpolateNumberArray:el,interpolateObject:Gd,interpolateOrRd:j7,interpolateOranges:W7,interpolatePRGn:M7,interpolatePiYG:T7,interpolatePlasma:s9,interpolatePuBu:I7,interpolatePuBuGn:O7,interpolatePuOr:S7,interpolatePuRd:L7,interpolatePurples:U7,interpolateRainbow:Q7,interpolateRdBu:A7,interpolateRdGy:$7,interpolateRdPu:z7,interpolateRdYlBu:C7,interpolateRdYlGn:N7,interpolateReds:q7,interpolateRgb:si,interpolateRgbBasis:Bd,interpolateRgbBasisClosed:fb,interpolateRound:ba,interpolateSinebow:n9,interpolateSpectral:k7,interpolateString:nl,interpolateTransformCss:Ud,interpolateTransformSvg:qd,interpolateTurbo:r9,interpolateViridis:i9,interpolateWarm:Z7,interpolateYlGn:D7,interpolateYlGnBu:B7,interpolateYlOrBr:F7,interpolateYlOrRd:V7,interpolateZoom:Wd,interrupt:yn,intersection:Yv,interval:Eb,isoFormat:n7,isoParse:i7,json:X3,lab:Ao,lch:sb,least:kv,leastIndex:ud,line:Ql,lineRadial:wh,link:Ya,linkHorizontal:S9,linkRadial:$9,linkVertical:A9,local:_d,map:Dv,matcher:Wu,max:ni,maxIndex:Hu,mean:xv,median:Mv,medianIndex:Tv,merge:Uu,min:wo,minIndex:Yu,mode:Av,namespace:wi,namespaces:Us,nice:Vu,now:Mi,pack:O6,packEnclose:N6,packSiblings:R6,pairs:$v,partition:I6,path:fl,pathRound:Rw,permute:id,pie:_9,piecewise:Kd,pointRadial:qr,pointer:oe,pointers:Fy,polygonArea:K6,polygonCentroid:Q6,polygonContains:r4,polygonHull:n4,polygonLength:i4,precisionFixed:x0,precisionPrefix:M0,precisionRound:T0,quadtree:Aa,quantile:ri,quantileIndex:sd,quantileSorted:ad,quantize:Cb,quickselect:ca,radialArea:xh,radialLine:wh,randomBates:u4,randomBernoulli:f4,randomBeta:x1,randomBinomial:M1,randomCauchy:d4,randomExponential:l4,randomGamma:Il,randomGeometric:w1,randomInt:a4,randomIrwinHall:_1,randomLcg:y4,randomLogNormal:s4,randomLogistic:p4,randomNormal:Ol,randomPareto:c4,randomPoisson:g4,randomUniform:o4,randomWeibull:h4,range:Xe,rank:Nv,reduce:Fv,reverse:Vv,rgb:ur,ribbon:Fw,ribbonArrow:Vw,rollup:ed,rollups:nd,scaleBand:zl,scaleDiverging:ap,scaleDivergingLog:sp,scaleDivergingPow:Jl,scaleDivergingSqrt:c7,scaleDivergingSymlog:up,scaleIdentity:$1,scaleImplicit:ju,scaleLinear:A1,scaleLog:N1,scaleOrdinal:Ll,scalePoint:b4,scalePow:Gl,scaleQuantile:E1,scaleQuantize:R1,scaleRadial:P1,scaleSequential:np,scaleSequentialLog:rp,scaleSequentialPow:Xl,scaleSequentialQuantile:op,scaleSequentialSqrt:l7,scaleSequentialSymlog:ip,scaleSqrt:P4,scaleSymlog:k1,scaleThreshold:j1,scaleTime:s7,scaleUtc:u7,scan:Ev,schemeAccent:h7,schemeBlues:kp,schemeBrBG:lp,schemeBuGn:yp,schemeBuPu:bp,schemeCategory10:f7,schemeDark2:d7,schemeGnBu:_p,schemeGreens:Pp,schemeGreys:Ep,schemeObservable10:p7,schemeOrRd:wp,schemeOranges:Op,schemePRGn:cp,schemePaired:g7,schemePastel1:m7,schemePastel2:v7,schemePiYG:fp,schemePuBu:Mp,schemePuBuGn:xp,schemePuOr:hp,schemePuRd:Tp,schemePurples:Rp,schemeRdBu:dp,schemeRdGy:pp,schemeRdPu:Sp,schemeRdYlBu:gp,schemeRdYlGn:mp,schemeReds:jp,schemeSet1:y7,schemeSet2:b7,schemeSet3:_7,schemeSpectral:vp,schemeTableau10:w7,schemeYlGn:$p,schemeYlGnBu:Ap,schemeYlOrBr:Cp,schemeYlOrRd:Np,select:Ft,selectAll:Vy,selection:Pn,selector:da,selectorAll:qu,shuffle:Rv,shuffler:ld,some:zv,sort:Gs,stack:nM,stackOffsetDiverging:iM,stackOffsetExpand:rM,stackOffsetNone:br,stackOffsetSilhouette:oM,stackOffsetWiggle:aM,stackOrderAppearance:hg,stackOrderAscending:dg,stackOrderDescending:uM,stackOrderInsideOut:lM,stackOrderNone:_r,stackOrderReverse:cM,stratify:D6,style:xn,subset:qv,sum:jv,superset:fd,svg:K3,symbol:I9,symbolAsterisk:Gp,symbolCircle:Ua,symbolCross:Hp,symbolDiamond:Up,symbolDiamond2:qp,symbolPlus:Wp,symbolSquare:Xp,symbolSquare2:Jp,symbolStar:Kp,symbolTimes:Lu,symbolTriangle:Qp,symbolTriangle2:tg,symbolWye:eg,symbolX:Lu,symbols:Mh,symbolsFill:Mh,symbolsStroke:O9,text:Sa,thresholdFreedmanDiaconis:_v,thresholdScott:wv,thresholdSturges:Gu,tickFormat:S1,tickIncrement:wn,tickStep:_o,ticks:_n,timeDay:Sr,timeDays:L4,get timeFormat(){return Ul},timeFormatDefaultLocale:tp,timeFormatLocale:W1,timeFriday:L1,timeFridays:H4,timeHour:Oa,timeHours:O4,timeInterval:At,timeMillisecond:mr,timeMilliseconds:ih,timeMinute:Ra,timeMinutes:R4,timeMonday:vi,timeMondays:D4,timeMonth:La,timeMonths:K4,get timeParse(){return Q1},timeSaturday:z1,timeSaturdays:Y4,timeSecond:Ve,timeSeconds:ah,timeSunday:vr,timeSundays:sh,timeThursday:Cn,timeThursdays:G4,timeTickInterval:q1,timeTicks:U1,timeTuesday:O1,timeTuesdays:F4,timeWednesday:I1,timeWednesdays:V4,timeWeek:vr,timeWeeks:sh,timeYear:$e,timeYears:t8,timeout:Ks,timer:xa,timerFlush:e0,transition:o0,transpose:cd,tree:q6,treemap:W6,treemapBinary:X6,treemapDice:ki,treemapResquarify:Z6,treemapSlice:Pa,treemapSliceDice:J6,treemapSquarify:b1,tsv:U3,tsvFormat:E3,tsvFormatBody:R3,tsvFormatRow:O3,tsvFormatRows:j3,tsvFormatValue:I3,tsvParse:m0,tsvParseRows:P3,union:Wv,unixDay:Yl,unixDays:B4,utcDay:Ei,utcDays:z4,get utcFormat(){return Ba},utcFriday:F1,utcFridays:J4,utcHour:Ia,utcHours:I4,utcMillisecond:mr,utcMilliseconds:ih,utcMinute:ja,utcMinutes:j4,utcMonday:yi,utcMondays:U4,utcMonth:za,utcMonths:Q4,get utcParse(){return ql},utcSaturday:V1,utcSaturdays:Z4,utcSecond:Ve,utcSeconds:ah,utcSunday:yr,utcSundays:uh,utcThursday:Nn,utcThursdays:X4,utcTickInterval:Y1,utcTicks:H1,utcTuesday:B1,utcTuesdays:q4,utcWednesday:D1,utcWednesdays:W4,utcWeek:yr,utcWeeks:uh,utcYear:Ce,utcYears:e8,variance:qh,window:Xu,xml:J3,zip:Iv,zoom:vM,zoomIdentity:Xa,zoomTransform:gg},Symbol.toStringTag,{value:"Module"})),Ja=Ig(yM);var je={},zs={},Nh;function mg(){return Nh||(Nh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultArc=t.getArcWidthByType=t.defaultSubArcs=void 0;var e=Ar();t.defaultSubArcs=[{limit:33,color:"#5BE12C"},{limit:66,color:"#F5CD19"},{color:"#EA4228"}];var n=function(r){var i,o=(i={},i[e.GaugeType.Grafana]=.25,i[e.GaugeType.Semicircle]=.15,i[e.GaugeType.Radial]=.2,i);return r||(r=e.defaultGaugeProps.type),o[r]};t.getArcWidthByType=n,t.defaultArc={padding:.05,width:.25,cornerRadius:7,nbSubArcs:void 0,emptyColor:"#5C5C5C",colorArray:void 0,subArcs:t.defaultSubArcs,gradient:!1}}(zs)),zs}var vg={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.defaultTickLabels=void 0;var bM={color:"rgb(173 172 171)",length:7,width:1,distanceFromArc:3,hide:!1},_M={formatTextValue:void 0,maxDecimalDigits:2,style:{fontSize:"10px",fill:"rgb(173 172 171)"},hide:!1},wM=[];ji.defaultTickLabels={type:"outer",hideMinMax:!1,ticks:wM,defaultTickValueConfig:_M,defaultTickLineConfig:bM};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLabels=t.defaultValueLabel=void 0;var e=ji;t.defaultValueLabel={formatTextValue:void 0,matchColorWithArc:!1,maxDecimalDigits:2,style:{fontSize:"35px",fill:"#fff",textShadow:"black 1px 0.5px 0px, black 0px 0px 0.03em, black 0px 0px 0.01em"},hide:!1},t.defaultLabels={valueLabel:t.defaultValueLabel,tickLabels:e.defaultTickLabels}})(vg);var Za={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPointer=t.defaultPointerRef=t.defaultPointerContext=t.PointerType=void 0;var e;(function(n){n.Needle="needle",n.Blob="blob",n.Arrow="arrow"})(e||(t.PointerType=e={})),t.defaultPointerContext={centerPoint:[0,0],pointerRadius:0,pathLength:0,currentPercent:0,prevPercent:0,prevProgress:0,pathStr:"",shouldDrawPath:!1,prevColor:""},t.defaultPointerRef={element:void 0,path:void 0,context:t.defaultPointerContext},t.defaultPointer={type:e.Needle,color:"#5A5A5A",baseColor:"white",length:.7,width:20,animate:!0,elastic:!1,hide:!1,animationDuration:3e3,animationDelay:100}})(Za);var kh;function Ar(){if(kh)return je;kh=1,Object.defineProperty(je,"__esModule",{value:!0}),je.getGaugeMarginByType=je.defaultGaugeProps=je.GaugeType=void 0;var t=mg(),e=vg,n=Za,r;(function(o){o.Semicircle="semicircle",o.Radial="radial",o.Grafana="grafana"})(r||(je.GaugeType=r={})),je.defaultGaugeProps={id:"",className:"gauge-component-class",style:{width:"100%"},marginInPercent:.07,value:33,minValue:0,maxValue:100,arc:t.defaultArc,labels:e.defaultLabels,pointer:n.defaultPointer,type:r.Grafana};var i=function(o){var a,s=(a={},a[r.Grafana]={top:.12,bottom:0,left:.07,right:.07},a[r.Semicircle]={top:.08,bottom:0,left:.08,right:.08},a[r.Radial]={top:.07,bottom:0,left:.07,right:.07},a);return s[o]};return je.getGaugeMarginByType=i,je}var yg={},Bs={},$r={};(function(t){var e=ut&&ut.__assign||function(){return e=Object.assign||function(f){for(var d,m=1,v=arguments.length;m<v;m++){d=arguments[m];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])}return f},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.camelCaseToKebabCase=t.getCurrentGaugeValueByPercentage=t.getCurrentGaugePercentageByValue=t.degToRad=t.normalize=t.floatingNumber=t.percentToRad=t.mergeObjects=t.isEmptyObject=t.calculatePercentage=void 0;var n=function(f,d,m){if(m<f)return 0;if(m>d)return 1;var v=(m-f)/(d-f);return v};t.calculatePercentage=n;var r=function(f){return Object.keys(f).length===0&&f.constructor===Object};t.isEmptyObject=r;var i=function(f,d){var m=e({},f);return Object.keys(d).forEach(function(v){var p=f[v],g=d[v];Array.isArray(p)&&Array.isArray(g)?m[v]=g:typeof p=="object"&&typeof g=="object"?m[v]=(0,t.mergeObjects)(p,g):g!==void 0&&(m[v]=g)}),m};t.mergeObjects=i;var o=function(f,d){return f*(Math.PI/d)};t.percentToRad=o;var a=function(f,d){return d===void 0&&(d=2),Math.round(f*Math.pow(10,d))/Math.pow(10,d)};t.floatingNumber=a;function s(f,d,m){return(f-d)/(m-d)*100}t.normalize=s;var l=function(f){return f*(Math.PI/180)};t.degToRad=l;var u=function(f,d){return(0,t.calculatePercentage)(d.minValue,d.maxValue,f)};t.getCurrentGaugePercentageByValue=u;var c=function(f,d){var m=d.props.minValue,v=d.props.maxValue,p=m+f*(v-m);return p};t.getCurrentGaugeValueByPercentage=c;var h=function(f){return f.replace(/[A-Z]/g,function(d){return"-".concat(d.toLowerCase())})};t.camelCaseToKebabCase=h})($r);var oc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0,t.CONSTANTS={arcTooltipClassname:"gauge-component-arc-tooltip",tickLineClassname:"tick-line",tickValueClassname:"tick-value",valueLabelClassname:"value-text",debugTicksRadius:!1,debugSingleGauge:!1,rangeBetweenCenteredTickValueLabel:[.35,.65]},t.default=t.CONSTANTS})(oc);var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.defaultTooltipStyle=void 0;Ka.defaultTooltipStyle={borderColor:"#5A5A5A",borderStyle:"solid",borderWidth:"1px",borderRadius:"5px",color:"white",padding:"5px",fontSize:"15px",textShadow:"1px 1px 2px black, 0 0 1em black, 0 0 0.2em black"};var Ph;function wr(){return Ph||(Ph=1,function(t){var e=ut&&ut.__createBinding||(Object.create?function(R,j,z,F){F===void 0&&(F=z);var G=Object.getOwnPropertyDescriptor(j,z);(!G||("get"in G?!j.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return j[z]}}),Object.defineProperty(R,F,G)}:function(R,j,z,F){F===void 0&&(F=z),R[F]=j[z]}),n=ut&&ut.__setModuleDefault||(Object.create?function(R,j){Object.defineProperty(R,"default",{enumerable:!0,value:j})}:function(R,j){R.default=j}),r=ut&&ut.__importStar||function(R){if(R&&R.__esModule)return R;var j={};if(R!=null)for(var z in R)z!=="default"&&Object.prototype.hasOwnProperty.call(R,z)&&e(j,R,z);return n(j,R),j},i=ut&&ut.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateArcs=t.clearOuterArcs=t.clearArcs=t.redrawArcs=t.getCoordByValue=t.createGradientElement=t.getColors=t.applyGradientColors=t.getArcDataByPercentage=t.getArcDataByValue=t.applyColors=t.setupTooltip=t.setupArcs=t.drawArc=t.setArcData=t.hideTooltip=void 0;var o=r($r),a=Ja,s=r(wr()),l=i(oc),u=Ka,c=Ar(),h=sm,f=function(R,j,z){if(j.data.tooltip!=null){var F=j.data.tooltip.text!=z.tooltip.current.text();F&&(z.tooltip.current.html(j.data.tooltip.text).style("position","absolute").style("display","block").style("opacity",1),d(j.data.tooltip,j.data.color,z)),z.tooltip.current.style("left",R.pageX+15+"px").style("top",R.pageY-10+"px")}j.data.onMouseMove!=null&&j.data.onMouseMove(R)},d=function(R,j,z){Object.entries(u.defaultTooltipStyle).forEach(function(F){var G=F[0],H=F[1];return z.tooltip.current.style(o.camelCaseToKebabCase(G),H)}),z.tooltip.current.style("background-color",j),R.style!=null&&Object.entries(R.style).forEach(function(F){var G=F[0],H=F[1];return z.tooltip.current.style(o.camelCaseToKebabCase(G),H)})},m=function(R,j,z,F){F.cancel(),(0,t.hideTooltip)(z),j.data.onMouseLeave!=null&&j.data.onMouseLeave(R)},v=function(R){R.tooltip.current.html(" ").style("display","none")};t.hideTooltip=v;var p=function(R,j,z){R.target.style.stroke="none"},g=function(R,j){j.data.onMouseClick!=null&&j.data.onMouseClick(R)},_=function(R){var j,z,F=R.props.arc,G=R.props.minValue,H=R.props.maxValue,J=(F==null?void 0:F.nbSubArcs)||((j=F==null?void 0:F.subArcs)===null||j===void 0?void 0:j.length)||1,W=(0,t.getColors)(J,R);if(F!=null&&F.subArcs&&!(F!=null&&F.nbSubArcs)){var X=0,V=0,Y=[],K=[],D=[];(z=F==null?void 0:F.subArcs)===null||z===void 0||z.forEach(function(at,rt){var q,it=0,Tt=0,gt=at.limit;if(at.length!=null)it=at.length,gt=o.getCurrentGaugeValueByPercentage(it+V,R);else if(at.limit==null){Tt=X;var ht=void 0,pt=(q=F==null?void 0:F.subArcs)===null||q===void 0?void 0:q.slice(rt),St=(1-o.calculatePercentage(G,H,X))*100;ht||(ht=St/Math.max((pt==null?void 0:pt.length)||1,1)/100),gt=X+ht*100,it=ht}else Tt=gt-X,rt!==0?it=o.calculatePercentage(G,H,gt)-V:it=o.calculatePercentage(G,H,Tt);Y.push(it),K.push(gt),V=Y.reduce(function(Vt,In){return Vt+In},0),X=gt,at.tooltip!=null&&D.push(at.tooltip)});var tt=F.subArcs;R.arcData.current=Y.map(function(at,rt){return{value:at,limit:K[rt],color:W[rt],showTick:tt[rt].showTick||!1,tooltip:tt[rt].tooltip||void 0,onMouseMove:tt[rt].onMouseMove,onMouseLeave:tt[rt].onMouseLeave,onMouseClick:tt[rt].onClick}})}else{var ot=H/J;R.arcData.current=Array.from({length:J},function(at,rt){return{value:ot,limit:(rt+1)*ot,color:W[rt],tooltip:void 0}})}};t.setArcData=_;var b=function(R,j){var z;j===void 0&&(j=void 0);var F=j??o.calculatePercentage(R.props.minValue,R.props.maxValue,R.props.value),G=(0,t.getArcDataByPercentage)(F,R),H={value:F,color:(G==null?void 0:G.color)||"white"},J={value:1-F,color:(z=R.props.arc)===null||z===void 0?void 0:z.emptyColor};return[H,J]},y=function(R,j){j===void 0&&(j=!1);var z=R.dimensions.current.outerRadius;if(R.props.type==c.GaugeType.Grafana&&j){R.doughnut.current.selectAll(".outerSubArc").remove();var F=(0,a.arc)().outerRadius(z+7).innerRadius(z+2).cornerRadius(0).padAngle(0),G=R.doughnut.current.selectAll("anyString").data(R.pieChart.current(R.arcData.current)).enter().append("g").attr("class","outerSubArc"),H=G.append("path").attr("d",F);(0,t.applyColors)(H,R);var J=(0,h.throttle)(function(W,X){return f(W,X,R)},20);G.on("mouseleave",function(W,X){return m(W,X,R,J)}).on("mouseout",function(W,X){return p(W)}).on("mousemove",J).on("click",function(W,X){return g(W,X)})}},w=function(R,j){var z,F;j===void 0&&(j=void 0);var G=R.props.arc,H=G.padding,J=G.cornerRadius,W=R.dimensions.current,X=W.innerRadius,V=W.outerRadius,Y={};!((F=(z=R.props)===null||z===void 0?void 0:z.arc)===null||F===void 0)&&F.gradient?Y=[{value:1}]:Y=R.arcData.current,R.props.type==c.GaugeType.Grafana&&(Y=b(R,j));var K=R.props.type==c.GaugeType.Grafana?0:H,D=R.props.type==c.GaugeType.Grafana?0:J,tt=(0,a.arc)().outerRadius(V).innerRadius(X).cornerRadius(D).padAngle(K),ot=R.doughnut.current.selectAll("anyString").data(R.pieChart.current(Y)).enter().append("g").attr("class","subArc"),at=ot.append("path").attr("d",tt);(0,t.applyColors)(at,R);var rt=(0,h.throttle)(function(q,it){return f(q,it,R)},20);ot.on("mouseleave",function(q,it){return m(q,it,R,rt)}).on("mouseout",function(q,it){return p(q)}).on("mousemove",rt).on("click",function(q,it){return g(q,it)})};t.drawArc=w;var x=function(R,j){j===void 0&&(j=!1),(0,t.setupTooltip)(R),y(R,j),(0,t.drawArc)(R)};t.setupArcs=x;var A=function(R){var j=document.getElementsByClassName(l.default.arcTooltipClassname).length!=0;j||(0,a.select)("body").append("div").attr("class",l.default.arcTooltipClassname),R.tooltip.current=(0,a.select)(".".concat(l.default.arcTooltipClassname)),R.tooltip.current.on("mouseleave",function(){return s.hideTooltip(R)}).on("mouseout",function(){return s.hideTooltip(R)})};t.setupTooltip=A;var $=function(R,j){var z,F;if(!((F=(z=j.props)===null||z===void 0?void 0:z.arc)===null||F===void 0)&&F.gradient){var G="subArc-linear-gradient-".concat(Math.random()),H=(0,t.createGradientElement)(j.doughnut.current,G);(0,t.applyGradientColors)(H,j),R.style("fill",function(J){return"url(#".concat(G,")")})}else R.style("fill",function(J){return J.data.color})};t.applyColors=$;var N=function(R,j){return j.arcData.current.find(function(z){return R<=z.limit})};t.getArcDataByValue=N;var k=function(R,j){return(0,t.getArcDataByValue)(o.getCurrentGaugeValueByPercentage(R,j),j)};t.getArcDataByPercentage=k;var P=function(R,j){j.arcData.current.forEach(function(z){var F,G,H,J,W=o.normalize(z==null?void 0:z.limit,(G=(F=j==null?void 0:j.props)===null||F===void 0?void 0:F.minValue)!==null&&G!==void 0?G:0,(J=(H=j==null?void 0:j.props)===null||H===void 0?void 0:H.maxValue)!==null&&J!==void 0?J:100);R.append("stop").attr("offset","".concat(W,"%")).style("stop-color",z.color).style("stop-opacity",1)})};t.applyGradientColors=P;var L=function(R,j){var z,F=j.props.arc,G=[];if(F.colorArray)G=F.colorArray;else{var H=(z=F.subArcs)===null||z===void 0?void 0:z.map(function(Y){return Y.color});G=H!=null&&H.some(function(Y){return Y!=null})?H:l.default.defaultColors}G||(G=["#fff"]);var J=R===(G==null?void 0:G.length);if(J)return G;for(var W=(0,a.scaleLinear)().domain([1,R]).range([G[0],G[G.length-1]]).interpolate(a.interpolateHsl),X=[],V=1;V<=R;V++)X.push(W(V));return X};t.getColors=L;var T=function(R,j){var z=R.append("defs").append("linearGradient").attr("id",j).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");return z};t.createGradientElement=T;var M=function(R,j,z,F,G){var H;z===void 0&&(z="inner"),F===void 0&&(F=0),G===void 0&&(G=1);var J={outer:function(){return j.dimensions.current.outerRadius-F+2},inner:function(){return j.dimensions.current.innerRadius*G-F+9},between:function(){var gt=j.dimensions.current.outerRadius-j.dimensions.current.innerRadius,ht=j.dimensions.current.innerRadius+gt-5;return ht}},W=J[z]();j.props.type===c.GaugeType.Grafana?W+=5:j.props.type===c.GaugeType.Semicircle&&(W+=-2);var X=o.calculatePercentage(j.props.minValue,j.props.maxValue,R),V=(H={},H[c.GaugeType.Grafana]={startAngle:o.degToRad(-23),endAngle:o.degToRad(203)},H[c.GaugeType.Semicircle]={startAngle:o.degToRad(.9),endAngle:o.degToRad(179.1)},H[c.GaugeType.Radial]={startAngle:o.degToRad(-39),endAngle:o.degToRad(219)},H),Y=V[j.props.type],K=Y.startAngle,D=Y.endAngle,tt=K+X*(D-K),ot=1*(j.dimensions.current.width/500),at=[0,-ot/2],rt=[at[0]-W*Math.cos(tt),at[1]-W*Math.sin(tt)],q=[j.dimensions.current.outerRadius,j.dimensions.current.outerRadius],it=q[0]+rt[0],Tt=q[1]+rt[1];return{x:it,y:Tt}};t.getCoordByValue=M;var S=function(R){(0,t.clearArcs)(R),(0,t.setArcData)(R),(0,t.setupArcs)(R)};t.redrawArcs=S;var C=function(R){R.doughnut.current.selectAll(".subArc").remove()};t.clearArcs=C;var O=function(R){R.doughnut.current.selectAll(".outerSubArc").remove()};t.clearOuterArcs=O;var B=function(R){I(R)};t.validateArcs=B;var I=function(R){for(var j,z=R.props.minValue,F=R.props.maxValue,G=R.props.arc,H=G.subArcs,J=void 0,W=0,X=((j=R.props.arc)===null||j===void 0?void 0:j.subArcs)||[];W<X.length;W++){var V=X[W],Y=V.limit;if(typeof Y<"u"){if(Y<z||Y>F)throw new Error("The limit of a subArc must be between the minValue and maxValue. The limit of the subArc is ".concat(Y));if(typeof J<"u"&&Y<=J)throw new Error("The limit of a subArc must be greater than the limit of the previous subArc. The limit of the subArc is ".concat(Y,`. If you're trying to specify length in percent of the arc, use property "length". refer to: https://github.com/antoniolago/react-gauge-component`));J=Y}}if(H.length>0){var K=H[H.length-1];K.limit<F&&(K.limit=F)}}}(Bs)),Bs}var bg={};(function(t){var e=ut&&ut.__assign||function(){return e=Object.assign||function(T){for(var M,S=1,C=arguments.length;S<C;S++){M=arguments[S];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(T[O]=M[O])}return T},e.apply(this,arguments)},n=ut&&ut.__createBinding||(Object.create?function(T,M,S,C){C===void 0&&(C=S);var O=Object.getOwnPropertyDescriptor(M,S);(!O||("get"in O?!M.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return M[S]}}),Object.defineProperty(T,C,O)}:function(T,M,S,C){C===void 0&&(C=S),T[C]=M[S]}),r=ut&&ut.__setModuleDefault||(Object.create?function(T,M){Object.defineProperty(T,"default",{enumerable:!0,value:M})}:function(T,M){T.default=M}),i=ut&&ut.__importStar||function(T){if(T&&T.__esModule)return T;var M={};if(T!=null)for(var S in T)S!=="default"&&Object.prototype.hasOwnProperty.call(T,S)&&n(M,T,S);return r(M,T),M},o=ut&&ut.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAnchorAndAngleByValue=t.clearTicks=t.clearValueLabel=t.addValueText=t.addText=t.getLabelCoordsByValue=t.addTick=t.addTickValue=t.addTickLine=t.mapTick=t.addArcTicks=t.setupTicks=t.setupValueLabel=t.setupLabels=void 0;var a=i($r),s=o(oc),l=ji,u=i(Ja),c=Ar(),h=wr(),f=function(T){(0,t.setupValueLabel)(T),(0,t.setupTicks)(T)};t.setupLabels=f;var d=function(T){var M,S=T.props.labels;!((M=S==null?void 0:S.valueLabel)===null||M===void 0)&&M.hide||(0,t.addValueText)(T)};t.setupValueLabel=d;var m=function(T){var M,S,C,O,B,I,R,j,z,F=T.props.labels,G=T.props.minValue,H=T.props.maxValue;if(s.default.debugTicksRadius)for(var J=0;J<H;J++){var W=(0,t.mapTick)(J,T);(0,t.addTick)(W,T)}else if(!(!((M=F.tickLabels)===null||M===void 0)&&M.hideMinMax)){var X=(C=(S=F.tickLabels)===null||S===void 0?void 0:S.ticks)===null||C===void 0?void 0:C.some(function(D){return D.value==G});if(!X){var V=(0,t.mapTick)(G,T);(0,t.addTick)(V,T)}var Y=(B=(O=F.tickLabels)===null||O===void 0?void 0:O.ticks)===null||B===void 0?void 0:B.some(function(D){return D.value==H});if(!Y){var K=(0,t.mapTick)(H,T);(0,t.addTick)(K,T)}}((R=(I=F.tickLabels)===null||I===void 0?void 0:I.ticks)===null||R===void 0?void 0:R.length)>0&&((z=(j=F.tickLabels)===null||j===void 0?void 0:j.ticks)===null||z===void 0||z.forEach(function(D){(0,t.addTick)(D,T)})),(0,t.addArcTicks)(T)};t.setupTicks=m;var v=function(T){var M;(M=T.arcData.current)===null||M===void 0||M.map(function(S){if(S.showTick)return S.limit}).forEach(function(S){S&&(0,t.addTick)((0,t.mapTick)(S,T),T)})};t.addArcTicks=v;var p=function(T,M){var S=M.props.labels.tickLabels;return{value:T,valueConfig:S==null?void 0:S.defaultTickValueConfig,lineConfig:S==null?void 0:S.defaultTickLineConfig}};t.mapTick=p;var g=function(T,M){var S,C,O,B,I,R,j,z,F,G,H,J,W,X,V,Y,K,D,tt=M.props.labels,ot=(0,t.calculateAnchorAndAngleByValue)(T==null?void 0:T.value,M);ot.tickAnchor;var at=ot.angle,rt=((S=T.lineConfig)===null||S===void 0?void 0:S.distanceFromArc)||((O=(C=tt==null?void 0:tt.tickLabels)===null||C===void 0?void 0:C.defaultTickLineConfig)===null||O===void 0?void 0:O.distanceFromArc)||0;((I=(B=M.props.labels)===null||B===void 0?void 0:B.tickLabels)===null||I===void 0?void 0:I.type)=="outer"&&(rt=-rt);var q=(0,t.getLabelCoordsByValue)(T==null?void 0:T.value,M,rt),it=((R=T.lineConfig)===null||R===void 0?void 0:R.color)||((z=(j=tt==null?void 0:tt.tickLabels)===null||j===void 0?void 0:j.defaultTickLineConfig)===null||z===void 0?void 0:z.color)||((F=l.defaultTickLabels.defaultTickLineConfig)===null||F===void 0?void 0:F.color),Tt=((G=T.lineConfig)===null||G===void 0?void 0:G.width)||((J=(H=tt==null?void 0:tt.tickLabels)===null||H===void 0?void 0:H.defaultTickLineConfig)===null||J===void 0?void 0:J.width)||((W=l.defaultTickLabels.defaultTickLineConfig)===null||W===void 0?void 0:W.width),gt=((X=T.lineConfig)===null||X===void 0?void 0:X.length)||((Y=(V=tt==null?void 0:tt.tickLabels)===null||V===void 0?void 0:V.defaultTickLineConfig)===null||Y===void 0?void 0:Y.length)||((K=l.defaultTickLabels.defaultTickLineConfig)===null||K===void 0?void 0:K.length),ht,pt;((D=tt==null?void 0:tt.tickLabels)===null||D===void 0?void 0:D.type)=="inner"?(ht=q.x+gt*Math.cos(at*Math.PI/180),pt=q.y+gt*Math.sin(at*Math.PI/180)):(ht=q.x-gt*Math.cos(at*Math.PI/180),pt=q.y-gt*Math.sin(at*Math.PI/180));var St=u.line(),Vt;Vt=[[q.x,q.y],[ht,pt]],M.g.current.append("path").datum(Vt).attr("class",s.default.tickLineClassname).attr("d",St).attr("stroke",it).attr("stroke-width",Tt).attr("fill","none")};t.addTickLine=g;var _=function(T,M){var S,C,O,B,I,R,j,z,F,G,H,J,W,X,V,Y,K,D=M.props.labels,tt=M.props.arc,ot=tt.width,at=T==null?void 0:T.value,rt=(0,t.calculateAnchorAndAngleByValue)(at,M).tickAnchor,q=27-ot*10,it=((S=D==null?void 0:D.tickLabels)===null||S===void 0?void 0:S.type)=="inner";it?q-=10:q=ot*10-10;var Tt=((C=T.lineConfig)===null||C===void 0?void 0:C.distanceFromArc)||((B=(O=D==null?void 0:D.tickLabels)===null||O===void 0?void 0:O.defaultTickLineConfig)===null||B===void 0?void 0:B.distanceFromArc)||0,gt=((I=T.lineConfig)===null||I===void 0?void 0:I.length)||((j=(R=D==null?void 0:D.tickLabels)===null||R===void 0?void 0:R.defaultTickLineConfig)===null||j===void 0?void 0:j.length)||0,ht=P(T,M);ht||(it?(q+=Tt,q+=gt):(q-=Tt,q-=gt));var pt=(0,t.getLabelCoordsByValue)(at,M,q),St=((z=T.valueConfig)===null||z===void 0?void 0:z.style)||((G=(F=D==null?void 0:D.tickLabels)===null||F===void 0?void 0:F.defaultTickValueConfig)===null||G===void 0?void 0:G.style)||{};St=e({},St);var Vt="",In=((H=T.valueConfig)===null||H===void 0?void 0:H.maxDecimalDigits)||((W=(J=D==null?void 0:D.tickLabels)===null||J===void 0?void 0:J.defaultTickValueConfig)===null||W===void 0?void 0:W.maxDecimalDigits);!((X=T.valueConfig)===null||X===void 0)&&X.formatTextValue?Vt=T.valueConfig.formatTextValue(a.floatingNumber(at,In)):!((Y=(V=D==null?void 0:D.tickLabels)===null||V===void 0?void 0:V.defaultTickValueConfig)===null||Y===void 0)&&Y.formatTextValue?Vt=D.tickLabels.defaultTickValueConfig.formatTextValue(a.floatingNumber(at,In)):M.props.minValue===0&&M.props.maxValue===100?(Vt=a.floatingNumber(at,In).toString(),Vt+="%"):Vt=a.floatingNumber(at,In).toString(),((K=D==null?void 0:D.tickLabels)===null||K===void 0?void 0:K.type)=="inner"?(rt==="end"&&(pt.x+=10),rt==="start"&&(pt.x-=10)):rt==="middle"&&(pt.y+=2),rt==="middle"?pt.y+=0:pt.y+=3,St.textAnchor=rt,(0,t.addText)(Vt,pt.x,pt.y,M,St,s.default.tickValueClassname)};t.addTickValue=_;var b=function(T,M){M.props.labels;var S=P(T,M),C=L(T,M);S||(0,t.addTickLine)(T,M),!s.default.debugTicksRadius&&!C&&(0,t.addTickValue)(T,M)};t.addTick=b;var y=function(T,M,S){var C;S===void 0&&(S=0);var O=M.props.labels,B=M.props.minValue,I=M.props.maxValue,R=(C=O.tickLabels)===null||C===void 0?void 0:C.type,j=(0,h.getCoordByValue)(T,M,R,S,.93),z=j.x,F=j.y;return a.calculatePercentage(B,I,T),M.props.type==c.GaugeType.Radial&&(F+=3),{x:z,y:F}};t.getLabelCoordsByValue=y;var w=function(T,M,S,C,O,B,I){I===void 0&&(I=0);var R=C.g.current.append("g").attr("class",B).attr("transform","translate(".concat(M,", ").concat(S,")")).append("text").text(T);x(R,O),R.attr("transform","rotate(".concat(I,")"))};t.addText=w;var x=function(T,M){Object.entries(M).forEach(function(S){var C=S[0],O=S[1];return T.style(a.camelCaseToKebabCase(C),O)}),M!=null&&Object.entries(M).forEach(function(S){var C=S[0],O=S[1];return T.style(a.camelCaseToKebabCase(C),O)})},A=function(T){var M,S,C,O=T.props.labels,B=T.props.value,I=O==null?void 0:O.valueLabel,R=20,j="",z=(M=O==null?void 0:O.valueLabel)===null||M===void 0?void 0:M.maxDecimalDigits,F=a.floatingNumber(B,z);I.formatTextValue?j=I.formatTextValue(F):T.props.minValue===0&&T.props.maxValue===100?(j=F.toString(),j+="%"):j=F.toString();var G=4,H=(j==null?void 0:j.length)||0,J=H>G?G/H*1.5:1,W=(S=I==null?void 0:I.style)===null||S===void 0?void 0:S.fontSize,X=e({},I.style),V=T.dimensions.current.outerRadius,Y=0;X.textAnchor="middle",T.props.type==c.GaugeType.Semicircle?Y=T.dimensions.current.outerRadius/1.5+R:T.props.type==c.GaugeType.Radial?Y=T.dimensions.current.outerRadius*1.45+R:T.props.type==c.GaugeType.Grafana&&(Y=T.dimensions.current.outerRadius*1+R);var K=(T.props.type==c.GaugeType.Radial,.003);J=T.dimensions.current.width*K*J;var D=parseInt(W,10)*J;X.fontSize=D+"px",I.matchColorWithArc&&(X.fill=((C=(0,h.getArcDataByValue)(B,T))===null||C===void 0?void 0:C.color)||"white"),(0,t.addText)(j,V,Y,T,X,s.default.valueLabelClassname)};t.addValueText=A;var $=function(T){return T.g.current.selectAll(".".concat(s.default.valueLabelClassname)).remove()};t.clearValueLabel=$;var N=function(T){T.g.current.selectAll(".".concat(s.default.tickLineClassname)).remove(),T.g.current.selectAll(".".concat(s.default.tickValueClassname)).remove()};t.clearTicks=N;var k=function(T,M){var S,C,O=M.props.labels,B=M.props.minValue,I=M.props.maxValue,R=a.calculatePercentage(B,I,T),j=(S={},S[c.GaugeType.Grafana]={startAngle:-20,endAngle:220},S[c.GaugeType.Semicircle]={startAngle:0,endAngle:180},S[c.GaugeType.Radial]={startAngle:-42,endAngle:266},S),z=j[M.props.type],F=z.startAngle,G=z.endAngle,H=F+R*100*G/100,J=R<.5,W=R>s.default.rangeBetweenCenteredTickValueLabel[0]&&R<s.default.rangeBetweenCenteredTickValueLabel[1],X="",V=((C=O==null?void 0:O.tickLabels)===null||C===void 0?void 0:C.type)=="inner";return W?X="middle":J?X=V?"start":"end":X=V?"end":"start",{tickAnchor:X,angle:H}};t.calculateAnchorAndAngleByValue=k;var P=function(T,M){var S,C,O,B,I=M.props.labels,R=(S=l.defaultTickLabels.defaultTickLineConfig)===null||S===void 0?void 0:S.hide,j=R,z=(O=(C=I==null?void 0:I.tickLabels)===null||C===void 0?void 0:C.defaultTickLineConfig)===null||O===void 0?void 0:O.hide;z!=null&&(j=z);var F=(B=T.lineConfig)===null||B===void 0?void 0:B.hide;return F!=null&&(j=F),j},L=function(T,M){var S,C,O,B,I=M.props.labels,R=(S=l.defaultTickLabels.defaultTickValueConfig)===null||S===void 0?void 0:S.hide,j=R,z=(O=(C=I==null?void 0:I.tickLabels)===null||C===void 0?void 0:C.defaultTickValueConfig)===null||O===void 0?void 0:O.hide;z!=null&&(j=z);var F=(B=T.valueConfig)===null||B===void 0?void 0:B.hide;return F!=null&&(j=F),j}})(bg);var _g={};(function(t){var e=ut&&ut.__createBinding||(Object.create?function(w,x,A,$){$===void 0&&($=A);var N=Object.getOwnPropertyDescriptor(x,A);(!N||("get"in N?!x.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return x[A]}}),Object.defineProperty(w,$,N)}:function(w,x,A,$){$===void 0&&($=A),w[$]=x[A]}),n=ut&&ut.__setModuleDefault||(Object.create?function(w,x){Object.defineProperty(w,"default",{enumerable:!0,value:x})}:function(w,x){w.default=x}),r=ut&&ut.__importStar||function(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&e(x,w,A);return n(x,w),x};Object.defineProperty(t,"__esModule",{value:!0}),t.clearPointerElement=t.addPointerElement=t.translatePointer=t.drawPointer=void 0;var i=Ja,o=Za,a=wr(),s=r($r),l=r(wr()),u=Ar(),c=function(w,x){var A;x===void 0&&(x=!1),w.pointer.current.context=h(w);var $=w.pointer.current.context,N=$.prevPercent,k=$.currentPercent,P=$.prevProgress,L=w.props.pointer,T=((A=w.prevProps)===null||A===void 0?void 0:A.current.value)==null;(T||x)&&w.props.type!=u.GaugeType.Grafana&&f(w);var M=(!x||T)&&L.animate;M?w.doughnut.current.transition().delay(L.animationDelay).ease(L.elastic?i.easeElastic:i.easeExpOut).duration(L.animationDuration).tween("progress",function(){var S=(0,i.interpolateNumber)(N,k);return function(C){var O=S(C);v(O,P)&&(w.props.type==u.GaugeType.Grafana?(l.clearArcs(w),l.drawArc(w,O)):d(O,w)),w.pointer.current.context.prevProgress=O}}):d(k,w)};t.drawPointer=c;var h=function(w){var x,A=w.props.value,$=w.props.pointer,N=$.length,k=w.props.minValue,P=w.props.maxValue;w.pointer.current.context.pointerPath;var L=g(w),T=$.type==o.PointerType.Needle?N:.2,M=[o.PointerType.Needle,o.PointerType.Arrow],S={centerPoint:[0,-L/2],pointerRadius:g(w),pathLength:w.dimensions.current.outerRadius*T,currentPercent:s.calculatePercentage(k,P,A),prevPercent:s.calculatePercentage(k,P,((x=w.prevProps)===null||x===void 0?void 0:x.current.value)||k),prevProgress:0,pathStr:"",shouldDrawPath:M.includes($.type),prevColor:""};return S},f=function(w){var x=w.props.value,A=w.props.pointer,$=w.pointer.current.context,N=$.shouldDrawPath,k=$.centerPoint,P=$.pointerRadius;$.pathStr;var L=$.currentPercent,T=$.prevPercent;N&&(w.pointer.current.context.pathStr=p(w,T||L),w.pointer.current.path=w.pointer.current.element.append("path").attr("d",w.pointer.current.context.pathStr).attr("fill",A.color)),A.type==o.PointerType.Needle?w.pointer.current.element.append("circle").attr("cx",k[0]).attr("cy",k[1]).attr("r",P).attr("fill",A.color):A.type==o.PointerType.Blob&&w.pointer.current.element.append("circle").attr("cx",k[0]).attr("cy",k[1]).attr("r",P).attr("fill",A.baseColor).attr("stroke",A.color).attr("stroke-width",8*P/10),m(P,x,w)},d=function(w,x){var A,$=x.props.pointer,N=x.pointer.current.context,k=N.pointerRadius,P=N.shouldDrawPath,L=N.prevColor;if(m(k,w,x),P&&x.props.type!=u.GaugeType.Grafana&&x.pointer.current.path.attr("d",p(x,w)),$.type==o.PointerType.Blob){var T=(A=l.getArcDataByPercentage(w,x))===null||A===void 0?void 0:A.color,M=T!=L;M&&x.pointer.current.element.select("circle").attr("stroke",T),x.pointer.current.context.prevColor=T}},m=function(w,x,A){var $,N=A.props.pointer,k=N.type,P=A.dimensions,L=s.getCurrentGaugeValueByPercentage(x,A),T=($={},$[o.PointerType.Needle]=function(){(0,t.translatePointer)(P.current.outerRadius,P.current.outerRadius,A)},$[o.PointerType.Arrow]=function(){var M=(0,a.getCoordByValue)(L,A,"inner",0,.7),S=M.x,C=M.y;S-=1,C+=w-3,(0,t.translatePointer)(S,C,A)},$[o.PointerType.Blob]=function(){var M=(0,a.getCoordByValue)(L,A,"between",0,.75),S=M.x,C=M.y;S-=1,C+=w,(0,t.translatePointer)(S,C,A)},$);return T[k]()},v=function(w,x,A){var $=w>1||w<0,N=Math.abs(w-x)<1e-4,k=w==x;return!N&&!k&&!$},p=function(w,x){var A=w.pointer.current.context,$=A.centerPoint,N=A.pointerRadius,k=A.pathLength,P=s.degToRad(w.props.type==u.GaugeType.Semicircle?0:-42),L=s.degToRad(w.props.type==u.GaugeType.Semicircle?180:223),T=P+x*(L-P),M=[$[0]-k*Math.cos(T),$[1]-k*Math.sin(T)],S=T-Math.PI/2,C=[$[0]-N*Math.cos(S),$[1]-N*Math.sin(S)],O=T+Math.PI/2,B=[$[0]-N*Math.cos(O),$[1]-N*Math.sin(O)],I="M ".concat(C[0]," ").concat(C[1]," L ").concat(M[0]," ").concat(M[1]," L ").concat(B[0]," ").concat(B[1]);return I},g=function(w){var x=w.props.pointer,A=x.width;return A*(w.dimensions.current.width/500)},_=function(w,x,A){return A.pointer.current.element.attr("transform","translate("+w+", "+x+")")};t.translatePointer=_;var b=function(w){return w.pointer.current.element=w.g.current.append("g").attr("class","pointer")};t.addPointerElement=b;var y=function(w){return w.pointer.current.element.selectAll("*").remove()};t.clearPointerElement=y})(_g);(function(t){var e=ut&&ut.__createBinding||(Object.create?function(p,g,_,b){b===void 0&&(b=_);var y=Object.getOwnPropertyDescriptor(g,_);(!y||("get"in y?!g.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(p,b,y)}:function(p,g,_,b){b===void 0&&(b=_),p[b]=g[_]}),n=ut&&ut.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),r=ut&&ut.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var _ in p)_!=="default"&&Object.prototype.hasOwnProperty.call(p,_)&&e(g,p,_);return n(g,p),g};Object.defineProperty(t,"__esModule",{value:!0}),t.clearChart=t.centerGraph=t.calculateRadius=t.updateDimensions=t.renderChart=t.calculateAngles=t.initChart=void 0;var i=Ar(),o=r(wr()),a=r(bg),s=r(_g),l=r($r),u=function(p){var g=p.dimensions.current.angles,_=JSON.stringify(p.prevProps.current.value)!==JSON.stringify(p.props.value),b=l.isEmptyObject(p.svg.current);if(_&&!b){(0,t.renderChart)(p,!1);return}p.container.current.select("svg").remove(),p.svg.current=p.container.current.append("svg"),p.g.current=p.svg.current.append("g"),p.doughnut.current=p.g.current.append("g").attr("class","doughnut"),(0,t.calculateAngles)(p),p.pieChart.current.value(function(y){return y.value}).startAngle(g.startAngle).endAngle(g.endAngle).sort(null),s.addPointerElement(p),(0,t.renderChart)(p,!0)};t.initChart=u;var c=function(p){var g=p.dimensions.current.angles;p.props.type==i.GaugeType.Semicircle?(g.startAngle=-Math.PI/2+.02,g.endAngle=Math.PI/2-.02):p.props.type==i.GaugeType.Radial?(g.startAngle=-Math.PI/1.37,g.endAngle=Math.PI/1.37):p.props.type==i.GaugeType.Grafana&&(g.startAngle=-Math.PI/1.6,g.endAngle=Math.PI/1.6)};t.calculateAngles=c;var h=function(p,g){var _,b,y,w,x,A;g===void 0&&(g=!1);var $=p.dimensions,N=p.props.arc,k=p.props.labels;if(g){(0,t.updateDimensions)(p),p.g.current.attr("transform","translate("+$.current.margin.left+", 35)"),(0,t.calculateRadius)(p),p.doughnut.current.attr("transform","translate("+$.current.outerRadius+", "+$.current.outerRadius+")"),p.doughnut.current.on("mouseleave",function(){return o.hideTooltip(p)}).on("mouseout",function(){return o.hideTooltip(p)});var P=N.width;$.current.innerRadius=$.current.outerRadius*(1-P),(0,t.clearChart)(p),o.setArcData(p),o.setupArcs(p,g),a.setupLabels(p),!((y=(b=p.props)===null||b===void 0?void 0:b.pointer)===null||y===void 0)&&y.hide||s.drawPointer(p,g);var L=(_={},_[i.GaugeType.Semicircle]=50,_[i.GaugeType.Radial]=55,_[i.GaugeType.Grafana]=55,_),T=p.doughnut.current.node().getBoundingClientRect().height,M=p.container.current.node().getBoundingClientRect().width,S=p.props.type;p.svg.current.attr("width",M).attr("height",T+L[S])}else{var C=JSON.stringify(p.prevProps.current.arc)!==JSON.stringify(p.props.arc),O=JSON.stringify(p.prevProps.current.pointer)!==JSON.stringify(p.props.pointer),B=JSON.stringify(p.prevProps.current.value)!==JSON.stringify(p.props.value),I=JSON.stringify((w=p.prevProps.current.labels)===null||w===void 0?void 0:w.tickLabels)!==JSON.stringify(k.tickLabels),R=C;R&&(o.clearArcs(p),o.setArcData(p),o.setupArcs(p,g));var j=O||B&&!(!((A=(x=p.props)===null||x===void 0?void 0:x.pointer)===null||A===void 0)&&A.hide);j&&s.drawPointer(p),(C||I)&&(a.clearTicks(p),a.setupTicks(p)),B&&(a.clearValueLabel(p),a.setupValueLabel(p))}};t.renderChart=h;var f=function(p){var g=p.props.marginInPercent,_=p.dimensions,b=p.container.current.node().getBoundingClientRect(),y=b.width,w=b.height;_.current.fixedHeight==0&&(_.current.fixedHeight=w+200);var x=typeof g=="number",A=x?g:g.left,$=x?g:g.right,N=x?g:g.top,k=x?g:g.bottom;_.current.margin.left=y*A,_.current.margin.right=y*$,_.current.width=y-_.current.margin.left-_.current.margin.right,_.current.margin.top=_.current.fixedHeight*N,_.current.margin.bottom=_.current.fixedHeight*k,_.current.height=_.current.width/2-_.current.margin.top-_.current.margin.bottom};t.updateDimensions=f;var d=function(p){var g=p.dimensions;g.current.width<2*g.current.height?g.current.outerRadius=(g.current.width-g.current.margin.left-g.current.margin.right)/2:g.current.outerRadius=g.current.height-g.current.margin.top-g.current.margin.bottom+35,(0,t.centerGraph)(p)};t.calculateRadius=d;var m=function(p){var g=p.dimensions;g.current.margin.left=g.current.width/2-g.current.outerRadius+g.current.margin.right,p.g.current.attr("transform","translate("+g.current.margin.left+", "+g.current.margin.top+")")};t.centerGraph=m;var v=function(p){a.clearTicks(p),a.clearValueLabel(p),s.clearPointerElement(p),o.clearArcs(p)};t.clearChart=v})(yg);var wg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDimensions=t.defaultAngles=t.defaultMargins=void 0,t.defaultMargins={top:0,right:0,bottom:0,left:0},t.defaultAngles={startAngle:0,endAngle:0,startAngleDeg:0,endAngleDeg:0},t.defaultDimensions={width:0,height:0,margin:t.defaultMargins,outerRadius:0,innerRadius:0,angles:t.defaultAngles,fixedHeight:0}})(wg);var ti=ut&&ut.__assign||function(){return ti=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ti.apply(this,arguments)},xM=ut&&ut.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),MM=ut&&ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ac=ut&&ut.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&xM(e,t,n);return MM(e,t),e};Object.defineProperty(_i,"__esModule",{value:!0});_i.GaugeComponent=void 0;var $t=ac(U),Eh=Ja,no=Ar(),ro=ac(yg),TM=ac(wr()),Rh=$r,SM=wg,AM=Za,$M=mg(),xg=function(t){var e,n,r,i,o=(0,$t.useRef)({}),a=(0,$t.useRef)({}),s=(0,$t.useRef)({}),l=(0,$t.useRef)({}),u=(0,$t.useRef)(!0),c=(0,$t.useRef)(0),h=(0,$t.useRef)(ti({},AM.defaultPointerRef)),f=(0,$t.useRef)({}),d=(0,$t.useRef)([]),m=(0,$t.useRef)((0,Eh.pie)()),v=(0,$t.useRef)(ti({},SM.defaultDimensions)),p=(0,$t.useRef)(t),g=(0,$t.useRef)({}),_=(0,$t.useRef)(null),b={props:p.current,prevProps:g,svg:o,g:s,dimensions:v,doughnut:l,isFirstRun:u,currentProgress:c,pointer:h,container:f,arcData:d,pieChart:m,tooltip:a},y=function(){var N,k,P=ti({},no.defaultGaugeProps);if(b.props=p.current=(0,Rh.mergeObjects)(P,t),((N=b.props.arc)===null||N===void 0?void 0:N.width)==((k=no.defaultGaugeProps.arc)===null||k===void 0?void 0:k.width)){var L=p.current.arc;L.width=(0,$M.getArcWidthByType)(b.props.type)}b.props.marginInPercent==no.defaultGaugeProps.marginInPercent&&(p.current.marginInPercent=(0,no.getGaugeMarginByType)(b.props.type)),TM.validateArcs(b)},w=function(){var N=JSON.stringify(g.current.arc)!==JSON.stringify(p.current.arc),k=JSON.stringify(g.current.pointer)!==JSON.stringify(p.current.pointer),P=JSON.stringify(g.current.value)!==JSON.stringify(p.current.value),L=JSON.stringify(g.current.minValue)!==JSON.stringify(p.current.minValue),T=JSON.stringify(g.current.maxValue)!==JSON.stringify(p.current.maxValue);return N||k||P||L||T};(0,$t.useLayoutEffect)(function(){y(),u.current=(0,Rh.isEmptyObject)(f.current),u.current&&(f.current=(0,Eh.select)(_.current)),w()&&ro.initChart(b),b.prevProps.current=p.current},[t]),(0,$t.useEffect)(function(){var N,k=new MutationObserver(function(){var P;setTimeout(function(){return window.dispatchEvent(new Event("resize"))},10),!((P=_.current)===null||P===void 0)&&P.offsetParent&&(ro.renderChart(b,!0),k.disconnect())});return k.observe((N=_.current)===null||N===void 0?void 0:N.parentNode,{attributes:!0,subtree:!1}),function(){return k.disconnect()}},[(n=(e=_.current)===null||e===void 0?void 0:e.parentNode)===null||n===void 0?void 0:n.offsetWidth,(i=(r=_.current)===null||r===void 0?void 0:r.parentNode)===null||i===void 0?void 0:i.offsetHeight]),(0,$t.useEffect)(function(){var N=function(){return ro.renderChart(b,!0)};return window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}},[t]),(0,$t.useEffect)(function(){var N=_.current;if(N){var k=function(){var L=N.parentNode;L&&ro.renderChart(b,!0)},P=new ResizeObserver(k);return N.parentNode&&P.observe(N.parentNode),function(){N.parentNode&&P.unobserve(N.parentNode)}}},[]);var x=t.id,A=t.style,$=t.className;return t.type,$t.default.createElement("div",{id:x,className:"".concat(b.props.type,"-gauge").concat($?" "+$:""),style:A,ref:function(N){return _.current=N}})};_i.GaugeComponent=xg;_i.default=xg;var CM=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sa,"__esModule",{value:!0});sa.GaugeComponent=void 0;var Mg=CM(_i);sa.GaugeComponent=Mg.default;sa.default=Mg.default;const NM=({percentage:t=0})=>{const o=Math.PI*120,a=o-t/100*o,[s,l]=U.useState(0);U.useEffect(()=>{const v=setInterval(()=>{l(p=>p>=t?(clearInterval(v),t):p+1)},10);return()=>clearInterval(v)},[t]);const u=(v,p=120)=>{const g=v/100*180,_=g*Math.PI/180,b=150+p*Math.cos(Math.PI+_),y=150+p*Math.sin(Math.PI+_);return{x:b,y,angle:g}},c=[{pos:0,color:"#E0517F"},{pos:33,color:"#7B63D6"},{pos:66,color:"#4E94E4"},{pos:100,color:"#54D699"}],h=(v,p)=>{const g=w=>w.replace(/^#/,"").match(/.{2}/g).map(x=>parseInt(x,16)),_=w=>`#${w.map(x=>x.toString(16).padStart(2,"0")).join("")}`,b=(w,x,A)=>w+A*(x-w),y=(w,x,A)=>[Math.round(b(w[0],x[0],A)),Math.round(b(w[1],x[1],A)),Math.round(b(w[2],x[2],A))];for(let w=1;w<p.length;w++)if(v<=p[w].pos){const x=p[w-1],A=p[w],$=A.pos-x.pos,N=(v-x.pos)/$,k=g(x.color),P=g(A.color),L=y(k,P,N);return _(L)}return p[p.length-1].color},f=u(s),d=u(s,120*.65),m=h(t,c);return E.jsxs("div",{style:{position:"relative",width:"100%",height:"150px"},className:"flex flex-col items-center justify-center",children:[E.jsxs("svg",{width:"300",height:"150",children:[E.jsx("path",{d:"M 30,150 A 120,120 0 0,1 270,150",fill:"#F5F5F5",stroke:"none",filter:"url(#drop-shadow)"}),E.jsxs("defs",{children:[E.jsxs("linearGradient",{id:"background-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#E0517F"}),E.jsx("stop",{offset:"33%",stopColor:"#7B63D6"}),E.jsx("stop",{offset:"66%",stopColor:"#4E94E4"}),E.jsx("stop",{offset:"100%",stopColor:"#54D699"})]}),E.jsxs("linearGradient",{id:"progress-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#E0517F"}),E.jsx("stop",{offset:"33%",stopColor:"#7B63D6"}),E.jsx("stop",{offset:"66%",stopColor:"#4E94E4"}),E.jsx("stop",{offset:"100%",stopColor:"#54D699"})]}),E.jsxs("filter",{id:"drop-shadow",x:"-100%",y:"-100%",width:"400%",height:"400%",children:[E.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"8"}),E.jsx("feOffset",{dx:"0",dy:"3"}),E.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.10 0"}),E.jsx("feGaussianBlur",{stdDeviation:"7",result:"glow"}),E.jsxs("feMerge",{children:[E.jsx("feMergeNode",{}),E.jsx("feMergeNode",{in:"glow"}),E.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),E.jsx("path",{d:"M 30,150 A 120,120 0 0,1 270,150",fill:"transparent",stroke:"url(#background-gradient)",strokeWidth:10}),E.jsx("path",{d:"M 30,150 A 120,120 0 0,1 270,150",fill:"transparent",stroke:"url(#progress-gradient)",strokeWidth:10,strokeDasharray:o,strokeDashoffset:a,style:{strokeDashoffset:a,transition:"stroke-dashoffset 1s linear"}}),E.jsx("circle",{cx:f.x,cy:f.y,r:"10",fill:"white",stroke:m,strokeWidth:"7"}),E.jsx("line",{x1:150,y1:150,x2:d.x,y2:d.y,stroke:m,strokeWidth:"7",markerEnd:"url(#arrowhead)"}),E.jsx("defs",{children:E.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"5",markerHeight:"5",orient:"auto",children:E.jsx("polygon",{points:"0,0 10,5 0,10",fill:m})})}),E.jsx("path",{d:"M 70,150 A 75,75 0 0,1 230,150",fill:"white",stroke:"none",filter:"url(#drop-shadow)"})]}),E.jsxs("div",{style:{position:"absolute",top:"80%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontSize:"1.2em"},children:[E.jsx("h2",{style:{margin:0,fontSize:"1.8em",lineHeight:"0.7",fontWeight:"bold"},className:"text-2xl",children:s}),E.jsx("p",{style:{margin:0},className:"text-sm",children:"Health Score"})]})]})};function kM(){var u,c,h,f,d,m,v,p,g,_,b,y,w,x;const{sleepData:t,elderlyDetails:e}=U.useContext(rn),[n,r]=U.useState(!1),i={:"Pass",:"Fail",:"Sleep duration is too short"},[o,a]=U.useState([]),s=A=>{const $={};return A==null||A.forEach(N=>{const{category:k}=N;$[k]||($[k]=[]),$[k].push(N)}),$};U.useEffect(()=>{a(s(e.comments))},[e]);const l=(A="")=>{var N,k,P,L;const $=A==null?void 0:A.split(" ");return`${((k=(N=$[0])==null?void 0:N[0])==null?void 0:k.toUpperCase())||""}${((L=(P=$[1])==null?void 0:P[0])==null?void 0:L.toUpperCase())||""}`};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-col gap-5",children:[E.jsxs("div",{className:"overflow-hidden relative flex flex-col gap-0 !text-text-primary rounded-2xl ",children:[E.jsx("div",{id:"profileHeader",className:"z-50 flex flex-col items-start justify-start gap-4 rounded-t-2xl p-6 w-full bg-white",children:E.jsxs("div",{className:"flex items-start gap-4 w-full",children:[E.jsxs("span",{className:"relative flex h-[80px] w-[80px]",children:[PM.status!=="normal",E.jsx("span",{className:"relative rounded-full h-[80px] w-[80px] bg-green-500 border-green-500 !border-0 flex items-center justify-center overflow-hidden border-0 bg-[#80CAA7] font-semibold text-3xl text-white",children:l(e==null?void 0:e.name)}),E.jsx("div",{id:"age",className:"absolute -bottom-1 -right-1",children:E.jsx("p",{className:"text-sm text-text-white/70 px-1.5 py-1.5 rounded-full font-semibold leading-none border-2 border-white/20 border-inner",style:{backgroundColor:"white",border:"1px solid #E0E0E0"},children:e==null?void 0:e.age})})]}),E.jsxs("div",{id:"elderlyNameAndAddress",className:"pt-4",children:[E.jsx("h1",{className:"text-[24px] font-bold",children:e==null?void 0:e.name}),E.jsx("div",{id:"addresandGoogleMapButton",className:"flex items-center gap-2 md:flex-row flex-col",children:E.jsx(uc,{title:"View on Google Map",children:E.jsx("a",{href:`https://www.google.com/maps?q=${e.latitude},${e.longitude}`,target:"_blank",className:"cursor-pointer font-normal hover:text-text-primary transition-all duration-300 text-[17px] text-text-primary/80 flex items-center gap-1",children:e==null?void 0:e.address})})})]})]})}),E.jsx("div",{id:"healthScoreGauge",className:" items-center justify-center flex flex-col bg-white rounded-b-2xl",children:E.jsx("div",{className:"w-[340px] relative",children:E.jsx(NM,{percentage:t==null?void 0:t.score})})}),E.jsxs("div",{className:" w-full grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-3 mt-4",children:[E.jsx(Xn,{score:(t==null?void 0:t.ahi)||"--",label:"AHI Index",status:i[(u=t==null?void 0:t.evaluation)==null?void 0:u.ahi_unqualified_evaluation]}),E.jsx(Xn,{score:Zg(t==null?void 0:t.sleep_total_time),label:"Sleep Duration",status:i[(c=t==null?void 0:t.evaluation)==null?void 0:c.sleep_duration_evaluation]}),E.jsx(Xn,{score:t!=null&&t.sleep_quality?(t==null?void 0:t.sleep_quality)+"%":"--",label:"Deep Sleep (%)",status:i[(h=t==null?void 0:t.evaluation)==null?void 0:h.sleep_deep_ratio_evaluation]}),E.jsx(Xn,{score:(t==null?void 0:t.leave_bed_count)>=0?(t==null?void 0:t.leave_bed_count)+"x":"--",label:"Bed-Exit at Night",status:i[(f=t==null?void 0:t.evaluation)==null?void 0:f.sleep_leave_bed_evaluation]}),E.jsx(Xn,{score:(d=t==null?void 0:t.breath_rate_vo)!=null&&d.avg?((m=t==null?void 0:t.breath_rate_vo)==null?void 0:m.avg)+" BPM":"--",label:"Avg. Breath Rate",status:(v=t==null?void 0:t.breath_rate_vo)!=null&&v.avg?((p=t==null?void 0:t.breath_rate_vo)==null?void 0:p.avg)>=12&&((g=t==null?void 0:t.breath_rate_vo)==null?void 0:g.avg)<=30?"Pass":"Fail":"--"}),E.jsx(Xn,{score:(_=t==null?void 0:t.heart_rate_vo)!=null&&_.avg?((b=t==null?void 0:t.heart_rate_vo)==null?void 0:b.avg)+" BPM":"--",label:"Avg. Heart Rate",status:t!=null&&t.heart_rate_vo?((y=t==null?void 0:t.heart_rate_vo)==null?void 0:y.avg)>=60&&((w=t==null?void 0:t.heart_rate_vo)==null?void 0:w.avg)<=100?"Pass":"Fail":"--"})]})]}),E.jsxs("div",{id:"elderlyDiseasesAllergies",className:" flex flex-col gap-6 bg-white rounded-2xl p-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-lg font-bold text-text-primary leading-none flex items-center gap-2",children:"Health Conditions"}),E.jsx(uc,{title:"Edit Health Conditions",children:E.jsx(vo,{onClick:()=>r(!0),shape:"circle",icon:E.jsx(Lg,{})})})]}),E.jsxs("div",{id:"elderlyDiseasesAllergiesMedications",className:"mt-3 flex flex-col gap-6",children:[E.jsxs("div",{id:"elderlyDiseases",className:"flex flex-col gap-2",children:[E.jsxs("p",{className:"text-base font-semibold text-[#7E60BF] leading-none flex items-center gap-2",children:[E.jsx("div",{id:"dot",className:"w-2 h-2 bg-[#7E60BF] rounded-full"})," ","Diseases"]}),E.jsx("ul",{className:"list-none list-inside flex flex-wrap gap-2",children:(x=e==null?void 0:e.diseases)==null?void 0:x.map((A,$)=>E.jsx("li",{className:"text-base font-medium p-1 px-3 bg-[#F5F3FF] rounded-lg",children:A},$))})]}),Object.keys(o).map((A,$)=>E.jsxs("div",{id:"elderlyDiseases",className:"flex flex-col gap-2",children:[E.jsxs("p",{className:`text-base font-semibold ${A==="Allergies"?"text-[#4ca6cf]":A==="Disabilities"?"text-[#f37f13]":"text-[#0a0a2b]"}  leading-none flex items-center gap-2 mb-2`,children:[E.jsx("div",{id:"dot",className:`w-2 h-2 ${A==="Allergies"?"bg-[#4ca6cf]":A==="Disabilities"?"bg-[#f37f13]":"bg-[#0a0a2b]"}  rounded-full`})," ",A]}),E.jsx("ul",{className:"list-none list-inside flex flex-wrap gap-2",children:Array.isArray(o[A])?o[A].map((N,k)=>E.jsx("li",{className:`text-base font-medium p-1 px-3 ${A==="Allergies"?"bg-[#4ca6cf]/10":A==="Disabilities"?"bg-[#f37f13]/10":"bg-[#0a0a2b]/10"} rounded-lg`,children:N.comment},k)):E.jsx("p",{children:"No Comments"})})]},$))]})]}),E.jsx(Um,{})]}),E.jsx(em,{modalOpen:n,setModalOpen:r,mode:"edit",diseases:e==null?void 0:e.diseases,custom_condition:e==null?void 0:e.comments,elderly_id:e==null?void 0:e._id})]})}const Xn=({score:t,label:e,status:n})=>E.jsxs("div",{id:"score",className:"relative flex items-cente rounded-2xl p-4 gap-1 justify-center overflow-hidden bg-white",children:[E.jsx("div",{id:"lineBar",className:`size-4  rounded-full ${n==="Pass"?"bg-[#03b300]":n==="Fail"?"bg-[#ff0000]":"bg-[#494949]"} absolute -top-[6px] left-[50%] transform -translate-x-[50%]`}),E.jsxs("div",{className:"flex flex-col justify-center gap-1 items-center ",children:[E.jsx("div",{id:"scroe",className:"text-text-primary text-[20px]  font-bold leading-none  text-center",children:t}),E.jsx("span",{className:"text-text-primary/70 text-[14px] leading-none font-normal text-center",children:e})]})]}),PM={name:"John Deo",address:"123 Main St, Anytown, USA",contactPerson:"+9952654987",cordinates:[45,-73],age:65,height:"170",gender:"Male",diseases:["Diabetes","Hypertension"],allergies:["Peanuts"],custom_condition:[],status:"normal"};function EM(){const{sleepData:t}=U.useContext(rn);return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl bg-white p-6 w-full",children:[E.jsx("div",{className:"text-[24px] font-bold",children:"Timeline"}),E.jsx("div",{className:"w-full",children:E.jsx(um,{statisticalData:t==null?void 0:t.statistical_data,alarmEvents:t==null?void 0:t.alarm_events})})]})})}function RM(t){const{rolesFormatter:e}=U.useContext(zg),n=Oh(),r=Math.floor(Math.random()*1e6),i=u=>{window.scrollTo(0,0),n(`/supporter/elderlies/elderly-profile/${r}?tab=overview`)},o={activeAlertsTableData:["alertName","alertType","elderlyName","roomName","incidentTime","alertLifetime","address","viewElderly"],recentlyClosedAlertsTableData:["alertName","alertType","elderlyName","roomName","incidentTime","alertLifetime","closedAt","closedBy","address","viewElderly"],eventsTableData:["eventName","elderlyName","eventTime","eventTimeline","hospital","expandColumn","largeText","disabilityType","action"]},a={alertName:{title:"Alert Name",render:u=>E.jsx(lm,{data:u})},alertType:{title:"Alert Type",dataIndex:"event",render:u=>E.jsx("span",{children:Kg(u)})},elderlyName:{title:"Elderly Name",dataIndex:"elderly_name",render:u=>E.jsx("span",{children:u})},roomName:{title:"Room Name",dataIndex:"room_name",render:u=>E.jsx("span",{children:u})},incidentTime:{title:"Incident Time",dataIndex:"created_at",render:u=>E.jsx("span",{className:"text-nowrap",children:Ds(u)})},alertLifetime:{title:"Alert Life",dataIndex:"closed_at",render:u=>E.jsx("span",{className:"text-nowrap",children:Lh(u)})},alertStatus:{title:"Alert Status",dataIndex:"status",render:u=>E.jsx("span",{className:"text-nowrap",children:u==0?"True Alert":"False Alert"})},address:{title:"Address",width:"230px",render:u=>E.jsx("span",{className:"!w-[230px] text-nowrap",children:u.address})},closedAt:{title:"Closed At",dataIndex:"closed_at",render:u=>E.jsx("span",{className:"text-nowrap",children:Ds(u)})},closedBy:{title:"Closed By",render:u=>E.jsxs("span",{className:"text-nowrap",children:[u.closed_by," (",e[u.closed_by_role]," )"]})},eventName:{title:"Event Name",dataIndex:"eventName",render:u=>E.jsx("span",{children:u})},eventTime:{title:"Event Time",dataIndex:"time",render:u=>E.jsx("span",{className:"text-nowrap",children:u})},eventTimeline:{title:"Event Timeline",dataIndex:"alertLifetime",render:u=>E.jsx("span",{className:"text-nowrap",children:u})},disabilityType:{title:"Disability Type",dataIndex:"disabilityType",render:u=>E.jsx("span",{className:"text-nowrap",children:u})},hospital:{title:"Hospital",dataIndex:"hospital",render:u=>E.jsx("span",{className:"text-nowrap",children:u.name.length>20?`${u.name.substring(0,20)}...`:u.name})},largeText:{title:()=>{switch(t){case"events":return"Additional Info";default:return""}},render:u=>E.jsx(fm,{data:u.additionalInfo,title:"Additional Info"})},expandColumn:Bg.EXPAND_COLUMN,viewElderly:{render:u=>E.jsxs("span",{onClick:()=>i(),className:"flex items-center transition-all duration-300 justify-center gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md  text-center hover:bg-slate-100",children:["View ",E.jsx(Dg,{})]})},action:{title:"Action",render:u=>E.jsx(cm,{row:u})}},[s,l]=U.useState(void 0);return U.useEffect(()=>{{const u=o.recentlyClosedAlertsTableData.map(c=>a[c]);l(u)}},[]),s}function jM(){const t=Oh(),e=Fg(),n=RM("recentlyClosedAlert"),r=()=>{t(`${e.pathname}?tab=alertHistory`,{replace:!0})},[i,o]=U.useState([]),[a,s]=U.useState(1),[l,u]=U.useState(0),c=U.useCallback(()=>{Ih({to_date:"2024-11-30",from_date:Oe().format("YYYY-MM-DD"),is_resolved:!0,page:a}).then(h=>{u(h.total),h.data.length>0&&o(h.data)}).catch(h=>{console.log(h)})},[a]);return U.useEffect(()=>{c()},[c]),E.jsx(E.Fragment,{children:E.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[E.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[E.jsx("h1",{className:"text-[24px] font-bold",children:"Recently Closed Alerts"}),E.jsx("div",{children:E.jsx(vo,{onClick:r,className:"",size:"large",icon:E.jsx(Vg,{}),children:"View Alert History"})})]}),E.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:E.jsx(Gg.Provider,{value:{total:l,page:1,SetPage:s,limit:6},children:E.jsx(Hg,{tableData:i,columns:n})})})]})})}const OM=()=>{const{elderlyDetails:t}=U.useContext(rn),e=t==null?void 0:t.deviceId,[n,r]=U.useState([]),[i,o]=U.useState({up_left:[-20,20],low_left:[-20,-6],up_right:[4,20],low_right:[4,-6],mount_type:"top"}),[a,s]=U.useState([{type:"bed",up_left:[-5,13],low_left:[-5,-5],up_right:[3,13],low_right:[3,-5],width:9,length:19,id:"6758acbc5d15f553e58a6988"}]),l=10,u={x:300,y:250},c=([d,m])=>[u.x-d*l,u.y+m*l],h=[...c(i.up_left),...c(i.low_left),...c(i.low_right),...c(i.up_right)];function f(d){const m=Qg(d);let v=m==null?void 0:m.map(p=>p==null?void 0:p.coordinates);r(v),console.log(v)}return U.useEffect(()=>{const d=new WebSocket("wss://live.elderlycareplatform.com/ws/");return d.onopen=()=>{console.log("Connected to WebSocket server")},d.onmessage=m=>{var g;const v=JSON.parse(m==null?void 0:m.data),p=(g=JSON.parse(v==null?void 0:v.message))==null?void 0:g.payload;(p==null?void 0:p.deviceCode)===e&&(p!=null&&p.position)&&(f(p.position),console.log(p.position))},d.onerror=m=>{console.error("WebSocket error:",m)},d.onclose=()=>{console.log("Disconnected from WebSocket server")},()=>d.close()},[e]),u.x+n.x*1,u.y+n.y*1,E.jsx(hm,{width:600,height:500,style:{border:"1px solid black"},children:E.jsxs(dm,{children:[E.jsx(Qa,{points:h,closed:!0,stroke:"blue",strokeWidth:2,fill:"rgba(173, 216, 230, 0.3)"}),E.jsx(Qa,{points:[u.x-5,u.y-5,u.x+5,u.y-5,u.x+5,u.y+5,u.x-5,u.y+5],closed:!0,stroke:"black",strokeWidth:1,fill:"gray"}),n==null?void 0:n.map(d=>E.jsx(pm,{x:u.x+d.x*1,y:u.y+d.x*1,radius:10,fill:"blue",stroke:"black",strokeWidth:10},d.id)),a.map(d=>{const m=[...c(d.up_left),...c(d.low_left),...c(d.low_right),...c(d.up_right)];return E.jsx(Qa,{points:m,closed:!0,stroke:"green",strokeWidth:2,fill:"rgba(144, 238, 144, 0.3)"},d.id)})]})})};function IM({data:t=[]}){return U.useEffect(()=>{console.log(t)},[]),E.jsx(E.Fragment,{children:E.jsx("div",{className:"flex items-center justify-center gap-4 h-full w-full border border-gray-200 rounded-2xl overflow-hidden",children:E.jsx(OM,{roomInfo:t})})})}function LM({activeKey:t,onTabClick:e,tabs:n=[]}){return E.jsx(E.Fragment,{children:E.jsx("div",{className:"flex flex-col items-center justify-start gap-4 w-full !border-none  overflow-y-auto ",children:n==null?void 0:n.map(r=>E.jsx("div",{className:`tab-button flex items-center rounded-xl w-full gap-2 p-4 cursor-pointer border-2 border-transparent !h-[160px] relative ${t===r._id.toString()?"activeTab border-2 !border-[#43B981]":"bg-black/5"}`,onClick:()=>e(r._id.toString()),children:E.jsxs("div",{id:"roomNmaeAndStatus",className:"flex items-center gap-2 w-fit bg-white pr-4 py-1.5 border border-gray-200 p-2 rounded-full absolute bottom-2 left-2",children:[E.jsx("div",{id:"dot",className:"size-3 rounded-full",style:{backgroundColor:r.is_device_bind===!0?"green":"red"}}),E.jsx("p",{children:r.name})]})},r._id))})})}const{TabPane:zM}=zh;function BM(){var e;const{elderlyDetails:t}=U.useContext(rn);return E.jsxs("div",{className:"rounded-2xl bg-white flex flex-col gap-4 items-center justify-center w-full p-4 ",children:[E.jsx("div",{className:"flex items-center justify-between w-full ",children:E.jsx("h1",{className:"text-2xl font-bold",children:"Live Room Map"})}),E.jsx(zh,{tabPosition:"left",defaultActiveKey:"1",renderTabBar:(n,r)=>{var i;return E.jsx("div",{className:" w-[24%] h-[500px] overflow-y-auto !border-none",children:E.jsx(LM,{...n,tabs:(i=t==null?void 0:t.rooms)==null?void 0:i.filter(o=>o.is_device_bind)})})},className:"w-full",children:(e=t==null?void 0:t.rooms)==null?void 0:e.filter(n=>n==null?void 0:n.is_device_bind).map(n=>E.jsx(zM,{tab:n._id,className:"",children:E.jsx("div",{className:"w-full h-[500px]",children:E.jsx(IM,{data:n})},n.id)},n._id))})]})}function DM(){const{elderlyDetails:t}=U.useContext(rn),e=t==null?void 0:t.deviceId,[n,r]=U.useState({time:[],heartRate:[],breathRate:[]}),[i,o]=U.useState(null),[a,s]=U.useState(Date.now());return U.useEffect(()=>{const l=setInterval(()=>{if(Date.now()-a>5e3)o(null),r({time:[],heartRate:[],breathRate:[]});else if(i){const h=new Date().toLocaleTimeString();r(f=>({time:[...f.time,h].slice(-30),heartRate:[...f.heartRate,i.heartRateValue].slice(-30),breathRate:[...f.breathRate,i.breathingValue].slice(-30)}))}},1e3);return()=>clearInterval(l)},[i,a]),U.useEffect(()=>{},[e]),E.jsxs("div",{className:"w-full flex gap-4",children:[E.jsxs("div",{className:"w-full flex flex-col bg-[#6e77eb] pb-0 gap-4 justify-between rounded-xl pt-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 text-white",children:[E.jsxs("p",{className:"text-base font-medium flex items-center gap-2",children:[E.jsx(Yg,{size:20})," Realtime Heart Rate"]}),E.jsxs("h1",{className:"text-2xl font-bold",children:[(i==null?void 0:i.heartRateValue)??"--"," ",E.jsx("span",{className:"text-sm text-white/70 font-normal",children:"/BPM"})]})]}),E.jsx(fc,{data:n})]}),E.jsxs("div",{className:"w-full flex flex-col bg-[#32c1c1] pb-0 gap-4 justify-between rounded-xl pt-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 text-white",children:[E.jsxs("p",{className:"text-base font-medium flex items-center gap-2",children:[E.jsx(Ug,{size:20})," Realtime Breath Rate"," "]}),E.jsxs("h1",{className:"text-2xl font-bold",children:[(i==null?void 0:i.breathingValue)??"--"," ",E.jsx("span",{className:"text-sm text-white/70 font-normal",children:"/BPM"})]})]}),E.jsx(fc,{data:n})]})]})}const FM=t=>E.jsx("img",{src:vm,alt:"wake-up",width:t,height:t}),VM=t=>E.jsx("img",{src:ym,alt:"get-up",width:t,height:t});function GM(){const{sleepData:t}=U.useContext(rn),e=[{label:"Go To Bed",color:"#35CECE",value:zn(t==null?void 0:t.get_bed_idx),icon:E.jsx(gm,{size:20,color:"#35CECE"}),initial:{x:-50,y:-50},delay:.2},{label:"Fall Asleep",color:"#FF6734",value:zn(t==null?void 0:t.sleep_st_idx),icon:E.jsx(mm,{size:20,color:"#FF6734"}),initial:{x:50,y:-50},delay:.2},{label:"Wake Up",color:"#8088FD",value:zn(t==null?void 0:t.sleep_ed_idx)!=="--"?"After "+zn(t==null?void 0:t.sleep_ed_idx):"--",icon:FM(20),initial:{x:-50,y:50},delay:.2},{label:"Get Up",color:"#ecb81c",value:zn(t==null?void 0:t.leave_bed_idx)!=="--"?"After "+zn(t==null?void 0:t.leave_bed_idx):"--",icon:VM(20),initial:{x:50,y:50},delay:.2}];return E.jsx("div",{className:"bg-white rounded-2xl p-6 h-full flex flex-col gap-4",children:E.jsx("div",{className:"relative w-full flex justify-evenly h-full",children:e.map((n,r)=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 w-full",children:[E.jsx("div",{id:"icon",className:"w-10 h-10 flex items-center justify-center rounded-lg",style:{backgroundColor:`${n.color}27`},children:n.icon}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("div",{className:"text-2xl font-bold text-primary",children:n.value}),E.jsx("div",{className:"text-sm font-medium text-primary",children:n.label})]})]},r),r<e.length-1&&E.jsx("div",{className:"w-[1px] bg-gray-200 h-full"})]}))})})}function TT(){const{elderlyDetails:t}=U.useContext(rn);return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex flex-col gap-2 mt-4 w-full",children:[E.jsx(Vm,{elderlyId:t==null?void 0:t._id}),E.jsxs("div",{className:"flex gap-6 w-full",children:[E.jsxs("div",{id:"ElderlyActivities",className:"w-[67%] flex flex-col gap-6 ",children:[E.jsx(GM,{}),E.jsx(DM,{}),E.jsx(EM,{}),E.jsx(BM,{}),E.jsx(jM,{})]}),E.jsx("div",{id:"elderlyProfile",className:"w-[45%] md:w-[33%] lg:w-[33%]",children:E.jsx(kM,{})})]})]})})}export{TT as default};
