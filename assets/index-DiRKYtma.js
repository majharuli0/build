import{j as n,T as f,r as l,o as h,C as y,d as j,z as S,E as I,B as C}from"./index-Cq-23H-i.js";import{D as v}from"./index-CW91Z58I.js";import{R as A}from"./ReportActionModal-CyzK9tiT.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3c60d9f4-925d-44c5-a685-a9400fc33db4",e._sentryDebugIdIdentifier="sentry-dbid-3c60d9f4-925d-44c5-a685-a9400fc33db4")}catch{}function N({row:e}){const t=l.useContext(h),[s,a]=l.useState(e==null?void 0:e.installation_status),[i,o]=l.useState(!1),r=d=>{a(d),o(!0),S(e==null?void 0:e._id,{installation_status:d}).then(c=>{console.log(c),t.getList(),c&&a(d)}).catch(c=>{console.log(c),a(e==null?void 0:e.installation_status)}).finally(()=>{o(!1)})};return l.useEffect(()=>{a(e==null?void 0:e.installation_status)},[e==null?void 0:e.installation_status]),n.jsxs("div",{className:"flex items-center space-x-2 mr-0 ",children:[n.jsx("span",{className:`w-3 h-3 rounded-full relative -right-2 ${s==="completed"?"bg-[#1EB564]":s==="pending"?"bg-yellow-500":"bg-red-500"}`}),n.jsx(y,{theme:{token:{colorText:"#707EAE",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:n.jsx(j,{value:s,variant:"borderless",onChange:r,loading:i,optionSelectedColor:"#8086AC",className:"w-fit !text-red-100",options:[{value:"completed",label:n.jsx("span",{children:"Complete"})},{value:"pending",label:n.jsx("span",{children:"Pending"})},{value:"not_started",label:n.jsx("span",{children:"Not Started"})}]})})]})}const _=[{title:"Installation Status",render:e=>n.jsx(N,{row:e})},{title:"Report",render:e=>n.jsx("div",{className:"flex justify-center",children:n.jsx(A,{report:e})})},{title:"Product Name",render:e=>n.jsx("button",{children:n.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2",children:e.products.filter((t,s,a)=>{const i=t.type==="Seenyor Kit"&&a.findIndex(o=>o.type==="Seenyor Kit")===s;return!/^AI Sensor/.test(t.type)&&(t.type!=="Seenyor Kit"||i)}).map((t,s)=>{const a=t.type==="Seenyor Kit"?"blue":t.type==="Installation"?"orange":"default";return n.jsx(f,{color:a,children:t.type==="Seenyor Kit"?"Package":t.type},s)})})})},{title:"Product Price",render:e=>n.jsx("button",{children:n.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary",children:["$",e.products.filter(t=>["Seenyor Kit","Installation","AI Monitoring"].includes(t.type)).reduce((t,s)=>t+s.price,0).toFixed(2)]})})},{title:"Addon Name",render:e=>n.jsx("button",{children:n.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2",children:e.products.filter(t=>!["Seenyor Kit","Installation","AI Monitoring"].includes(t.type)).map((t,s)=>n.jsx(f,{children:t.type},s)).length===0?n.jsx("span",{children:"--"}):e.products.filter(t=>!["Seenyor Kit","Installation","AI Monitoring"].includes(t.type)).map((t,s)=>n.jsx(f,{children:t.type},s))})})},{title:"Addon Price",render:e=>n.jsx("button",{children:n.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:e.products.map((t,s)=>["Seenyor Kit","Installation","AI Monitoring"].includes(t.type)?null:n.jsxs("span",{children:["$",t.price.toFixed(2)]},s)).filter(Boolean).length===0?n.jsx("span",{children:"--"}):e.products.map((t,s)=>["Seenyor Kit","Installation","AI Monitoring"].includes(t.type)?null:n.jsxs("span",{children:["$",t.price.toFixed(2)]},s))})})},{title:"Total Price",render:e=>n.jsx("button",{children:n.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:["$",e.total]})})},{title:"Date of Sales",render:e=>{const t=new Date(e.created_at).toLocaleDateString("en-CA");return n.jsx("button",{children:n.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:t})})}},{title:"Location",render:e=>{var t,s,a,i,o,r;return n.jsx("button",{children:n.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap",children:[(t=e.address)==null?void 0:t.line1,","," ",(s=e.address)!=null&&s.line2?((a=e.address)==null?void 0:a.line2)+", ":"",","," ",(i=e.address)==null?void 0:i.city,", ",(o=e.address)==null?void 0:o.state,","," ",e.address?e.address.postal_code:" ",", ",(r=e.address)==null?void 0:r.country]})})}},{title:"Payment Status",dataIndex:"payment_status",key:"payment_status",filters:[{text:"Completed",value:"completed"},{text:"Pending",value:"pending"},{text:"Cancelled",value:"cancelled"}],filterMultiple:!0,onFilter:(e,t)=>t.payment_status.includes(e),render:e=>{let t="";switch(e){case"completed":t="green";break;case"pending":t="orange";break;case"cancelled":t="red";break;default:t="black"}return n.jsx("span",{style:{backgroundColor:t,color:"white",padding:"4px 8px",borderRadius:"4px",fontWeight:500,textTransform:"capitalize"},children:e})}}];function D(){const[e,t]=l.useState(!1),[s,a]=l.useState(1),[i,o]=l.useState(0),[r,d]=l.useState({installation_status:"completed",ne:!0}),[c,m]=l.useState([]),[p,g]=l.useState("Not Installed"),b=[{text:"Not Installed"},{text:"Installed"}],u=l.useCallback(()=>{t(!0),I({...r,page:s}).then(x=>{m(x.data),o(x.total)}).catch(x=>{console.log(x)}).finally(()=>{t(!1)})},[r,s]);return l.useEffect(()=>{u()},[u]),l.useEffect(()=>{d(p==="Installed"?{installation_status:"completed"}:{installation_status:"completed",ne:!0})},[p]),n.jsxs("div",{children:[n.jsx("div",{className:"py-[20px] flex",children:n.jsx(v,{menus:b,activeTab:p,setActiveTab:g})}),n.jsxs("div",{id:"NewInstallation",className:"p-[25px] rounded-2xl  bg-white w-full  h-full",children:[n.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between mb-8",children:[n.jsx("h1",{className:"text-[24px] font-bold",children:"To Be Installed"}),n.jsx("div",{id:"chartController",className:"flex gap-4"})]}),n.jsx(y,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:n.jsx(h.Provider,{value:{getList:u,total:i,page:s,SetPage:a},children:n.jsx(C,{loading:e,scroll:{x:750},columns:_,tableData:c})})})]})]})}export{D as default};
//# sourceMappingURL=index-DiRKYtma.js.map
