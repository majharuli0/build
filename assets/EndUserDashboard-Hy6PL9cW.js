import{r as s,u as F,e as u,k as P,j as e,C as h,ae as O,p as v,E as b}from"./index-BJTR4kR_.js";import{R as z}from"./index-Ttz0NMqK.js";import"./index-SP_ZEo61.js";import"./line-JlIOkcRO.js";import{u as f,A as B,a as $}from"./alertsOverview-D3UVHJ3t.js";import"./WeeklyMonthlyPicker-Cs6YBef-.js";import{C as Q}from"./CreateAndEditModal-CH2oDS2N.js";import{g as U,a as W}from"./elderlySupport-Bm8HS2Hk.js";import{R as G}from"./AimOutlined-Cv8UA2qE.js";import{R as J}from"./HomeOutlined-C216w0iN.js";import"./RoomMap4-CLHAirX5.js";import"./oth-qBGbEfhr.js";import"./UseCustomContext-zzHd-4Kj.js";import"./ActionManu-D7BclL0M.js";import"./index-DnkWbuqJ.js";import"./index-C-AqffHD.js";import"./index-g_IcHffb.js";import"./Collapse-DMSK5YVJ.js";import"./index-xT1aYvF1.js";import"./AlertName-BPocEWer.js";import"./LargeTextViewerModal-DTO7NGPF.js";import"./slick-theme-B0xVq64K.js";import"./index-C9WAa7lv.js";import"./AlertCloseModal-D1j3v79P.js";import"./index-HbcfFI3O.js";import"./leaflet-src-D7Z3pYLG.js";/* empty css                */import"./InfoCircleOutlined-XmGMwEFJ.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="df9a252b-77b8-4491-8cee-50b5cda40bc0",a._sentryDebugIdIdentifier="sentry-dbid-df9a252b-77b8-4491-8cee-50b5cda40bc0")}catch{}function Ae(){s.useState("Map View");const[a,o]=s.useState(!1);s.useState([]),f("activeAlert");const j=f("recentlyClosedAlert"),y=f("events"),w=F(),[S,A]=s.useState([]),[n,_]=s.useState(1),[C,N]=s.useState([]),[E,L]=s.useState([]),[T,I]=s.useState(0),[M,d]=s.useState(!0);s.useState(null);const[R,k]=s.useState(0),[c,g]=s.useState(),[l,D]=s.useState(""),[H,Y]=s.useState(!1),m=s.useCallback(()=>{d(!0),U({to_date:u().subtract(2,"days").format("YYYY-MM-DD"),from_date:u().format("YYYY-MM-DD"),is_resolved:!0,...n}).then(t=>{k(t.total),d(!1),A(t.data)}).catch(t=>{d(!1),console.log(t)})},[n]);s.useEffect(()=>{m()},[m]);const x=s.useCallback(()=>{W({to_date:"2024-11-30",from_date:u().format("YYYY-MM-DD"),page:E}).then(t=>{I(t.total),t.data.length>0&&N(t.data)}).catch(t=>{console.log(t)})},[n]);s.useEffect(()=>{x()},[x]);const p=s.useCallback(()=>{if(l.trim()===""){g([]);return}P({search:l}).then(t=>{g(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[l]);s.useEffect(()=>{p()},[p]);const r=(t,i)=>{if(!i)return t;const V=new RegExp(`(${i})`,"gi");return t.replace(V,'<mark style="background-color: #80CAA7; color: white;">$1</mark>')};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 flex-col pt-8 pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full",children:e.jsx(h,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsxs("div",{className:"w-[350px] relative",children:[e.jsx(O,{className:"rounded-[10px]  min-w-[350px] w-full ",size:"large",placeholder:"Search Anything",style:{height:"44px"},onChange:t=>D(t.target.value),onFocus:()=>Y(!0)}),H&&l.trim()!==""&&e.jsx("div",{id:"searchResult",className:"mt-3 max-h-[600px] overflow-auto rounded-lg shadow-lg bg-white border border-gray-300 absolute top-10 left-0 z-[1000] w-full",children:e.jsx("ul",{children:c==null?void 0:c.map(t=>e.jsxs("li",{className:"p-4 hover:bg-gray-100 border-b border-gray-200 cursor-pointer",onClick:()=>{w(`/supporter/elderlies/elderly-profile/${t==null?void 0:t._id}`)},children:[e.jsx("div",{className:"font-semibold text-lg text-gray-800",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:r(t.name,l)}})}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Age:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:r(t.age.toString(),l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Address:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:r(t.address||"N/A",l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Sensitivity Factors:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:r(t.diseases.join(", "),l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Comments:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:r(t.comments.map(i=>i.comment).join(", "),l)}})]})]},t._id))})})]})})}),e.jsx("div",{className:"w-full",children:e.jsx(B,{refreshAlertList:m,isElderlyVisible:!0})}),e.jsxs("div",{className:"w-full flex gap-4 md:flex-row flex-col",children:[e.jsx("div",{className:"w-full  p-0 ",children:e.jsxs("div",{className:"bg-white  rounded-2xl  p-6 h-[600px]",children:[e.jsx("div",{className:"flex justify-between items-center mb-5",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Room View"})}),e.jsx(z,{ViewFor:"endUser"})]})}),e.jsx("div",{className:"bg-white w-full md:w-[48%] rounded-2xl p-6 h-[600px] overflow-hidden",children:e.jsx($,{})})]}),e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Past Notifications"}),e.jsx("div",{children:e.jsx(h,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}}})})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(v.Provider,{value:{total:R,page:1,SetPage:_,limit:6},children:e.jsx(b,{loading:M,pageSize:6,tableData:S,columns:j})})})]}),e.jsxs("div",{id:"Events",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsx("div",{id:"Events_Header",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Events"})}),e.jsx("div",{id:"Events_Table",className:"w-full",children:e.jsx(v.Provider,{value:{total:T,page:1,SetPage:()=>L,getList:()=>{console.log("rtrtrt"),x()}},children:e.jsx(b,{pageSize:6,tableData:C,columns:y})})})]})]}),e.jsx(Q,{modalOpen:a,setModalOpen:o,type:"event"})]})}const _e=[{label:" Map View",value:"Map View",icon:e.jsx(G,{})},{label:"Room View",value:"Room View",icon:e.jsx(J,{})}],Ce=[{label:"All Alerts",value:"All Alerts"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Informational",value:"Info"}];export{Ce as activeAlertSegmentOptions,_e as alertViewSegmentOptions,Ae as default};
//# sourceMappingURL=EndUserDashboard-Hy6PL9cW.js.map
