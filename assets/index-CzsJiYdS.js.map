{"version":3,"file":"index-CzsJiYdS.js","sources":["../../src/api/AlertsHistory.js","../../src/Pages/AlertsHistory/index.jsx"],"sourcesContent":["import request from \"../utils/request\";\r\n\r\nexport function gactivePage(data) {\r\n  console.log(data);\r\n  return request({\r\n    url: \"/boot/active/web/closed/active/page\",\r\n    method: \"post\",\r\n    data,\r\n  });\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport TabMenus from \"@/Components/TabMenus\";\r\nimport { gactivePage } from \"@/api/AlertsHistory\";\r\nimport { Table, Tag } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport TypeIcon from \"@/Components/TypeIcon\";\r\nimport BlockSerch from \"@/Components/BlockSerch\";\r\nconst AlertsHistory = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [activeTab, setActiveTab] = useState(\"AII\");\r\n  const [query, setQuery] = useState({\r\n    current: 1,\r\n    size: 10,\r\n    priority: undefined,\r\n    radarRoomId: undefined,\r\n  });\r\n  const [menus, setMenus] = useState([\r\n    {\r\n      text: \"AII\",\r\n      bo: true,\r\n      warring: false,\r\n    },\r\n    {\r\n      text: \"Critical\",\r\n      bo: true,\r\n      warring: false,\r\n    },\r\n    {\r\n      text: \"Warning\",\r\n      bo: true,\r\n      warring: false,\r\n    },\r\n    // {\r\n    //   text: \"Low Priority\",\r\n    //   bo: true,\r\n    //   warring: false\r\n    // },\r\n  ]);\r\n  const [tabdata, setTabdata] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const onChange = (page) => {\r\n    setQuery({ ...query, current: page });\r\n  };\r\n  const nato = () => {\r\n    navigate(`${1}`);\r\n  };\r\n\r\n  const tabcolumns = [\r\n    {\r\n      title: \"Alert\",\r\n      dataIndex: \"name\",\r\n      key: \"key\",\r\n      render: (text, row) => {\r\n        return (\r\n          <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n            {/* <img className='w-[26px] h-[26px]' src={row.iconUrl} style={{ borderRadius: \"50%\" }} /> */}\r\n            <div className=\"ml-[10px]\">{row.alertName}</div>\r\n          </div>\r\n        );\r\n      },\r\n      //   onClick={() => nato()}\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"alarmTypeTrendValue\",\r\n      key: \"alarmTypeTrendValue\",\r\n      width: \"150\",\r\n      render: (text) => <TypeIcon text={text} />,\r\n    },\r\n    {\r\n      title: \"Alert Time\",\r\n      dataIndex: \"displayAlertTime\",\r\n      key: \"displayAlertTime\",\r\n      render: (text) => (\r\n        <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n          {\" \"}\r\n          {text}\r\n        </div>\r\n      ),\r\n    },\r\n\r\n    {\r\n      title: \"Elderly\",\r\n      dataIndex: \"ActiveAlert\",\r\n      key: \"ActiveAlert\",\r\n      render: (text, row) => (\r\n        <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n          <div>\r\n            {row.firstName} {row.lastName}{\" \"}\r\n            {row?.roomNumber ? `(${row.roomNumber})` : \"\"}\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Alert Closed Time\",\r\n      dataIndex: \"displayClosedTime\",\r\n      key: \"displayClosedTime\",\r\n      render: (text) => (\r\n        <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n          {\" \"}\r\n          {text}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Alert Life\",\r\n      dataIndex: \"alertLife\",\r\n      key: \"alertLife\",\r\n      render: (text) => (\r\n        <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n          {\" \"}\r\n          {text}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Closed By\",\r\n      dataIndex: \"Allergies\",\r\n      key: \"Allergies\",\r\n      render: (text, row) => (\r\n        <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n          {\" \"}\r\n          {row?.doneUserMap?.role}\r\n          {row?.doneUserMap\r\n            ? `(${row?.doneUserMap?.lastName}${row?.doneUserMap?.firstName})`\r\n            : \"\"}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Comment\",\r\n      dataIndex: \"comment\",\r\n      key: \"comment\",\r\n      render: (text) => (\r\n        <div className=\"flex items-center text-14px text-cblock font-[500]\">\r\n          {\" \"}\r\n          {text}\r\n        </div>\r\n      ),\r\n    },\r\n\r\n    // {\r\n    //   title: 'Value',\r\n    //   key: 'tags',\r\n    //   dataIndex: 'tags',\r\n    //   render: (_, { tags }) => (\r\n    //     <>\r\n    //       {tags.map((tag) => {\r\n    //         let color = tag.length > 5 ? 'geekblue' : 'green';\r\n    //         if (tag === 'loser') {\r\n    //           color = 'volcano';\r\n    //         }\r\n    //         return (\r\n    //           <Tag color={color} key={tag}>\r\n    //             {tag.toUpperCase()}\r\n    //           </Tag>\r\n    //         );\r\n    //       })}\r\n    //     </>\r\n    //   ),\r\n    // },\r\n  ];\r\n  const handleChange = (row) => {\r\n    const { key } = row;\r\n    let priority = undefined;\r\n    if (key == 1) {\r\n      priority = 2;\r\n    } else if (key == 2) {\r\n      priority = 1;\r\n    } else if (key == 3) {\r\n      priority = 0;\r\n    }\r\n    setQuery({ ...query, priority });\r\n  };\r\n  const handBlurchange = (e) => {\r\n    setQuery({ current: 1, size: 10, radarRoomId: e });\r\n  };\r\n  const getlist = () => {\r\n    gactivePage({ ...query }).then((datas) => {\r\n      let {\r\n        data: { records, total },\r\n      } = datas;\r\n      console.log(records);\r\n\r\n      setTabdata(records);\r\n      setTotal(total);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getlist();\r\n    console.log(query);\r\n  }, [query]);\r\n  return (\r\n    <>\r\n      <div className=\"flex h-[100px] justify-between  items-center mr-[50px] \">\r\n        <div className=\"text-[28px] font-semibold\">Notifications History</div>\r\n        <BlockSerch\r\n          placeholder=\"Search for Elderly or Room... \"\r\n          handBlurchange={handBlurchange}\r\n        />\r\n      </div>\r\n      <div className=\"  mb-[30px] pt-[0px]\">\r\n        <div className=\" pb-[10px] flex\">\r\n          <TabMenus\r\n            menus={menus}\r\n            activeTab={activeTab}\r\n            setActiveTab={setActiveTab}\r\n            handleChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\" bg-white rounded-2xl\">\r\n          {/* =============Admin Support Agent data table============== */}\r\n          <div className=\" grid grid-cols-1 pt-[20px]\">\r\n            <Table\r\n              columns={tabcolumns}\r\n              dataSource={tabdata}\r\n              pagination={{ total: total, pageSize: query.size, onChange }}\r\n              className=\"newTable\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* ---------Create new Support Agent-------- */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AlertsHistory;\r\n"],"names":["gactivePage","data","request","AlertsHistory","useNavigate","activeTab","setActiveTab","useState","query","setQuery","menus","setMenus","tabdata","setTabdata","total","setTotal","onChange","page","tabcolumns","text","row","jsx","TypeIcon","jsxs","_a","_b","_c","handleChange","key","priority","handBlurchange","e","getlist","datas","records","useEffect","Fragment","BlockSerch","TabMenus","Table"],"mappings":"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"}