import{u as M,r as l,j as t,Z as w,S as j,an as C,e as S,C as I,k as D,o as E,B as _}from"./index-BPWuOi3u.js";import{E as L}from"./Elderly-BtOjwe0T.js";import{e as k,t as A,f as H,b as W}from"./helper-BHyL54Ko.js";import{g as B}from"./elderlySupport-zGEI1usd.js";import{L as v}from"./LargeTextViewerModal-BpWPFV-d.js";import{A as O}from"./AlertName-SDuwYrAj.js";import{S as $}from"./index-Bin5rV-u.js";import"./index-mkoll5Vi.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new a.Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="20d5a663-8ef2-4e3e-920f-d17df6f54bf7",a._sentryDebugIdIdentifier="sentry-dbid-20d5a663-8ef2-4e3e-920f-d17df6f54bf7")}catch{}function R(a){const s=M(),n=Math.floor(Math.random()*1e6),i=e=>{window.scrollTo(0,0),s(`/supporter/elderlies/elderly-profile/${n}?tab=overview`)},r={support_agent:["elderlyName","activeAlert","allergies","diseases","medications","viewOnMap"],nurse:["elderlyName","activeAlert","allergies","diseases","medications","viewOnMap"],end_user:["elderlyName","activeAlert","allergies","diseases","medications","viewOnMap"]},o={elderlyName:{title:"Elderly Name",render:e=>t.jsx(L,{onClick:()=>i(),data:e})},roomName:{title:"Room Name",dataIndex:"roomName",render:e=>t.jsx("span",{children:e})},activeAlert:{title:"Active Alert",dataIndex:"activeAlert",render:e=>t.jsx("span",{children:e})},address:{title:"Address",width:"230px",render:e=>t.jsx("span",{className:"!w-[230px] text-nowrap",children:e.address})},allergies:{title:"Allergies",dataIndex:"allergies",render:e=>t.jsx("span",{children:e})},diseases:{title:"Diseases",dataIndex:"diseases",render:e=>t.jsx("span",{children:e})},medications:{title:"Medications",dataIndex:"medications",render:e=>t.jsx("span",{children:e})},viewOnMap:{title:"View On Map",render:e=>t.jsx("span",{className:"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("a",{href:`https://www.google.com/maps?q=${e.lat},${e.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium !text-blue-500",children:"View on Map"}),t.jsx(w,{size:18,className:"text-blue-500"})]})})}},[c,m]=l.useState([]);return l.useEffect(()=>{console.log("Current role:"),console.log("Available roles:",Object.keys(r));{const e=r.support_agent.map(d=>o[d]);m(e)}},[]),c}const u=a=>{const s=["Critical","Info","Warning"],n=["Living Room","Kitchen","Bedroom","Bathroom"],i=["John Doe","Jane Doe","Alice Smith","Bob Johnson","Emma Brown","Michael Wilson","Sarah Davis","David Miller","Lisa Garcia","James Rodriguez"],r=["Fall Detected","Fire Detected","Inactivity Alert","Medication Reminder","Unusual Behavior","High Temperature","Low Temperature","Water Leak","Door Left Open","Window Broken"],o=["Medication Taken","Medication Not Taken","Medication Reminder"],c=["Wheelchair","Crutches","Cane","None"],m=["Yes","No"],e=["Yes","No"],d=["Yes","No"],f=["1","4","2","No"],x=["True","False"];return Array.from({length:a},(g,p)=>({_id:p+1,alertType:s[Math.floor(Math.random()*s.length)],elderlyName:i[Math.floor(Math.random()*i.length)],alertName:r[Math.floor(Math.random()*r.length)],roomId:String(p+1),roomName:n[Math.floor(Math.random()*n.length)],alertLifetime:`${Math.floor(Math.random()*10)}m ${Math.floor(Math.random()*60)}s`,time:new Date().toLocaleString(),alertDescription:`${r[Math.floor(Math.random()*r.length)]} in the ${n[Math.floor(Math.random()*n.length)]}`,status:"Active",isAlert:x[Math.floor(Math.random()*x.length)],address:"123 Main St, Anytown, USA",coordinates:{latitude:37.7749+(Math.random()-.5)*.01,longitude:-122.4194+(Math.random()-.5)*.01},closedAt:new Date().toLocaleString(),closedBy:i[Math.floor(Math.random()*i.length)],eventName:o[Math.floor(Math.random()*o.length)],disabilityType:c[Math.floor(Math.random()*c.length)],additionalInfo:"This is additional info for event",hospital:{name:"Hospital For Special Surgery",phone:"1234567890",latitude:-33.8743612,longitude:151.2261153},allergies:m[Math.floor(Math.random()*m.length)],diseases:e[Math.floor(Math.random()*e.length)],medications:d[Math.floor(Math.random()*d.length)],activeAlert:f[Math.floor(Math.random()*f.length)],alertComments:"This is alert comments",alertLifespan:[{dateTime:"24-01-2024 10:00 AM",description:"At 10:00 AM, the alert was created"},{dateTime:"24-01-2024 10:30 AM",description:"Agent (petar) clicked on the incident in 10:30 (30mins later)"},{dateTime:"24-01-2024 10:32 AM",description:"Agent (petar) clicked on “Call Elderly” in 10:32 (2mins later)"},{dateTime:"24-01-2024 10:34 AM",description:"Agent (petar) clicked on “Call 911” in 10:34 (2mins later)"},{dateTime:"24-01-2024 10:36 AM",description:"Agent (petar) clicked on “Close Alert” in 10:36 (2mins later)"}]}))};u(14);u(20);u(20);u(20);u(20);function F(a){const{rolesFormatter:s}=l.useContext(j),[n,i]=l.useState(void 0),r=M(),o=e=>{window.scrollTo(0,0),r(`/supporter/elderlies/elderly-profile/${e.elderly_id}?tab=overview`)},c={alertHistory:["alertName","alertType","elderlyName","roomName","incidentTime","alertLifetime","alertStatus","comment","closedAt","closedBy","address","viewElderly"]},m={alertName:{title:"Notifications Name",render:e=>t.jsx(O,{data:e})},alertType:{title:"Notifications Type",dataIndex:"event",render:e=>t.jsx("span",{children:k(e)})},elderlyName:{title:"User Name",dataIndex:"elderly_name",render:e=>t.jsx("span",{children:e})},roomName:{title:"Room Name",dataIndex:"room_name",render:e=>t.jsx("span",{children:e})},incidentTime:{title:"Observation Time",dataIndex:"created_at",render:e=>t.jsx("span",{className:"text-nowrap",children:A(e)})},alertLifetime:{title:"Notification Duration",dataIndex:"closed_at",render:e=>t.jsx("span",{className:"text-nowrap",children:H(e)})},alertStatus:{title:"Notification  Status",dataIndex:"status",render:e=>t.jsx("span",{className:"text-nowrap",children:e==0?"True Notification ":"False Notification "})},comment:{title:"Comments",render:e=>t.jsx(v,{data:e.comment,title:"Alert Comments"})},address:{title:"Address",width:"230px",render:e=>t.jsx("span",{className:"!w-[230px] text-nowrap",children:e.address})},closedAt:{title:"Closed At",dataIndex:"closed_at",render:e=>t.jsx("span",{className:"text-nowrap",children:A(e)})},closedBy:{title:"Closed By",render:e=>t.jsxs("span",{className:"text-nowrap",children:[e.closed_by," (",s[e.closed_by_role]," )"]})},eventName:{title:"Event Name",dataIndex:"eventName",render:e=>t.jsx("span",{children:e})},eventTime:{title:"Event Time",dataIndex:"time",render:e=>t.jsx("span",{className:"text-nowrap",children:e})},eventTimeline:{title:"Event Timeline",dataIndex:"alertLifetime",render:e=>t.jsx("span",{className:"text-nowrap",children:e})},disabilityType:{title:"Disability Type",dataIndex:"disabilityType",render:e=>t.jsx("span",{className:"text-nowrap",children:e})},hospital:{title:"Hospital",dataIndex:"hospital",render:e=>t.jsx("span",{className:"text-nowrap",children:e.name.length>20?`${e.name.substring(0,20)}...`:e.name})},largeText:{title:()=>{switch(a){case"events":return"Additional Info";default:return""}},render:e=>t.jsx(v,{data:e.additionalInfo,title:"Additional Info"})},viewElderly:{title:"View Elderly",render:e=>t.jsxs("span",{onClick:()=>o(e),className:"flex items-center transition-all duration-300 justify-center gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md  text-center hover:bg-slate-100",children:["View ",t.jsx(C,{})]})}};return l.useEffect(()=>{{const e=c.alertHistory.map(d=>m[d]);i(e)}},[]),n}function K(){const[a,s]=l.useState("");R();const n=F("alertHistory"),[i,r]=l.useState(!0),[o,c]=l.useState(1),[m,e]=l.useState(0),[d,f]=l.useState({}),[x,g]=l.useState([]),[p,N]=l.useState(null),y=l.useCallback(()=>{r(!0),B({to_date:"2024-11-30",from_date:S().format("YYYY-MM-DD"),is_resolved:!0,page:o,...d,...p}).then(h=>{e(h.total),g(h.data),r(!1)}).catch(h=>{console.log(h),r(!1)})},[o,d,p]);l.useEffect(()=>{y()},[y]);function b(){f({elderly_name:a.trim()})}function T(h){N(W(h))}return t.jsx(t.Fragment,{children:t.jsxs("div",{id:"Elderlies",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6 mt-8",children:[t.jsxs("div",{id:"Elderlies_Header",className:"w-full flex justify-between",children:[t.jsx("h1",{className:"text-[24px] font-bold",children:"Notifications"}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsx("div",{children:t.jsx(I,{children:t.jsx($,{options:V,onChange:h=>T(h),size:"large"})})}),t.jsx(D,{search:a,setSearch:s,handBlurchange:b,placeholder:"Search Elderlies"})]})]}),t.jsx(E.Provider,{value:{total:m,page:1,SetPage:c},children:t.jsx(_,{columns:n,tableData:x,loading:i})})]})})}const Z=["All Elderlies","With Alerts","With Diseases","With Allergies","Taking Medications"],X=[{label:"All Elderlies",value:"All Elderlies"},{label:"With Alerts",value:"With Alerts"},{label:"With Diseases",value:"With Diseases"},{label:"With Allergies",value:"With Allergies"},{label:"Taking Medications",value:"Taking Medications"}],V=[{label:"All Alerts",value:"All Alerts"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Informational",value:"Info"}];export{V as alertHistorySegmentOptions,K as default,Z as elderlyListSegmentOptions,X as elderlyListSelectOptions};
//# sourceMappingURL=AlertsList-Butn-Dhu.js.map
