import{hk as C,hl as j,a3 as N,r as n,hm as I,hn as w,X as S,j as s,hh as T,ho as k,hp as v,h5 as _,hq as E,hr as D,hs as P}from"./index-DC36LstH.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new a.Error().stack;i&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[i]="7c471b9a-82d9-4c03-aee8-5b46cd505c6d",a._sentryDebugIdIdentifier="sentry-dbid-7c471b9a-82d9-4c03-aee8-5b46cd505c6d")}catch{}function U(){const{page:a,setPage:i,actions:A,setActions:B}=C(),{setCustomers:h}=j(),{type:r}=N(),[l,m]=n.useState(null),g=I("customer"),[c,b]=n.useState(0),[f,x]=n.useState({}),{data:e,isLoading:p,isSuccess:d,refetch:q}=w({...a,...f,monitoring_agency_status:r==="deactivated"?"deactivate":"active",priority:l?-1:1});n.useEffect(()=>{d&&e&&h((e==null?void 0:e.data)||[]),b((e==null?void 0:e.total)||0)},[e,d]);const y=()=>m(t=>!t),u=n.useCallback(S(t=>{x(o=>({...o,search:t==null?void 0:t.trim()})),i(o=>({...o,page:1}))},1e3),[]);return n.useEffect(()=>()=>{u.cancel()},[]),s.jsx(T,{variant:"noborder",title:s.jsxs("div",{className:"text-xl font-normal capitalize flex items-center gap-2",children:[r," Customers"," ",s.jsx(P,{className:`text-sm ${r!=="active"?r=="paused"?"bg-yellow-600":"bg-red-500":""}`,children:c})]}),className:"mb-7",actions:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"",size:"bt",variant:"outline",placeholder:"Search Customer",onChange:t=>{c>0&&u(t.target.value)}}),s.jsxs(_,{variant:"tertiary",onClick:y,className:"flex items-center gap-2 select-none",children:[s.jsx(E.span,{animate:{rotate:l?0:180},transition:{duration:.25,ease:"easeInOut"},className:"inline-block",children:s.jsx(D,{className:"w-5 h-5"})}),s.jsx("span",{children:"Priority"})]})]}),children:s.jsx("div",{className:"bg-background/50",children:s.jsx(k,{columns:g,data:(e==null?void 0:e.data)||[],isPagination:!0,total:c,limit:15,headerClassName:"bg-background/60",headerTextClassName:"text-text/60",isLoading:p,rowClassName:""})})})}export{U as C};
//# sourceMappingURL=index-DwkUWdzz.js.map
