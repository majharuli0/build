import{r as m,j as t,o as g,fz as h,ap as p,a2 as c,a3 as x,eU as f,fA as j,fb as C,fB as y,a1 as N}from"./index-BrMMENGu.js";import{C as M}from"./CreateAndEditModal-C7FEXTHO.js";import{C as b}from"./UseCustomContext-D3uf1dh5.js";import{c as w,d as v}from"./elderlySupport-BZa5z82x.js";import"./index-f6uwOJBR.js";import"./CustomPlaceSelect-C2wT_mu6.js";import"./leaflet-src-stJfPcBd.js";import"./EnvironmentOutlined-DxkN1S07.js";import"./InfoCircleOutlined-CIw-D9bZ.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="6b327934-39d7-42bb-add7-dadb02985887",e._sentryDebugIdIdentifier="sentry-dbid-6b327934-39d7-42bb-add7-dadb02985887")}catch{}function z(){var l,i;const{elderlyDetails:e,getElderlyDetails:o}=m.useContext(b),[u,a]=m.useState(!1),d=r=>{w({id:e==null?void 0:e._id,data:r}).then(n=>{c.custom(s=>t.jsx(x,{t:s,text:"Contact Number Added Successfully!"})),o()}).catch(n=>{c.custom(s=>t.jsx(f,{t:s,title:"Error",text:n.message}))})};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[t.jsxs("div",{className:"flex justify-between items-center ",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Trusted Contacts"}),t.jsxs(g,{onClick:()=>a(!0),size:"large",className:"bg-white !text-primary px-4 py-2 rounded-lg hover:!bg-primary/5 flex items-center gap-2",children:[t.jsx(h,{size:20}),"Add New Contact"]})]}),((l=e==null?void 0:e.emergency_contacts)==null?void 0:l.length)>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:(i=e==null?void 0:e.emergency_contacts)==null?void 0:i.map(r=>t.jsx(E,{contact:r},r.id))}):t.jsx("div",{className:"w-full flex items-center justify-center",children:t.jsx(p,{description:"No contact number available to show"})})]}),t.jsx(M,{modalOpen:u,setModalOpen:a,type:"contact",onSubmitData:d})]})}const E=({contact:e})=>{const{elderlyDetails:o,getElderlyDetails:u}=m.useContext(b),[a,d]=m.useState(!1),l=r=>{v({id:o==null?void 0:o._id,emergencyContactId:r}).then(n=>{c.custom(s=>t.jsx(x,{t:s,text:"Contact Number Deleted Successfully!"})),u()}).catch(n=>{c.custom(s=>t.jsx(f,{t:s,title:"Error",text:n.message}))})},i=()=>{const r=Math.floor(Math.random()*156)+50,n=Math.floor(Math.random()*156)+50,s=Math.floor(Math.random()*156)+50;return`rgb(${r}, ${n}, ${s})`};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex  bg-white p-4 rounded-lg items-center gap-8 justify-between",children:[t.jsxs("div",{id:"header",className:"flex flex-col gap-2 ",children:[t.jsx("div",{id:"icon",className:"text-xl p-3 text-white w-fit rounded-full",style:{backgroundColor:i()},children:t.jsx(j,{})}),t.jsxs("div",{id:"contact-info",children:[t.jsx("h1",{className:"text-xl font-semibold",children:e==null?void 0:e.contact_person}),t.jsx("p",{className:"text-base text-gray-500",children:(e==null?void 0:e.contact_number_code)+" "+(e==null?void 0:e.contact_number)})]})]}),t.jsx("div",{id:"callbtnManu",children:t.jsxs(C.Button,{menu:{items:[{label:"Remove",key:"1"}],onClick:()=>d(!0)},children:[t.jsx(y,{}),"Call"]})})]}),t.jsx(N,{onDelete:()=>l(e==null?void 0:e._id),modalOPen:a,setModalOpen:d,title:"Are you sure to remove this contact?",title2:"This process cannot be undo.",okText:"Remove Contact"})]})};export{E as EmergencyContactCard,z as default};
//# sourceMappingURL=EmergencyContactsTab-Pb5ZiELJ.js.map
