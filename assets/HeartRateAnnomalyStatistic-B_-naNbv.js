import{r as o,d as D,j as h}from"./index-Br_GEqdo.js";import{T as v}from"./Template-BAXMacal.js";import{g as A}from"./utiles-YgzOmVfp.js";import"./mockData-DnyFJQLN.js";import b from"./barChart-DKaa5cZw.js";import{C as M}from"./UseCustomContext-CViCX-HO.js";import{m as _}from"./ElderlyProfile-B6V8c33t.js";import"./WeeklyMonthlyPicker-PvGft6NO.js";import"./SwapRightOutlined-CrSe5jtl.js";import"./weekOfYear-n-0uo8J2.js";import"./index-BgZw8iPK.js";import"./weekday-BFwzlRaD.js";import"./helper-DzRZPsxz.js";import"./index-DSRFHE-c.js";import"./index-DPNdkmhK.js";import"./index-ceZKZtjc.js";import"./index-BY34WRD1.js";import"./index-Bw6T5mVA.js";import"./index-CRbLI1Fq.js";import"./elderly-CKiohUCZ.js";import"./HomeOutlined-hcIBy_LE.js";import"./PullRequestOutlined-BRHQQ4wy.js";function ot({isSummaryBtn:g=!0}){const{title:x,color:c,icon:R,dataAnalysis:E}=A("Heart Rate Anomaly Statistic"),Y=o.useContext(M),{chartToDate:m="",chartFromDate:i="",elderlyDetails:a}=Y||{},[e,T]=o.useState(D().subtract(1,"day").format("YYYY-MM-DD")),[s,C]=o.useState(D().subtract(31,"day").format("YYYY-MM-DD")),[H,S]=o.useState([]),p=o.useCallback(()=>{console.log("fromDate Todate ",s,e),_({uids:a==null?void 0:a.deviceId,to_date:s,from_date:e}).then(t=>{console.log(t==null?void 0:t.data),l(t==null?void 0:t.data),S(l(t==null?void 0:t.data))}).catch(t=>{console.log(t)})},[e,a]);o.useEffect(()=>{p()},[p]),o.useEffect(()=>{m&&i&&(T(m),C(i))},[m]);function l(t){console.log(t);const r=[];return t==null||t.forEach(n=>{var u;const f=n.date;(u=n==null?void 0:n.events)==null||u.forEach(d=>{if(d.event_type===14||d.event_type===15){const y=r.find(j=>j.date===f);y?y.anomalyHeartRate+=1:r.push({date:f,anomalyHeartRate:1})}})}),console.log(r),r}return h.jsx(v,{title:x,color:c,icon:R,dataAnalysis:E,isSummaryBtn:g,children:h.jsx(b,{data:H,color:c,dataType:"number",fromDate:s,toDate:e,chartFor:"heartRateAnomaly"})})}export{ot as default};
