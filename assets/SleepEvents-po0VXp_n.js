import{r as i,S as y,gk as b,j as n}from"./index-D5gCK70O.js";import g from"./TimelineBar-BhV2FyG1.js";import{h as E}from"./index-BJIa03lH.js";import{T as _}from"./Template-CU3x1kLa.js";import{p as l}from"./helper-J11Qf81i.js";import{C as h}from"./UseCustomContext-Bo2QbYRq.js";import{S as T}from"./SkeletonSleepingTimeline-yPIqCxg8.js";import"./index-CWnXfXoq.js";import"./WeeklyMonthlyPicker-XW8bIdb6.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="de364b87-79b5-4106-bd69-f3a94d538617",t._sentryDebugIdIdentifier="sentry-dbid-de364b87-79b5-4106-bd69-f3a94d538617")}catch{}const j=({count:t,eventName:s,color:e})=>n.jsxs("div",{className:"flex p-[4px] pr-4 items-center gap-2 rounded-xl",style:{backgroundColor:e},children:[n.jsx("span",{className:"text-[17px] p-2 py-1 font-bold bg-white rounded-[9px] text-primary",children:t}),n.jsx("span",{className:"text-[15px] font-medium text-white leading-[1.2]",children:s})]});function q(){const{sleepEventsType:t,sleepEventsColor:s}=i.useContext(y),{sleepData:e,elderlyDetails:a,sleepDataLoading:p}=i.useContext(h),[c,u]=i.useState([]),f={title:"Sleep Events Summary",pickerTypes:["day","range"],chartType:"multibar_sleep_events",dataType:"time",color:"#FF725E",apisProps:{endpoint:b,query:{uids:a==null?void 0:a.deviceId}}};return i.useEffect(()=>{if(e!=null&&e.alarm_events){const r=e==null?void 0:e.alarm_events.reduce((o,x)=>{const d=t[x.event_type],m=o.find(v=>v.event_name===d);return m?m.count+=1:o.push({event_name:d,count:1,color:s[d]}),o},[]);u(r)}},[e,t,s]),n.jsx(_,{title:"Sleep Events",color:"#FF725E",icon:n.jsx(E,{}),isDataAnalysis:!1,headerClassName:"!text-2xl",summaryProps:f,children:p?n.jsx(T,{}):n.jsxs(n.Fragment,{children:[n.jsx(g,{alarmEvents:e==null?void 0:e.alarm_events,enterBedTime:l(e==null?void 0:e.get_bed_idx),getupAfterTime:l(e==null?void 0:e.leave_bed_idx),noDataText:"No Data Detected for Today"}),n.jsx("div",{className:"flex flex-wrap gap-4 items-center justify-center",children:c.map((r,o)=>n.jsx(j,{count:r.count,eventName:r.event_name,color:r.color},o))})]})})}export{q as default};
//# sourceMappingURL=SleepEvents-po0VXp_n.js.map
