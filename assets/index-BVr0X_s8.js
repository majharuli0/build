import{gU as w,gV as I,W as k,r as t,gW as S,gX as T,H as E,j as s,gR as D,gY as _,gZ as v,gG as P,g_ as A,g$ as B,h0 as R}from"./index-Bt7R-Mgg.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="cafb4b94-8006-40ec-a511-2b41428ca18f",a._sentryDebugIdIdentifier="sentry-dbid-cafb4b94-8006-40ec-a511-2b41428ca18f")}catch{}function $(){const{page:a,setPage:o,actions:U,setActions:d}=w(),{setCustomers:b}=I(),{type:l}=k(),[m,h]=t.useState(!0),x=S("customer"),[r,p]=t.useState(0),[C,y]=t.useState({}),{data:e,isLoading:j,isSuccess:u,refetch:z}=T({...a,...C,soft_deleted:l==="deactivated"});t.useEffect(()=>{u&&e&&b((e==null?void 0:e.data)||[]),p((e==null?void 0:e.total)||0)},[e,u]);const c=t.useCallback(()=>{},[a]),g=t.useCallback(n=>{console.log("🗑️ Deleting row:",n),c()},[c]);t.useEffect(()=>{d({fetchData:c,deleteRow:g})},[c,g,d]),t.useEffect(()=>{c()},[a,c]);const N=()=>h(n=>!n),f=t.useCallback(E(n=>{y(i=>({...i,search:n==null?void 0:n.trim()})),o(i=>({...i,page:1}))},1e3),[]);return t.useEffect(()=>()=>{f.cancel()},[]),s.jsx(D,{variant:"noborder",title:s.jsxs("div",{className:"text-xl font-normal capitalize flex items-center gap-2",children:[l," Customers"," ",s.jsx(R,{className:`text-sm ${l!=="active"?l=="paused"?"bg-yellow-600":"bg-red-500":""}`,children:r})]}),className:"mb-7",actions:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"",size:"bt",variant:"outline",placeholder:"Search Customer",onChange:n=>{r>0&&f(n.target.value)}}),s.jsxs(P,{variant:"tertiary",onClick:N,className:"flex items-center gap-2 select-none",children:[s.jsx(A.span,{animate:{rotate:m?0:180},transition:{duration:.25,ease:"easeInOut"},className:"inline-block",children:s.jsx(B,{className:"w-5 h-5"})}),s.jsx("span",{children:"Priority"})]})]}),children:s.jsx("div",{className:"bg-background/50",children:s.jsx(_,{columns:x,data:(e==null?void 0:e.data)||[],isPagination:!0,total:r,limit:15,headerClassName:"bg-background/60",headerTextClassName:"text-text/60",isLoading:j,rowClassName:""})})})}export{$ as C};
//# sourceMappingURL=index-BVr0X_s8.js.map
