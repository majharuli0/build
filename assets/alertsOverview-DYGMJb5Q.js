import{e as i,j as o,ap as p,E as g,r as f,C as b}from"./index-BrMMENGu.js";import{W as w}from"./ActiveAlertsCards-C_g2Jylx.js";import{b as x}from"./elderlySupport-BZa5z82x.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new a.Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="e84b75dc-3f37-4478-b06e-077901576e49",a._sentryDebugIdIdentifier="sentry-dbid-e84b75dc-3f37-4478-b06e-077901576e49")}catch{}function D({data:a=[],fromDate:s,toDate:c}){const l=((e,t)=>{const m=[];let n=i(e);for(;n.isBefore(t)||n.isSame(t,"day");)m.push(n.format("YYYY-MM-DD")),n=n.add(1,"day");return m})(s,c).map(e=>{const t=a.filter(r=>r.date===e&&r.alarm_group==="Critical").reduce((r,d)=>r+d.count,0),m=a.filter(r=>r.date===e&&r.alarm_group==="Warning").reduce((r,d)=>r+d.count,0),n=a.filter(r=>r.date===e&&r.alarm_group==="Info").reduce((r,d)=>r+d.count,0);return{day:i(e).format("ddd"),critical:t,warning:m,problem:n}}),u={tooltip:{trigger:"axis"},grid:{left:"0%",right:"0%",bottom:"20%",top:"10%",containLabel:!0},legend:{show:!0,orient:"horizontal",bottom:"10%"},xAxis:{type:"category",data:l.map(e=>e.day)},yAxis:{type:"value"},series:[{name:"Critical",type:"line",data:l.map(e=>e.critical),itemStyle:{color:"#FF0000"},smooth:!0},{name:"Warning",type:"line",data:l.map(e=>e.warning),itemStyle:{color:"#FFA500"},smooth:!0},{name:"Problem",type:"line",data:l.map(e=>e.problem),itemStyle:{color:"#800080"},smooth:!0}]};return a.length?o.jsx(g,{option:u,style:{width:"100% !important",height:"100%"}}):o.jsx("div",{className:"h-full flex items-center w-full justify-center",children:o.jsx(p,{description:"No data available to show"})})}function C(){const[a,s]=f.useState(i().subtract(6,"days").format("YYYY-MM-DD")),[c,h]=f.useState(i().format("YYYY-MM-DD")),[y,l]=f.useState([]),u=f.useCallback(()=>{x({from_date:c,to_date:a}).then(t=>{l(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[c]);f.useEffect(()=>{u()},[u]);function e(t){t?(s(t.start),h(t.end)):(s(i().subtract(6,"days").format("YYYY-MM-DD")),h(i().format("YYYY-MM-DD")))}return o.jsxs("div",{className:"w-full h-full",children:[o.jsxs("div",{id:"ChartHeader",className:"w-full flex justify-between",children:[o.jsx("h1",{className:"text-[24px] font-bold",children:"Overview"}),o.jsx("div",{id:"chartController",className:"flex gap-4",children:o.jsx(b,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:o.jsx(w,{style:{height:"fit-content"},handleChange:t=>e(t)})})})]}),o.jsx("div",{className:"w-full h-full",children:o.jsx(D,{data:y,fromDate:a,toDate:c})})]})}export{C as A};
//# sourceMappingURL=alertsOverview-DYGMJb5Q.js.map
