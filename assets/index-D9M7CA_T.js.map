{"version":3,"file":"index-D9M7CA_T.js","sources":["../../src/Pages/Supportnursing/Dashboards/Components/RoomvView/roomAndDetails.jsx","../../node_modules/lodash/isObject.js","../../node_modules/lodash/now.js","../../node_modules/lodash/_trimmedEndIndex.js","../../node_modules/lodash/_baseTrim.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/isSymbol.js","../../node_modules/lodash/toNumber.js","../../node_modules/lodash/debounce.js","../../src/Pages/Supportnursing/Dashboards/Components/RoomvView/index.jsx"],"sourcesContent":["import React, { useEffect, useCallback, useState, useRef } from \"react\";\r\nimport \"./style.css\";\r\nimport Room1 from \"@/Components/RoomMap/RoomMap3\";\r\nimport Room2 from \"@/Components/RoomMap/RoomMap4\";\r\n\r\nimport {\r\n  transformDateAndTime,\r\n  transformDateAndTimeToDuration,\r\n  getAlertInfoViaEvent,\r\n  decodePosition,\r\n} from \"@/utils/helper\";\r\nimport AutoUpdatingDuration from \"@/Components/AutoUpdatingDuration/AutoUpdatingDuration\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { subscribeToMqtt, unsubscribeFromMqtt } from \"@/api/deviceReports\";\r\nimport useWebSocket from \"@/hook/useWebSoket\";\r\nexport default function RoomAndDetails({ data: roomData = {} }) {\r\n  const navigate = useNavigate();\r\n  const [position, setPosition] = useState(null);\r\n  const previousDeviceRef = useRef(null);\r\n  const heartBreathRateRef = useRef(false);\r\n  const [heartBreathRateActive, setHeartBreathRateActive] = useState(false);\r\n  const timeoutRef = useRef;\r\n  const getBackgroundColor = (type) => {\r\n    switch (type) {\r\n      case \"Info\":\r\n        return \"bg-blue-500\";\r\n      case \"Critical\":\r\n        return \"bg-red-500\";\r\n      case \"Warning\":\r\n        return \"bg-yellow-500\";\r\n      default:\r\n        return \"bg-blue-500\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const deviceCode = roomData?.rooms?.device_no;\r\n    if (deviceCode) {\r\n      if (\r\n        previousDeviceRef.current &&\r\n        previousDeviceRef.current !== deviceCode\r\n      ) {\r\n        unsubscribeFromMqtt({\r\n          uid: previousDeviceRef.current,\r\n          messageType: [\"1\", \"2\", \"3\", \"4\"],\r\n        })\r\n          .then(() => {})\r\n          .catch((err) => console.error(`Error unsubscribing: ${err}`));\r\n      }\r\n\r\n      // Subscribe to the new device\r\n      subscribeToMqtt({\r\n        uid: deviceCode,\r\n        messageType: [\"1\", \"2\", \"3\", \"4\"],\r\n        topics: {\r\n          pub: [deviceCode],\r\n        },\r\n      })\r\n        .then(() => {})\r\n        .catch((err) => console.error(`Error subscribing: ${err}`));\r\n\r\n      // Update the reference to the current device\r\n      previousDeviceRef.current = deviceCode;\r\n    }\r\n\r\n    // Cleanup function for unmount or page exit\r\n    return () => {\r\n      if (previousDeviceRef.current) {\r\n        unsubscribeFromMqtt({\r\n          uid: previousDeviceRef.current,\r\n          messageType: [\"1\", \"2\", \"3\", \"4\"],\r\n        })\r\n          .then(() => {})\r\n          .catch((err) =>\r\n            console.error(`Error during cleanup unsubscribe: ${err}`)\r\n          );\r\n      }\r\n    };\r\n  }, [roomData]);\r\n\r\n  function handleDecode(code) {\r\n    const data = decodePosition(code);\r\n    const modifiedPeopleData = [...data];\r\n\r\n    if (\r\n      modifiedPeopleData[0]?.postureIndex === 4 &&\r\n      heartBreathRateRef.current\r\n    ) {\r\n      // Modify the first person (index 0) posture\r\n      modifiedPeopleData[0].postureIndex = 6;\r\n      modifiedPeopleData[0].posture = \"Resident on Bed\";\r\n      modifiedPeopleData[0].color = \"#252F67\";\r\n    }\r\n\r\n    setPosition(modifiedPeopleData);\r\n  }\r\n  function handleHeartBreathUpdate() {\r\n    setHeartBreathRateActive(true);\r\n    heartBreathRateRef.current = true;\r\n\r\n    clearTimeout(timeoutRef.current); // Clear any existing timeout\r\n    timeoutRef.current = setTimeout(() => {\r\n      setHeartBreathRateActive(false);\r\n      heartBreathRateRef.current = false;\r\n    }, 5000);\r\n  }\r\n  useWebSocket({\r\n    onMessage: (data) => {\r\n      const payload = JSON.parse(data?.message)?.payload;\r\n      if (\r\n        payload?.deviceCode === roomData?.rooms?.device_no &&\r\n        (payload?.position || payload?.heartbreath)\r\n      ) {\r\n        if (payload?.position) {\r\n          handleDecode(payload.position);\r\n        }\r\n        if (payload?.heartbreath) {\r\n          handleHeartBreathUpdate();\r\n        }\r\n      }\r\n    },\r\n    dependencies: [roomData],\r\n  });\r\n  return (\r\n    <div className=\"w-full flex flex-col gap-4 p-4 pr-0 h-full pt-0\">\r\n      <div\r\n        id=\"roomAlertHeader\"\r\n        className={`alert-header !h-[75px] flex justify-between items-center relative px-4 overflow-hidden rounded-lg ${getBackgroundColor(\r\n          getAlertInfoViaEvent(roomData)?.label\r\n        )}`}\r\n      >\r\n        <div className=\"loader\"></div>\r\n        <div className=\"text-container flex flex-col gap-0 h-full justify-center text-white\">\r\n          <p className=\"text-sm text-gray-100 m-0 font-medium\">\r\n            {roomData.room_name}\r\n          </p>\r\n          <h2 className=\"text-lg font-bold m-0 leading-none \">\r\n            {getAlertInfoViaEvent(roomData)?.title}\r\n          </h2>\r\n        </div>\r\n        <span\r\n          onClick={() => {\r\n            navigate(\r\n              `/supporter/elderlies/elderly-profile/${roomData?.elderly_id}`\r\n            );\r\n          }}\r\n          className=\"text-sm text-gray-100 cursor-pointer p-3 py-2 bg-white/0 rounded-lg hover:bg-white/10 transition-all duration-300\"\r\n        >\r\n          View Elderly\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <div className=\"flex flex-col gap-0 border-b border-gray-200 pb-2 \">\r\n          <h2 className=\"text-lg font-bold m-0 leading-none\">\r\n            {roomData.elderly_name}\r\n          </h2>\r\n          <p className=\"text-sm text-gray-500 m-0\">{roomData.address}</p>\r\n        </div>\r\n        <div></div>\r\n      </div>\r\n\r\n      <div id=\"roomMapAndDetails\" className=\"flex gap-4 h-full overflow-hidden\">\r\n        <div className=\"map-container w-2/3 border overflow-hidden h-full\">\r\n          {roomData?.rooms?.mount_type === 1 &&\r\n            roomData?.rooms?.is_device_bind && (\r\n              <Room1 roomInfo={roomData?.rooms} position={position} />\r\n            )}\r\n          {roomData?.rooms?.mount_type === 2 &&\r\n            roomData?.rooms?.is_device_bind && (\r\n              <Room2 roomInfo={roomData?.rooms} position={position} />\r\n            )}\r\n          {!roomData?.rooms?.is_device_bind && (\r\n            <span className=\"w-full h-full flex items-center justify-center\">\r\n              <p> No Device Data Available</p>\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"details-container w-1/3 \">\r\n          <div className=\"flex flex-col gap-0 p-3\">\r\n            <h2 className=\"text-xl font-bold m-0 leading-none\">\r\n              {transformDateAndTime(roomData.created_at)}\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500 m-0 font-medium\">\r\n              Time of Incident\r\n            </p>\r\n          </div>\r\n          <div className=\"flex flex-col gap-0 p-3\">\r\n            <h2 className=\"text-xl font-bold m-0 leading-none\">\r\n              <AutoUpdatingDuration date={roomData.created_at} />\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500 m-0 font-medium\">Alert Life</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  useCallback,\r\n  useMemo,\r\n  useContext,\r\n} from \"react\";\r\nimport { Segmented, Badge, Space, Spin, Empty, Collapse } from \"antd\";\r\nimport RoomAndDetails from \"./roomAndDetails\";\r\nimport { getAlertList } from \"@/api/elderlySupport\";\r\nimport { getAlertInfoViaEvent, getAlertsGroup } from \"@/utils/helper\";\r\nimport dayjs from \"dayjs\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport { useNotification } from \"@/Context/useNotification\";\r\n\r\nconst { Panel } = Collapse;\r\n\r\nexport default function RoomView() {\r\n  const { setModalDataList, modalDataList } = useContext(SidebarContext);\r\n  const { notificationEvent } = useNotification();\r\n\r\n  const [alertType, setAlertType] = useState(\"All\");\r\n  const [alertList, setAlertList] = useState([]);\r\n  const [activeItem, setActiveItem] = useState(null);\r\n  const [selectedAlert, setSelectedAlert] = useState(null);\r\n  const [alertTypeQuery, setAlertTypeQuery] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const listRef = useRef(null);\r\n\r\n  // Fetch alerts from the API\r\n  const getAlertListData = useCallback(() => {\r\n    if (!hasMore || loading) return;\r\n    setLoading(true);\r\n    getAlertList({\r\n      to_date: \"2024-11-30\",\r\n      from_date: dayjs().format(\"YYYY-MM-DD\"),\r\n      is_resolved: false,\r\n      limit: 20,\r\n      show_device_area: 1,\r\n      show_device_boundaries: 1,\r\n      page,\r\n      ...alertTypeQuery,\r\n    })\r\n      .then((res) => {\r\n        setAlertList((prev) => [...prev, ...res.data]);\r\n        if (page >= res.totalPages) {\r\n          setHasMore(false);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setLoading(false);\r\n      });\r\n  }, [alertTypeQuery, page, hasMore, loading]);\r\n\r\n  useEffect(() => {\r\n    getAlertListData();\r\n  }, [page, alertTypeQuery]);\r\n\r\n  // Set the first alert as selected by default\r\n  useEffect(() => {\r\n    if (alertList.length > 0 && !activeItem) {\r\n      const firstAlert = alertList[0];\r\n      setActiveItem(firstAlert._id);\r\n      setSelectedAlert(firstAlert);\r\n    }\r\n  }, [alertList, activeItem]);\r\n\r\n  // Handle alert selection\r\n  const onChange = (key) => {\r\n    setActiveItem(key);\r\n    const selected = alertList.find((alert) => alert._id === key);\r\n    setSelectedAlert(selected);\r\n  };\r\n\r\n  // Handle scroll for pagination\r\n  const handleScroll = useCallback(\r\n    debounce(() => {\r\n      if (!listRef.current || loading || !hasMore) return;\r\n\r\n      const { scrollTop, scrollHeight, clientHeight } = listRef.current;\r\n      if (scrollTop + clientHeight >= scrollHeight - 50) {\r\n        setPage((prevPage) => prevPage + 1);\r\n      }\r\n    }, 200),\r\n    [loading, hasMore]\r\n  );\r\n\r\n  // Handle segment filter change\r\n  const onSegmentChange = (value) => {\r\n    setAlertTypeQuery(getAlertsGroup(value));\r\n    setPage(1);\r\n    setAlertList([]);\r\n    setHasMore(true);\r\n  };\r\n  useEffect(() => {\r\n    if (notificationEvent) {\r\n      getAlertListData();\r\n    }\r\n  }, [notificationEvent]);\r\n  useEffect(() => {\r\n    const listElement = listRef.current;\r\n    if (listElement) {\r\n      listElement.addEventListener(\"scroll\", handleScroll);\r\n    }\r\n    return () => {\r\n      if (listElement) {\r\n        listElement.removeEventListener(\"scroll\", handleScroll);\r\n      }\r\n    };\r\n  }, [handleScroll]);\r\n\r\n  // Group alerts by room_name using useMemo for performance\r\n  const groupedAlerts = useMemo(() => {\r\n    return alertList.reduce((acc, alert) => {\r\n      const roomName = alert.room_name;\r\n      if (!acc[roomName]) {\r\n        acc[roomName] = [];\r\n      }\r\n      acc[roomName].push(alert);\r\n      return acc;\r\n    }, {});\r\n  }, [alertList]);\r\n\r\n  // Function to map alert type labels to colors\r\n  const getColorForLabel = (label) => {\r\n    switch (label) {\r\n      case \"Critical\":\r\n        return \"red\";\r\n      case \"Warning\":\r\n        return \"orange\";\r\n      case \"Info\":\r\n        return \"blue\";\r\n      default:\r\n        return \"gray\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full flex justify-center items-center h-[495px] overflow-hidden\">\r\n      <div className=\"w-[30%] flex flex-col gap-4 h-full\">\r\n        <Segmented\r\n          style={{ width: \"100%\" }}\r\n          block\r\n          options={segmentsForAlertView}\r\n          onChange={(value) => onSegmentChange(value)}\r\n        />\r\n        <div\r\n          ref={listRef}\r\n          className=\"w-full overflow-auto\"\r\n          style={{ height: \"440px\" }}\r\n        >\r\n          {alertList.length === 0 && !loading && (\r\n            <Empty description=\"No active alerts available\" />\r\n          )}\r\n          {alertList.length > 0 && (\r\n            <Collapse>\r\n              {Object.entries(groupedAlerts).map(([roomName, alerts]) => {\r\n                // Get unique alert types for this room\r\n                const uniqueTypes = [\r\n                  ...new Set(\r\n                    alerts.map((alert) => getAlertInfoViaEvent(alert).label)\r\n                  ),\r\n                ];\r\n                return (\r\n                  <Panel\r\n                    key={roomName}\r\n                    header={\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-black font-semibold\">\r\n                          {roomName}\r\n                        </span>\r\n                        {/* <Space>\r\n                          {uniqueTypes.map((type) => (\r\n                            <Badge key={type} color={getColorForLabel(type)} />\r\n                          ))}\r\n                        </Space> */}\r\n                      </div>\r\n                    }\r\n                  >\r\n                    {alerts.map((alert) => (\r\n                      <div\r\n                        key={alert._id}\r\n                        onClick={() => onChange(alert._id)}\r\n                        className={`flex justify-between items-center p-2 cursor-pointer rounded-md px-4 ${\r\n                          activeItem === alert._id ? \"bg-gray-100\" : \"\"\r\n                        }`}\r\n                      >\r\n                        <span className=\"text-[14px] font-semibold\">\r\n                          {dayjs(alert.created_at).format(\"hh:mm:ss a\")}\r\n                        </span>\r\n                        <Badge\r\n                          color={getColorForLabel(\r\n                            getAlertInfoViaEvent(alert).label\r\n                          )}\r\n                          size=\"large\"\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </Panel>\r\n                );\r\n              })}\r\n            </Collapse>\r\n          )}\r\n          {loading && (\r\n            <div className=\"w-full flex justify-center py-4\">\r\n              <Spin />\r\n            </div>\r\n          )}\r\n          {!hasMore && alertList.length > 0 && (\r\n            <div className=\"w-full text-center py-4 text-gray-500\">\r\n              No more alerts to load\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"w-[70%] h-full\">\r\n        {selectedAlert ? (\r\n          <RoomAndDetails data={selectedAlert} />\r\n        ) : (\r\n          <Empty description=\"Select an alert to view details\" />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const segmentsForAlertView = [\r\n  { label: \"All\", value: \"All\" },\r\n  { label: \"Critical\", value: \"Critical\" },\r\n  { label: \"Warning\", value: \"Warning\" },\r\n  { label: \"Info\", value: \"Info\" },\r\n];\r\n"],"names":["RoomAndDetails","roomData","navigate","useNavigate","position","setPosition","useState","previousDeviceRef","useRef","heartBreathRateRef","heartBreathRateActive","setHeartBreathRateActive","timeoutRef","getBackgroundColor","type","useEffect","deviceCode","_a","unsubscribeFromMqtt","err","subscribeToMqtt","handleDecode","code","modifiedPeopleData","decodePosition","handleHeartBreathUpdate","useWebSocket","data","payload","_b","jsxs","getAlertInfoViaEvent","jsx","_c","_d","Room1","_e","_f","Room2","_g","transformDateAndTime","AutoUpdatingDuration","isObject","value","isObject_1","root","require$$0","now","now_1","reWhitespace","trimmedEndIndex","string","index","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","isObjectLike","isObjectLike_1","baseGetTag","require$$1","symbolTag","isSymbol","isSymbol_1","require$$2","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","toNumber_1","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","debounce_1","Panel","Collapse","RoomView","useContext","SidebarContext","notificationEvent","useNotification","alertList","setAlertList","activeItem","setActiveItem","selectedAlert","setSelectedAlert","alertTypeQuery","setAlertTypeQuery","loading","setLoading","page","setPage","hasMore","setHasMore","listRef","getAlertListData","useCallback","getAlertList","dayjs","res","prev","firstAlert","onChange","key","selected","alert","handleScroll","scrollTop","scrollHeight","clientHeight","prevPage","onSegmentChange","getAlertsGroup","listElement","groupedAlerts","useMemo","acc","roomName","getColorForLabel","label","Segmented","segmentsForAlertView","Empty","alerts","Badge","Spin"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8]}