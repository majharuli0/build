import{O as W,g as p,d as a,r as f,j as u,bf as w,bg as b}from"./index-B0OLlmBv.js";import{w as M}from"./weekOfYear-B7CmjYEE.js";var k={exports:{}};(function(c,y){(function(n,h){c.exports=h()})(W,function(){var n="day";return function(h,s,o){var l=function(e){return e.add(4-e.isoWeekday(),n)},i=s.prototype;i.isoWeekYear=function(){return l(this).year()},i.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),n);var t,r,d,m,v=l(this),O=(t=this.isoWeekYear(),r=this.$u,d=(r?o.utc:o)().year(t).startOf("year"),m=4-d.isoWeekday(),d.isoWeekday()>4&&(m+=7),d.add(m,n));return v.diff(O,"week")+1},i.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var x=i.startOf;i.startOf=function(e,t){var r=this.$utils(),d=!!r.u(t)||t;return r.p(e)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):x.bind(this)(e,t)}}})})(k);var j=k.exports;const D=p(j);a.extend(D);a.extend(M);const g=c=>{const{handleClick:y=()=>{},name:n,setLoading:h}=c,[s,o]=f.useState({text:"Today",value:a(),endvalue:""}),l=f.useRef(!0),i=()=>{if(n=="Day"||n=="Daily"){const e=s.value.subtract(1,"day");e.isBefore(a(),"day")&&o({text:e.isSame(a(),"day")?"Today":e.isSame(a().subtract(1,"day"),"day")?"Yesterday":e.format("YYYY-MM-DD"),value:e})}else if(n=="Week"){let e=s.value.subtract(1,"week"),t=s.endvalue.subtract(1,"week");o({value:e,endvalue:t,text:`Week ${e.week()}`})}else{let e=s.value.subtract(1,"month"),t=s.endvalue.subtract(1,"month");e=a(e).startOf("month"),t=a(t).endOf("month"),console.log("startOfMonth.month()",e.month()),o({value:e,endvalue:t,text:`Month ${e.month()+1}`})}},x=()=>{if(n=="Day"||n=="Daily"){let e=s.value;e.isBefore(a(),"day")&&(e=s.value.add(1,"day"),o({text:e.isSame(a(),"day")?"Today":e.isSame(a().subtract(1,"day"),"day")?"Yesterday":e.format("YYYY-MM-DD"),value:e}))}else if(n=="Week"){const e=s.value.add(1,"week"),t=s.endvalue.add(1,"week");if(e.isAfter(a().startOf("isoWeek")))return;let r=`Week ${e.week()}`;o({value:e,endvalue:t,text:r});return}else{let e=s.value.add(1,"month"),t=s.endvalue.add(1,"month");if(e=a(e).startOf("month"),t=a(t).endOf("month"),t.isAfter(a(),"month"))return;o({value:e,endvalue:t,text:`Month ${e.month()+1}`})}};return f.useEffect(()=>{if(l.current){l.current=!1;return}y(s)},[s]),f.useEffect(()=>{if(n=="Day"||n=="Daily")o({value:a(),endvalue:"",text:"Today"});else if(n=="Week"){let e=a().startOf("isoWeek");o({value:e,endvalue:a().endOf("isoWeek"),text:`Week ${e.week()}`})}else{const e=a().startOf("month"),t=a().endOf("month");o({value:e,endvalue:t,text:`Month ${e.month()+1}`})}},[n]),u.jsxs("div",{className:"flex w-[200px] justify-between items-center",children:[u.jsxs("div",{className:"w-[32px] h-[32px] bg-OnButtonNormal rounded-[100px] flex items-center justify-center mr-[5px] ",onClick:i,children:[" ",u.jsx(w,{className:"text-white"})]}),u.jsx("div",{className:" text-[16px] text-cblock font-semibold",children:s.text}),u.jsxs("div",{className:"w-[32px] h-[32px] bg-OnButtonNormal rounded-[100px] flex items-center justify-center ",onClick:x,children:[" ",u.jsx(b,{className:"text-white"})]})]})};export{g as T,D as i};
