import{r as e,d as y,j as D}from"./index-xg-tzkqX.js";import{T as v}from"./Template-DCJ1MXff.js";import{g as A}from"./utiles-DDjrYRld.js";import"./mockData-DnyFJQLN.js";import b from"./barChart-0sqiKhnP.js";import{C as M}from"./UseCustomContext-_WROZTzP.js";import{m as _}from"./ElderlyProfile-ZsEfAUSV.js";import"./WeeklyMonthlyPicker-DxSqLHpw.js";import"./SwapRightOutlined-DZiv64Kc.js";import"./weekOfYear-BXczdFbL.js";import"./index-C3N9kA4l.js";import"./weekday-BS3Sijxu.js";import"./helper-DzRZPsxz.js";import"./index-BijaNXMm.js";import"./index-CF_lbRn9.js";import"./index-DrrcB9n8.js";import"./index-BB9CNxc3.js";import"./index-C-8Io-iz.js";import"./index-DgT4v-pJ.js";import"./elderly-D3ANXEtV.js";import"./HomeOutlined-CseLN6oN.js";import"./PullRequestOutlined-CYEH4cNN.js";function et({isSummaryBtn:h=!0}){const{title:x,color:i,icon:R,dataAnalysis:E}=A("Heart Rate Anomaly Statistic"),Y=e.useContext(M),{chartToDate:s="",chartFromDate:c="",elderlyDetails:o}=Y||{},[a,g]=e.useState(y().subtract(1,"day").format("YYYY-MM-DD")),[m,T]=e.useState(y().subtract(31,"day").format("YYYY-MM-DD")),[C,H]=e.useState([]),p=e.useCallback(()=>{console.log("fromDate Todate ",m,a),_({uids:o==null?void 0:o.deviceId,to_date:m,from_date:a}).then(t=>{H(S(t.data||[]))}).catch(t=>{console.log(t)})},[a,o]);e.useEffect(()=>{p()},[p]),e.useEffect(()=>{s&&c&&(g(s),T(c))},[s]);function S(t){const n=[];return t==null||t.forEach(r=>{var u;const f=r.date;(u=r==null?void 0:r.events)==null||u.forEach(l=>{if(l.event_type===14||l.event_type===15){const d=n.find(j=>j.date===f);d?d.anomalyHeartRate+=1:n.push({date:f,anomalyHeartRate:1})}})}),n}return D.jsx(v,{title:x,color:i,icon:R,dataAnalysis:E,isSummaryBtn:h,children:D.jsx(b,{data:C,color:i,dataType:"number",fromDate:m,toDate:a,chartFor:"heartRateAnomaly"})})}export{et as default};
