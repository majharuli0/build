import{r as s,u as B,d as h,j as e,B as f,I as O,a6 as v,aN as j}from"./index-3aj3A_DK.js";import{R as z}from"./index-BKeNNZaj.js";import"./index-DkLHeYwK.js";import"./line-cWuaavxt.js";import{u as x,A as Q,a as $}from"./alertsOverview-KAgzelaC.js";import"./WeeklyMonthlyPicker-kzRq-FMn.js";import{C as U}from"./CreateAndEditModal-D5m0-DC0.js";import{g as W,a as G}from"./elderlySupport-gSQF9mS_.js";import{g as J}from"./helper-DmUrDoc-.js";import{g as K}from"./elderly-BlPY9wdM.js";import{S as X}from"./index-C3ovgQbK.js";import{R as Z}from"./AimOutlined-CzBXgKqJ.js";import{R as q}from"./HomeOutlined-BY8K1-1j.js";import"./RoomMap4-Ddg3S3ao.js";import"./UseCustomContext-51yKrxNJ.js";import"./AlertName-C8BaMqC4.js";import"./ActionManu-5SjWSJ_J.js";import"./index-CSsGtE68.js";import"./SuccessModal-DhsAcZWH.js";import"./index-CTSZBLEs.js";import"./LargeTextViewerModal-i80ZSNFc.js";import"./slick-theme-Ci2pe0nS.js";import"./index-DffDRkJ-.js";import"./AlertCloseModal-Bi22rEyA.js";import"./SwapRightOutlined-C3HrOO53.js";import"./weekOfYear-BN5tRf7H.js";import"./index-D4Sn9gu9.js";import"./weekday-DRzMGWPb.js";import"./leaflet-src-CxLyHPas.js";/* empty css                */import"./InfoCircleOutlined-Eri0HSEf.js";import"./index-vnlTB-od.js";function Ie(){s.useState("Map View");const[y,b]=s.useState(!1);s.useState([]),x("activeAlert");const w=x("recentlyClosedAlert"),A=x("events"),S=B(),[o,C]=s.useState([]),[i,N]=s.useState(1),[_,E]=s.useState([]),[L,R]=s.useState([]),[T,H]=s.useState(0),[M,n]=s.useState(!0),[p,I]=s.useState(null),[te,k]=s.useState(0),[c,g]=s.useState(),[l,V]=s.useState(""),[D,F]=s.useState(!1),d=s.useCallback(()=>{n(!0),W({to_date:"2024-11-30",from_date:h().format("YYYY-MM-DD"),is_resolved:!0,page:i,...p}).then(t=>{k(t.total),console.log("total ===============>",t.total),n(!1),C(t.data)}).catch(t=>{n(!1),console.log(t)})},[i,p]);s.useEffect(()=>{d()},[d]);const m=s.useCallback(()=>{G({to_date:"2024-11-30",from_date:h().format("YYYY-MM-DD"),page:L}).then(t=>{H(t.total),t.data.length>0&&E(t.data)}).catch(t=>{console.log(t)})},[i]);s.useEffect(()=>{m()},[m]);const u=s.useCallback(()=>{if(l.trim()===""){g([]);return}K({search:l}).then(t=>{g(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[l]);s.useEffect(()=>{u()},[u]);function P(t){I(J(t))}const a=(t,r)=>{if(!r)return t;const Y=new RegExp(`(${r})`,"gi");return t.replace(Y,'<mark style="background-color: #80CAA7; color: white;">$1</mark>')};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 flex-col pt-8 pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full",children:e.jsx(f,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsxs("div",{className:"w-[350px] relative",children:[e.jsx(O,{className:"rounded-[10px]  min-w-[350px] w-full ",size:"large",placeholder:"Search Anything",style:{height:"44px"},onChange:t=>V(t.target.value),onFocus:()=>F(!0)}),D&&l.trim()!==""&&e.jsx("div",{id:"searchResult",className:"mt-3 max-h-[600px] overflow-auto rounded-lg shadow-lg bg-white border border-gray-300 absolute top-10 left-0 z-50",children:e.jsx("ul",{children:c==null?void 0:c.map(t=>e.jsxs("li",{className:"p-4 hover:bg-gray-100 border-b border-gray-200 cursor-pointer",onClick:()=>{S(`/supporter/elderlies/elderly-profile/${t==null?void 0:t._id}`)},children:[e.jsx("div",{className:"font-semibold text-lg text-gray-800",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.name,l)}})}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Age:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.age.toString(),l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Address:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.address||"N/A",l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Diseases:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.diseases.join(", "),l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Comments:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.comments.map(r=>r.comment).join(", "),l)}})]})]},t._id))})})]})})}),e.jsx("div",{className:"w-full",children:e.jsx(Q,{refreshAlertList:d})}),e.jsxs("div",{className:"w-full flex gap-4 md:flex-row flex-col",children:[e.jsx("div",{className:"w-full  p-0 ",children:e.jsxs("div",{className:"bg-white  rounded-2xl  p-6 h-[600px]",children:[e.jsx("div",{className:"flex justify-between items-center mb-5",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Room View"})}),e.jsx(z,{ViewFor:"endUser"})]})}),e.jsx("div",{className:"bg-white w-full md:w-[48%] rounded-2xl p-6 h-[600px] overflow-hidden",children:e.jsx($,{})})]}),e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Recently Closed Alerts"}),e.jsx("div",{children:e.jsx(f,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}},children:e.jsx(X,{options:ee,onChange:t=>P(t)})})})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(v.Provider,{value:{total:o==null?void 0:o.length,page:1,SetPage:N,limit:6},children:e.jsx(j,{loading:M,pageSize:6,tableData:o,columns:w})})})]}),e.jsxs("div",{id:"Events",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsx("div",{id:"Events_Header",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Events"})}),e.jsx("div",{id:"Events_Table",className:"w-full",children:e.jsx(v.Provider,{value:{total:T,page:1,SetPage:()=>R,getList:()=>m},children:e.jsx(j,{pageSize:6,tableData:_,columns:A})})})]})]}),e.jsx(U,{modalOpen:y,setModalOpen:b,type:"event"})]})}const ke=[{label:" Map View",value:"Map View",icon:e.jsx(Z,{})},{label:"Room View",value:"Room View",icon:e.jsx(q,{})}],ee=[{label:"All Alerts",value:"All Alerts"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Informational",value:"Info"}];export{ee as activeAlertSegmentOptions,ke as alertViewSegmentOptions,Ie as default};
