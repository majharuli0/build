{"version":3,"file":"index-qLKQxIaQ.js","sources":["../../src/api/AlertsHistory.js","../../src/Pages/AlertsHistory/index.jsx"],"sourcesContent":["import request from \"../utils/request\";\r\n\r\nexport function gactivePage(data) {\r\n  console.log(data);\r\n  return request({\r\n    url: \"/boot/active/web/closed/active/page\",\r\n    method: \"post\",\r\n    data,\r\n  });\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport TabMenus from '@/Components/TabMenus'\r\nimport { gactivePage } from '@/api/AlertsHistory'\r\nimport { Table, Tag } from 'antd';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport TypeIcon from '@/Components/TypeIcon'\r\nimport BlockSerch from '@/Components/BlockSerch'\r\nconst AlertsHistory = () => {\r\n  const navigate = useNavigate()\r\n\r\n  const [activeTab, setActiveTab] = useState('AII')\r\n  const [query, setQuery] = useState({\r\n    current: 1,\r\n    size: 10,\r\n    priority: undefined,\r\n    radarRoomId: undefined\r\n  })\r\n  const [menus, setMenus] = useState([\r\n    {\r\n      text: \"AII\",\r\n      bo: true,\r\n      warring: false\r\n    },\r\n    {\r\n      text: \"Critical\",\r\n      bo: true,\r\n      warring: false\r\n\r\n    },\r\n    {\r\n      text: \"Warning\",\r\n      bo: true,\r\n      warring: false\r\n\r\n    },\r\n    // {\r\n    //   text: \"Low Priority\",\r\n    //   bo: true,\r\n    //   warring: false\r\n    // },\r\n\r\n  ])\r\n  const [tabdata, setTabdata] = useState([])\r\n  const [total, setTotal] = useState(0)\r\n  const onChange = (page) => {\r\n    setQuery({ ...query, current: page })\r\n  }\r\n  const nato = () => {\r\n    navigate(`${1}`)\r\n  }\r\n\r\n  const tabcolumns = [\r\n    {\r\n      title: 'Alert',\r\n      dataIndex: 'name',\r\n      key: 'key',\r\n      render: (text, row) => {\r\n        return (\r\n          <div className='flex items-center text-14px text-cblock font-[500]'>\r\n            {/* <img className='w-[26px] h-[26px]' src={row.iconUrl} style={{ borderRadius: \"50%\" }} /> */}\r\n            <div className='ml-[10px]'>{row.alertName}</div>\r\n          </div>\r\n        )\r\n      },\r\n      //   onClick={() => nato()}\r\n    },\r\n    {\r\n      title: 'Type',\r\n      dataIndex: 'alarmTypeTrendValue',\r\n      key: 'alarmTypeTrendValue',\r\n      width: \"150\",\r\n      render: (text) => <TypeIcon text={text} />,\r\n    },\r\n    {\r\n      title: 'Alert Time',\r\n      dataIndex: 'displayAlertTime',\r\n      key: 'displayAlertTime',\r\n      render: (text) => <div className='flex items-center text-14px text-cblock font-[500]'> {text}</div>,\r\n    },\r\n\r\n    {\r\n      title: 'Elderly',\r\n      dataIndex: 'ActiveAlert',\r\n      key: 'ActiveAlert',\r\n      render: (text, row) => <div className='flex items-center text-14px text-cblock font-[500]'>\r\n        <div>{row.firstName} {row.lastName} {row?.roomNumber ? `(${row.roomNumber})` : \"\"}</div>\r\n      </div>,\r\n    },\r\n    {\r\n      title: 'Alert Closed Time',\r\n      dataIndex: 'displayClosedTime',\r\n      key: 'displayClosedTime',\r\n      render: (text) => <div className='flex items-center text-14px text-cblock font-[500]'> {text}</div>,\r\n\r\n    },\r\n    {\r\n      title: 'Alert Life',\r\n      dataIndex: 'alertLife',\r\n      key: 'alertLife',\r\n      render: (text) => <div className='flex items-center text-14px text-cblock font-[500]'> {text}</div>,\r\n\r\n    },\r\n    {\r\n      title: 'Closed By',\r\n      dataIndex: 'Allergies',\r\n      key: 'Allergies',\r\n      render: (text, row) => <div className='flex items-center text-14px text-cblock font-[500]'> {row?.doneUserMap?.role}{row?.doneUserMap ? `(${row?.doneUserMap?.lastName}${row?.doneUserMap?.firstName})` : \"\"}</div>,\r\n\r\n    },\r\n    {\r\n      title: 'Comment',\r\n      dataIndex: 'comment',\r\n      key: 'comment',\r\n      render: (text) => <div className='flex items-center text-14px text-cblock font-[500]'> {text}</div>,\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n    // {\r\n    //   title: 'Value',\r\n    //   key: 'tags',\r\n    //   dataIndex: 'tags',\r\n    //   render: (_, { tags }) => (\r\n    //     <>\r\n    //       {tags.map((tag) => {\r\n    //         let color = tag.length > 5 ? 'geekblue' : 'green';\r\n    //         if (tag === 'loser') {\r\n    //           color = 'volcano';\r\n    //         }\r\n    //         return (\r\n    //           <Tag color={color} key={tag}>\r\n    //             {tag.toUpperCase()}\r\n    //           </Tag>\r\n    //         );\r\n    //       })}\r\n    //     </>\r\n    //   ),\r\n    // },\r\n\r\n  ];\r\n  const handleChange = (row) => {\r\n\r\n    const { key } = row\r\n    let priority = undefined\r\n    if (key == 1) {\r\n      priority = 2\r\n    } else if (key == 2) {\r\n      priority = 1\r\n    } else if (key == 3) {\r\n      priority = 0\r\n    }\r\n    setQuery({ ...query, priority })\r\n  }\r\n  const handBlurchange = (e) => {\r\n    setQuery({ current: 1, size: 10, radarRoomId: e });\r\n  }\r\n  const getlist = () => {\r\n\r\n    gactivePage({ ...query })\r\n      .then(datas => {\r\n        let { data: { records, total } } = datas\r\n        console.log(records);\r\n        \r\n        setTabdata(records)\r\n        setTotal(total)\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    getlist()\r\n    console.log(query);\r\n    \r\n  }, [query])\r\n  return (\r\n    <>\r\n      <div className='flex h-[100px] justify-between  items-center mr-[50px] '>\r\n        <div className='text-[28px] font-semibold' >Alerts History</div>\r\n        <BlockSerch placeholder=\"Search for Elderly or Room... \" handBlurchange={handBlurchange} />\r\n      </div>\r\n      <div className=\"  mb-[30px] pt-[0px]\">\r\n        <div className=' pb-[10px] flex'>\r\n          <TabMenus menus={menus} activeTab={activeTab} setActiveTab={setActiveTab} handleChange={handleChange} />\r\n        </div>\r\n        <div className=\" bg-white rounded-2xl\">\r\n\r\n          {/* =============Admin Support Agent data table============== */}\r\n          <div className=\" grid grid-cols-1 pt-[20px]\">\r\n\r\n            <Table columns={tabcolumns} dataSource={tabdata} pagination={{ total: total, pageSize: query.size, onChange }} className='newTable' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* ---------Create new Support Agent-------- */}\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AlertsHistory"],"names":["gactivePage","data","request","AlertsHistory","useNavigate","activeTab","setActiveTab","useState","query","setQuery","menus","setMenus","tabdata","setTabdata","total","setTotal","onChange","page","tabcolumns","text","row","jsx","TypeIcon","jsxs","_a","_b","_c","handleChange","key","priority","handBlurchange","e","getlist","datas","records","useEffect","Fragment","BlockSerch","TabMenus","Table"],"mappings":"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"}