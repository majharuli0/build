import{r as s,u as F,d as m,j as e,B as g,I as P,a6 as h,aN as f}from"./index-C2rC2gQB.js";import{R as B}from"./index-BZagjNh2.js";import"./index-XCmpYI5h.js";import"./line-Bm0ju0PA.js";import{u as x,A as O,a as z}from"./alertsOverview-ohZiOcFN.js";import"./WeeklyMonthlyPicker-CF-DKFDa.js";import{C as $}from"./CreateAndEditModal-CFcTm5CH.js";import{g as Q,a as U}from"./elderlySupport-DodSkdTI.js";import"./helper-DwJfSDN4.js";import{g as W}from"./elderly-BfYn3Cyy.js";import{R as G}from"./AimOutlined-BaC9xLL7.js";import{R as J}from"./HomeOutlined-DROWcYSV.js";import"./RoomMap4-CJhjEaKQ.js";import"./UseCustomContext-DCXS3wNJ.js";import"./ActionManu-B23FSion.js";import"./index-D1NB5jsY.js";import"./SuccessModal-fxHWWX1v.js";import"./index-CKZQk7k_.js";import"./index-Dm-etYzy.js";import"./index-DESjgUHU.js";import"./AlertName-Da05-QtX.js";import"./LargeTextViewerModal-BC0q1DPG.js";import"./slick-theme-D9n39ena.js";import"./index-BrPycZPU.js";import"./AlertCloseModal-DljSNnOw.js";import"./SwapRightOutlined-BV_tvTCc.js";import"./weekOfYear-BjTNn68d.js";import"./index-B38gNzAV.js";import"./weekday-Dhcqh1Db.js";import"./leaflet-src-C3h1C9IM.js";/* empty css                */import"./InfoCircleOutlined-B4obNc1K.js";function Ee(){s.useState("Map View");const[v,j]=s.useState(!1);s.useState([]),x("activeAlert");const b=x("recentlyClosedAlert"),y=x("events"),w=F(),[A,S]=s.useState([]),[o,C]=s.useState(1),[N,_]=s.useState([]),[E,L]=s.useState([]),[M,R]=s.useState(0),[T,i]=s.useState(!0);s.useState(null);const[H,I]=s.useState(0),[n,p]=s.useState(),[l,Y]=s.useState(""),[k,D]=s.useState(!1),c=s.useCallback(()=>{i(!0),console.log(o),Q({to_date:m().subtract(2,"days").format("YYYY-MM-DD"),from_date:m().format("YYYY-MM-DD"),is_resolved:!0,...o}).then(t=>{I(t.total),console.log("total ===============>",t.total),i(!1),S(t.data)}).catch(t=>{i(!1),console.log(t)})},[o]);s.useEffect(()=>{c()},[c]);const d=s.useCallback(()=>{U({to_date:"2024-11-30",from_date:m().format("YYYY-MM-DD"),page:E}).then(t=>{R(t.total),t.data.length>0&&_(t.data)}).catch(t=>{console.log(t)})},[o]);s.useEffect(()=>{d()},[d]);const u=s.useCallback(()=>{if(l.trim()===""){p([]);return}W({search:l}).then(t=>{p(t==null?void 0:t.data)}).catch(t=>{console.log(t)})},[l]);s.useEffect(()=>{u()},[u]);const a=(t,r)=>{if(!r)return t;const V=new RegExp(`(${r})`,"gi");return t.replace(V,'<mark style="background-color: #80CAA7; color: white;">$1</mark>')};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 flex-col pt-8 pb-8",children:[e.jsx("div",{className:"flex item-center justify-between w-full",children:e.jsx(g,{theme:{token:{fontFamily:"Baloo2",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:e.jsxs("div",{className:"w-[350px] relative",children:[e.jsx(P,{className:"rounded-[10px]  min-w-[350px] w-full ",size:"large",placeholder:"Search Anything",style:{height:"44px"},onChange:t=>Y(t.target.value),onFocus:()=>D(!0)}),k&&l.trim()!==""&&e.jsx("div",{id:"searchResult",className:"mt-3 max-h-[600px] overflow-auto rounded-lg shadow-lg bg-white border border-gray-300 absolute top-10 left-0 z-[1000] w-full",children:e.jsx("ul",{children:n==null?void 0:n.map(t=>e.jsxs("li",{className:"p-4 hover:bg-gray-100 border-b border-gray-200 cursor-pointer",onClick:()=>{w(`/supporter/elderlies/elderly-profile/${t==null?void 0:t._id}`)},children:[e.jsx("div",{className:"font-semibold text-lg text-gray-800",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.name,l)}})}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Age:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.age.toString(),l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Address:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.address||"N/A",l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Diseases:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.diseases.join(", "),l)}})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("strong",{children:"Comments:"})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a(t.comments.map(r=>r.comment).join(", "),l)}})]})]},t._id))})})]})})}),e.jsx("div",{className:"w-full",children:e.jsx(O,{refreshAlertList:c,isElderlyVisible:!0})}),e.jsxs("div",{className:"w-full flex gap-4 md:flex-row flex-col",children:[e.jsx("div",{className:"w-full  p-0 ",children:e.jsxs("div",{className:"bg-white  rounded-2xl  p-6 h-[600px]",children:[e.jsx("div",{className:"flex justify-between items-center mb-5",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Room View"})}),e.jsx(B,{ViewFor:"endUser"})]})}),e.jsx("div",{className:"bg-white w-full md:w-[48%] rounded-2xl p-6 h-[600px] overflow-hidden",children:e.jsx(z,{})})]}),e.jsxs("div",{id:"Recently_Closed_Alerts",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsxs("div",{id:"Recently_Closed_Alerts_Header",className:"w-full flex justify-between",children:[e.jsx("h1",{className:"text-[24px] font-bold",children:"Recently Closed Alerts"}),e.jsx("div",{children:e.jsx(g,{theme:{components:{Segmented:{itemSelectedBg:"#252F67",itemSelectedColor:"#fff",fontFamily:"Baloo2"}}}})})]}),e.jsx("div",{id:"Recently_Closed_Alerts_Table",className:"w-full",children:e.jsx(h.Provider,{value:{total:H,page:1,SetPage:C,limit:6},children:e.jsx(f,{loading:T,pageSize:6,tableData:A,columns:b})})})]}),e.jsxs("div",{id:"Events",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6",children:[e.jsx("div",{id:"Events_Header",className:"w-full flex justify-between",children:e.jsx("h1",{className:"text-[24px] font-bold",children:"Events"})}),e.jsx("div",{id:"Events_Table",className:"w-full",children:e.jsx(h.Provider,{value:{total:M,page:1,SetPage:()=>L,getList:()=>d},children:e.jsx(f,{pageSize:6,tableData:N,columns:y})})})]})]}),e.jsx($,{modalOpen:v,setModalOpen:j,type:"event"})]})}const Le=[{label:" Map View",value:"Map View",icon:e.jsx(G,{})},{label:"Room View",value:"Room View",icon:e.jsx(J,{})}],Me=[{label:"All Alerts",value:"All Alerts"},{label:"Critical",value:"Critical"},{label:"Warning",value:"Warning"},{label:"Informational",value:"Info"}];export{Me as activeAlertSegmentOptions,Le as alertViewSegmentOptions,Ee as default};
