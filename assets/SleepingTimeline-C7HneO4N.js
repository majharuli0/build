import{r as l,b7 as F,S as w,j as t,hW as k,g8 as a,io as N}from"./index-CBGCkdM2.js";import M from"./TimelineGraph-C6GVtAhH.js";import{T as W}from"./Template-BeP9FOB5.js";import{S as $}from"./SkeletonSleepingTimeline-Dfvlx564.js";import"./WeeklyMonthlyPicker-BgvzgC14.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3f3e0e0c-b355-4405-ac8f-3b6ba7b9f650",e._sentryDebugIdIdentifier="sentry-dbid-3f3e0e0c-b355-4405-ac8f-3b6ba7b9f650")}catch{}const s=({time:e,ItemName:n,color:m})=>t.jsxs("div",{className:"flex p-[4px] pr-4 items-center gap-2 rounded-xl",style:{backgroundColor:m||"#FF725E"},children:[t.jsx("span",{className:"text-[17px] p-2 py-1 font-bold bg-white rounded-[9px] text-primary",children:e}),t.jsx("span",{className:"text-[15px] font-medium text-white leading-[1.2]",children:n})]});function H(){var u,p,b,_,y,g,h,T;const{sleepData:e,elderlyDetails:n,sleepDataLoading:m}=l.useContext(F),{sleepEventsType:x,sleepEventsColor:f}=l.useContext(w),[o,E]=l.useState([]),I={title:"Sleep Timeline Summary",pickerTypes:["day","range"],chartType:"multibar",dataType:"duration",color:"#FF725E",icon:t.jsx(N,{}),apisProps:{endpoint:k,query:{uids:n==null?void 0:n.deviceId}}};function i(r){if(r==0)return"0m";if(r<60)return`${r}m`;const d=Math.floor(r/60),c=r%60;return`${d}hr ${c}m`}function A(r,d,c){const j={};return r.forEach(S=>{const v=S.status,C=d[v];j[v]={name:C,value:Number(S.value)||0,color:c[C]||"#CCCCCC"}}),j}return l.useEffect(()=>{if(e!=null&&e.sleep_index_common_list){const r=A(e.sleep_index_common_list,x,f);E(r)}},[e,x,f]),t.jsx(W,{title:"Sleep Timeline",color:"#FF725E",icon:t.jsx(N,{}),isDataAnalysis:!1,headerClassName:"!text-2xl",summaryProps:I,children:m?t.jsx($,{}):t.jsxs(t.Fragment,{children:[t.jsx(M,{statisticalData:e==null?void 0:e.statistical_data,enterBedTime:a(e==null?void 0:e.get_bed_idx),getupAfterTime:a(e==null?void 0:e.leave_bed_idx),noDataText:"No Data Detected for Today"}),t.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-center",children:[e&&(e==null?void 0:e.leave_bed_idx)&&t.jsx(s,{time:a(e==null?void 0:e.sleep_st_idx),ItemName:"Fell Asleep",color:"#AAA492"}),o&&o[1]&&t.jsx(s,{time:i((u=o[1])==null?void 0:u.value),ItemName:"Light Sleep",color:(p=o[1])==null?void 0:p.color}),o&&o[0]&&t.jsx(s,{time:i((b=o[0])==null?void 0:b.value),ItemName:"Deep Sleep",color:(_=o[0])==null?void 0:_.color}),o&&o[7]&&t.jsx(s,{time:i((y=o[7])==null?void 0:y.value),ItemName:"REM",color:(g=o[7])==null?void 0:g.color}),o&&o[2]&&t.jsx(s,{time:i((h=o[2])==null?void 0:h.value),ItemName:"Awake After Sleep",color:(T=o[2])==null?void 0:T.color}),e&&(e==null?void 0:e.leave_bed_count)&&t.jsx(s,{time:(e==null?void 0:e.leave_bed_count)+"x",ItemName:"Bed Exit After Sleep",color:"#FF725E"}),e&&(e==null?void 0:e.sleep_ed_idx)&&t.jsx(s,{time:a(e==null?void 0:e.sleep_ed_idx),ItemName:"Wake Up",color:"#AAA492"})]})]})})}export{H as default};
//# sourceMappingURL=SleepingTimeline-C7HneO4N.js.map
